webpackJsonp([0],{

/***/ 151:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_scss__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style_scss__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_directives__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_router__ = __webpack_require__(81);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.autostart=false;__WEBPACK_IMPORTED_MODULE_0_alight___default.a.bootstrap();__WEBPACK_IMPORTED_MODULE_6_router__["a" /* default */].resolve();

/***/ }),

/***/ 156:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 157:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__link__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__copy__ = __webpack_require__(398);


/***/ }),

/***/ 158:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_router__ = __webpack_require__(81);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.directives.al.link=function(scope,element,expression,env){$(element).on('click',function(event){event.preventDefault();event.stopPropagation();var link=$(this).attr('al-link')||$(this).attr('data-link');__WEBPACK_IMPORTED_MODULE_1_router__["a" /* default */].navigate(link);scope.activeRoute=link;scope.$scan();});};

/***/ }),

/***/ 159:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
var app={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.app=function(scope){console.log('App controller!');scope.activeRoute={};app.scope=scope;};/* harmony default export */ __webpack_exports__["a"] = (app);

/***/ }),

/***/ 160:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_js_sha256__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_models__ = __webpack_require__(39);
var main={scope:{}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.controllers.main=function(scope){console.log('Main controller!');scope.orders=__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */];scope.advs=[];scope.balance=0;scope.address='';scope.eth_exchange_rate='';scope.btc_exchange_rate='';scope.total_eth=0;scope.total_btc=0;scope.bitcoin_address=0;scope.min_withdraw_eth=0.01;scope.min_withdraw_btc=0.1;scope.my_setting={};scope.btcTransactions=[];scope.send_eth=function(modal){scope.saveApps();scope.$scan();__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sendTransactionEth(modal);// var m = $(modal)
// if (m.length > 0) {
//     m.modal('hide')
// }
};scope.send_btc=function(modal){scope.saveApps();scope.$scan();__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sendTransactionBtc(modal);// var m = $(modal)
// if (m.length > 0) {
//     m.modal('hide')
// }
};scope.saveApps=function(){var mySetting=JSON.stringify({'withdraw_eth_address':scope.withdraw_eth_address,'withdraw_btc_address':scope.withdraw_btc_address});localStorage.setItem('my_setting',mySetting);};scope.getCurrentExchangeRate=function(){try{__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.getJSON('https://noxonfund.com/curs.php',function(_ref){var price_btc=_ref.price_btc;scope.eth_exchange_rate=price_btc;scope.btc_exchange_rate=price_btc;scope.$scan();});}catch(e){console.log(e);}};scope.updateBalanceEth=function(){__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].web3.eth.getBalance(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address).then(function(r){scope.balance=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].web3.utils.fromWei(r);scope.address=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address;scope.bitcoin_address=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].bitcoinData.address;scope.updateBalanceBitcoin();scope.$scan();});};scope.updateBalanceBitcoin=function(){if(scope.bitcoin_address){var url='https://api.blocktrail.com/v1/tbtc/address/'+scope.bitcoin_address+'?api_key=MY_APIKEY';//  var url = 'https://api.blockcypher.com/v1/btc/main/addrs/'+scope.bitcoin_address
//bitcoin
__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.getJSON(url,function(r){try{scope.bitcoin_balance=r.balance/100000000;scope.$scan();}catch(e){console.log(e);}});}};scope.showError=function(msg){alert(msg);};// check if address was created
scope.check=function(){var address=''+scope.address;if(!address.length){scope.showError('Адрес не был сгенеррован');return false;}return true;};scope.createOrder=function(type){var id=__WEBPACK_IMPORTED_MODULE_2_js_sha256___default()(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address);// TODO replace with user public key
var order=new __WEBPACK_IMPORTED_MODULE_3_models__["a" /* Order */]({id:id,ownerAddress:__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address,currency1:'BTC',currency2:'ETH',currency1Amount:type==='buy'?scope.eth:scope.sell_eth,// TODO fix this
currency2Amount:type==='buy'?scope.btc:scope.sell_btc,// TODO fix this
exchangeRate:scope.eth_exchange_rate,// TODO fix this
type:type});console.log('order created:',order);__WEBPACK_IMPORTED_MODULE_3_models__["c" /* room */].sendMessage({data:order,type:'newOrder'});__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].append(order);localStorage.setItem('myOrders',JSON.stringify(__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].getOwnedByMe()));};// auth
scope.sign=function(){__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sign();scope.updateBalanceEth();};// scope.sell_checked = function () {
//   $('#sell_ch_active').attr('checked', function() {
//     if (parseMess.myAdvs) {
//       return parseMess.myAdvs.active
//     }
//
//     return true
//   })
// }
//
// scope.checked = function () {
//   $('#ch_active').attr('checked', function() {
//     if (parseMess.myAdvs) {
//       return parseMess.myAdvs.active
//     }
//
//     return true
//   })
// }
scope.checked=function(){__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#ch_active').attr('checked',function(){if(parseMess.myAdvs){return parseMess.myAdvs.active;}return true;});};scope.init=function(){var my_setting=localStorage.getItem('my_setting');if(my_setting){my_setting=JSON.parse(my_setting);scope.withdraw_eth_address=my_setting.withdraw_eth_address;scope.withdraw_btc_address=my_setting.withdraw_btc_address;}scope.total_btc=0;scope.total_eth=0;__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].items.forEach(function(_ref2){var type=_ref2.type,currency1Amount=_ref2.currency1Amount,currency2Amount=_ref2.currency2Amount;if(type==='buy'){scope.total_btc+=parseFloat(currency2Amount);}else{scope.total_eth+=parseFloat(currency1Amount);}});scope.$scan();};scope.init();scope.getCurrentExchangeRate();scope.sign();main.scope=scope;};// Filters
__WEBPACK_IMPORTED_MODULE_1_alight___default.a.filters.onlyBuy=function(items,scope){return items.filter(function(_ref3){var type=_ref3.type;return type==='buy';});};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.filters.onlySell=function(items,scope){return items.filter(function(_ref4){var type=_ref4.type;return type==='sell';});};// Hooks
__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_eth_exchange_rate={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.eth_exchange_rate=main.scope.eth_exchange_rate.match(/^[\d.]+$/);main.scope.btc=main.scope.eth*main.scope.eth_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_eth={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.eth=main.scope.eth.match(/^[\d.]+$/);main.scope.btc=main.scope.eth*main.scope.eth_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_btc={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.btc=main.scope.btc.match(/^[\d.]+$/);main.scope.eth=main.scope.btc/main.scope.eth_exchange_rate;main.scope.$scan();}//for sell
};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_btc_exchange_rate={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.btc_exchange_rate=main.scope.btc_exchange_rate.match(/^[\d.]+$/);main.scope.sell_btc=main.scope.sell_eth*main.scope.btc_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_sell_eth={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.sell_eth=main.scope.sell_eth.match(/^[\d.]+$/);main.scope.sell_btc=main.scope.sell_eth*main.scope.btc_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_sell_btc={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.sell_btc=main.scope.sell_btc.match(/^[\d.]+$/);main.scope.sell_eth=main.scope.sell_btc/main.scope.btc_exchange_rate;main.scope.$scan();}};/* harmony default export */ __webpack_exports__["a"] = (main);

/***/ }),

/***/ 163:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Order=/**
   *
   * ownerAddress
   * currency1
   * currency2
   * currency1Amount
   * currency2Amount
   * exchangeRate
   * type
   */function Order(data){var _this=this;_classCallCheck(this,Order);Object.keys(data).forEach(function(key){_this[key]=data[key];});};/* harmony default export */ __webpack_exports__["a"] = (Order);

/***/ }),

/***/ 164:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__user__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collection__ = __webpack_require__(358);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Orders=function(_Collection){_inherits(Orders,_Collection);function Orders(){_classCallCheck(this,Orders);var _this=_possibleConstructorReturn(this,(Orders.__proto__||Object.getPrototypeOf(Orders)).call(this));_this.onMount();return _this;}_createClass(Orders,[{key:'onMount',value:function onMount(){var _this2=this;var items=JSON.parse(localStorage.getItem('myOrders')||'[]');this.items=items;this.itemIds={};items.forEach(function(_ref,index){var id=_ref.id;return _this2.itemIds[id]=index;});}/**
   * id
   * ownerAddress
   * currency1
   * currency2
   * currency1Amount
   * currency2Amount
   * exchangeRate
   * type
   */},{key:'append',value:function append(data){_get(Orders.prototype.__proto__||Object.getPrototypeOf(Orders.prototype),'append',this).call(this,data,data.id);}},{key:'getOwnedByMe',value:function getOwnedByMe(){return this.items.filter(function(_ref2){var ownerAddress=_ref2.ownerAddress;return ownerAddress===__WEBPACK_IMPORTED_MODULE_0__user__["a" /* default */].data.address;});}}]);return Orders;}(__WEBPACK_IMPORTED_MODULE_1__Collection__["a" /* default */]);/* harmony default export */ __webpack_exports__["a"] = (new Orders());

/***/ }),

/***/ 182:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 213:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 215:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 249:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 356:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__showMess__ = __webpack_require__(357);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__showMess__["a"]; });


/***/ }),

/***/ 357:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var countModal=0;var showMess=function showMess(message,seconds,status){var status2=0;if(status===1||status==='success'||status==='info'){status2=1;}else if(status===2||status==='danger'||status==='error'){status2=2;}var modal=$('#MyPopup');if(modal.length>0){countModal++;var tnBox=modal.find('.tn-box:eq(0)').clone();modal.show();modal.append(tnBox);tnBox.find('p').html(message);tnBox.removeClass('tn-box-color-0');tnBox.removeClass('tn-box-color-1');tnBox.removeClass('tn-box-color-2');tnBox.addClass('tn-box-color-'+status2);tnBox.css({display:'block','-webkit-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-moz-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-o-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-ms-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','animation':'fadeOut '+(seconds+0.5)+'s linear forwards'});var progress=tnBox.find('.tn-progress');progress.css({'-webkit-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-moz-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-o-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-ms-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s'});setTimeout(function(){countModal--;tnBox.remove();if(countModal<=0){modal.hide();}},seconds*1000);}};/* harmony default export */ __webpack_exports__["a"] = (showMess);

/***/ }),

/***/ 358:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Collection=function(){function Collection(){_classCallCheck(this,Collection);this.items=[];this.itemIds={};}/**
   * Add item at the start of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */_createClass(Collection,[{key:"prepend",value:function prepend(item,key){this.items.unshift(item);if(key){for(var _key in this.itemIds){if(this.itemIds.hasOwnProperty(_key)){this.itemIds[_key]+=1;}}this.itemIds[key]=0;}return item;}/**
   * Add item at the end of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */},{key:"append",value:function append(item,key){this.items.push(item);if(key){this.itemIds[key]=this.items.length-1;}return item;}/**
   * Remove item by index from current collection
   * @param index
   * @returns {*}
   */},{key:"removeByIndex",value:function removeByIndex(index){this.items=this.items.splice(index,1);}/**
   * Remove item by key [id] from current collection
   * @param key {string|number}
   * @returns {*}
   */},{key:"removeByKey",value:function removeByKey(key){this.items=this.items.splice(this.itemIds[key],1);delete this.itemIds[key];}/**
   * Get index of item in current collection
   * @param item
   * @returns {number}
   */},{key:"indexOf",value:function indexOf(item){return this.items.indexOf(item);}/**
   * Get item by index from current collection
   * @param index
   * @returns {*}
   */},{key:"getByIndex",value:function getByIndex(index){return this.items[index];}/**
   * Get item by key [id] from current collection
   * @param key {string|number}
   * @returns {*}
   */},{key:"getByKey",value:function getByKey(key){return this.items[this.itemIds[key]];}/**
   * Check if item with such name exists in current collection
   * @param key {string|number}
   * @returns {boolean}
   */},{key:"isExist",value:function isExist(key){return Boolean(this.getByKey(key));}/**
   * Get length of current collection
   * @returns {Number}
   */},{key:"length",get:function get(){return this.items.length;}}]);return Collection;}();/* harmony default export */ __webpack_exports__["a"] = (Collection);

/***/ }),

/***/ 359:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room__ = __webpack_require__(360);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_models__ = __webpack_require__(39);
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Room=function(){function Room(){var _this=this;_classCallCheck(this,Room);this.handleSubscribe=function(){console.info('Now connected!');};this.handleNewMessage=function(message){var data=JSON.parse(message.data.toString());if(data&&data.length){console.log('New message data:',_extends({},message,{data:data}));data.forEach(function(_ref){var type=_ref.type,data=_ref.data;console.log('Message of type '+type+':',data);if(type==='newOrder'){__WEBPACK_IMPORTED_MODULE_1_models__["b" /* orders */].append(data);}});}};this.handleNewUserConnected=function(peer){console.info('New peer:',peer);var myOrders=__WEBPACK_IMPORTED_MODULE_1_models__["b" /* orders */].getOwnedByMe();if(myOrders.length){_this.connection.sendTo(peer,JSON.stringify(myOrders));}};this.connection=null;}_createClass(Room,[{key:'connect',value:function connect(ipfsConnection){this.connection=__WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room___default()(ipfsConnection,'jswaps',{pollInterval:5000});this.connection.on('message',this.handleNewMessage);this.connection.on('peer joined',this.handleNewUserConnected);this.connection.on('subscribed',this.handleSubscribe);}},{key:'sendMessage',value:function sendMessage(message){this.connection.broadcast(JSON.stringify(message));}}]);return Room;}();var room=new Room();var ipfsConnection=new Ipfs({EXPERIMENTAL:{pubsub:true},config:{Addresses:{Swarm:['/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star']}}});ipfsConnection.on('ready',function(){return room.connect(ipfsConnection);});/* harmony default export */ __webpack_exports__["a"] = (room);

/***/ }),

/***/ 38:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__app__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__main__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__history__ = __webpack_require__(390);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ethToBtc__ = __webpack_require__(391);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__btcToEth__ = __webpack_require__(392);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__app__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__main__["a"]; });
/* unused harmony reexport history */
/* unused harmony reexport ethToBtc */
/* unused harmony reexport btcToEth */


/***/ }),

/***/ 39:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Order__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__orders__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__room__ = __webpack_require__(359);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user__ = __webpack_require__(82);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__Order__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__orders__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__room__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__user__["a"]; });


/***/ }),

/***/ 390:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_models__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);
var history={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.history=function(scope){console.log('history controller!');scope.sign=function(){__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].sign();};scope.refreshBTCTransaction=function(){if(__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].bitcoinData.address){var url='https://api.blocktrail.com/v1/tbtc/address/'+__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].bitcoinData.address+'/transactions?api_key=MY_APIKEY';var total=0;__WEBPACK_IMPORTED_MODULE_2_jquery___default.a.getJSON(url,function(r){history.scope.btcTransactions=r.data;__WEBPACK_IMPORTED_MODULE_2_jquery___default.a.each(r.data,function(k,i){console.log(i);});history.scope.$scan();});}else{console.log('bitcoin_address is missing');}};scope.sign();scope.refreshBTCTransaction();history.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (history);

/***/ }),

/***/ 391:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
var ethToBtc={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.ethToBtc=function(scope){console.log('ETH to BTC controller!');ethToBtc.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (ethToBtc);

/***/ }),

/***/ 392:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_swap_crypto__ = __webpack_require__(393);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_models__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_swaps__ = __webpack_require__(394);
var btcToEth={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.btcToEth=function(scope){console.log('BTC to ETH controller!');var orderId=__WEBPACK_IMPORTED_MODULE_2_controllers__["a" /* app */].scope.activeRoute.params.id;var order=__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].getByKey(orderId);console.log('Order:',order);scope.data={order:order,secret:'c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078',secretHash:'',btcScriptAddress:'0x0dsgsdhsdhsddsh',waitingForUser:false,step:1};scope.goNextStep=function(){scope.data.step++;if(scope.data.step===2){scope.data.secretHash=__WEBPACK_IMPORTED_MODULE_1_swap_crypto__["a" /* default */].ripemd160(scope.data.secret);}else if(scope.data.step===3){scope.data.waitingForUser=true;}else if(scope.data.step===4){}scope.$scan();};btcToEth.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (btcToEth);

/***/ }),

/***/ 393:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto__);
/*
 secret        c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078
 secretHash    c0933f9be51a284acb6b1a6617a48d795bdeaa80
 */var ripemd160=function ripemd160(value){return __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto___default.a.ripemd160(Buffer.from(value,'hex')).toString('hex');};/* harmony default export */ __webpack_exports__["a"] = ({ripemd160:ripemd160});
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1).Buffer))

/***/ }),

/***/ 394:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__btcSwap__ = __webpack_require__(395);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ethSwap__ = __webpack_require__(396);
/* unused harmony reexport btcSwap */
/* unused harmony reexport ethSwap */


/***/ }),

/***/ 395:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib__);
var testnetUtils={};// TODO HOW?
var utcNow=function utcNow(){return Math.floor(Date.now()/1000);};var lockTime=utcNow()+3600*3;// 3 days from now
var createScript=function createScript(btcOwnerSecretHash,btcOwnerPublicKey,ethOwnerPublicKey){return __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.compile([btcOwnerPublicKey,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKSIG,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_IF,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.number.encode(lockTime),__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKLOCKTIMEVERIFY,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_ENDIF,ethOwnerPublicKey,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKSIG,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_IF,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_RIPEMD160,Buffer.from(btcOwnerSecretHash,'hex'),__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_EQUALVERIFY,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_ENDIF]);};var addMoney=function addMoney(script,amount){return new Promise(function(resolve,reject){var scriptPubKey=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.output.encode(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.crypto.hash160(script));var scriptAddress=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.address.fromOutputScript(scriptPubKey,testnet);testnetUtils.faucet(scriptAddress,amount,function(err,unspent){if(err){console.log('fund error:',err);reject();return;}resolve();});});};var withdraw=function withdraw(script,unspent,secret,withdrawAddress){return new Promise(function(resolve,reject){var hashType=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.Transaction.SIGHASH_ALL;var tx=new __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.TransactionBuilder(testnet);tx.setLockTime(lockTime);tx.addInput(unspent.txId,unspent.vout,0xfffffffe);tx.addOutput(withdrawAddress,1e4);var txRaw=tx.buildIncomplete();var signatureHash=txRaw.hashForSignature(0,script,hashType);var ethOwnerSignature=ethOwner.sign(signatureHash).toScriptSignature(hashType);var scriptSig=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.input.encode([ethOwnerSignature,Buffer.from(secret,'hex')],script);txRaw.setInputScript(0,scriptSig);var txId=txRaw.getId();console.log('final txid',txId);console.log('final txRaw',txRaw);testnetUtils.transactions.propagate(txRaw.toHex(),function(smth,result){console.log('result',result);if(result){resolve();}else{reject();}});});};var refund=function refund(script,unspent,secret,refundAddress){return new Promise(function(resolve,reject){var hashType=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.Transaction.SIGHASH_ALL;var tx=new __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.TransactionBuilder(testnet);tx.setLockTime(lockTime);tx.addInput(unspent.txId,unspent.vout,0xfffffffe);tx.addOutput(refundAddress,1e4);var txRaw=tx.buildIncomplete();var signatureHash=txRaw.hashForSignature(0,script,hashType);var btcOwnerSignature=btcOwner.sign(signatureHash).toScriptSignature(hashType);var scriptSig=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.input.encode([btcOwnerSignature,Buffer.from(secret,'hex')],script);txRaw.setInputScript(0,scriptSig);var txId=txRaw.getId();console.log('final txid',txId);console.log('final txRaw',txRaw);testnetUtils.transactions.propagate(txRaw.toHex(),function(smth,result){console.log('result',result);if(result){resolve();}else{reject();}});});};/* unused harmony default export */ var _unused_webpack_default_export = ({createScript:createScript,addMoney:addMoney,withdraw:withdraw,refund:refund});
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1).Buffer))

/***/ }),

/***/ 396:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony default export */ var _unused_webpack_default_export = ({});

/***/ }),

/***/ 398:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.directives.al.copy=function(scope,element,expression,env){$(element).on('click',function(event){event.preventDefault();event.stopPropagation();try{// современный объект Selection
window.getSelection().removeAllRanges();}catch(e){// для IE8-
document.selection.empty();}if(document.selection){var range=document.body.createTextRange();range.moveToElementText(this);range.select().createTextRange();document.execCommand("Copy");}else if(window.getSelection){var _range=document.createRange();_range.selectNode(this);console.log(_range);window.getSelection().addRange(_range);document.execCommand("Copy");alert("text copied");}});};

/***/ }),

/***/ 81:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_navigo__ = __webpack_require__(397);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_navigo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_navigo__);
var _router$on$on$on,_router$on$on,_router$on;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}var router=new __WEBPACK_IMPORTED_MODULE_1_navigo___default.a(null,true,'#');var bind=function bind(path){return[path,function(params,query){console.log('Route changed to '+path);__WEBPACK_IMPORTED_MODULE_0_controllers__["a" /* app */].scope.activeRoute={path:path,params:params,query:query};__WEBPACK_IMPORTED_MODULE_0_controllers__["a" /* app */].scope.$scan();}];};(_router$on$on$on=(_router$on$on=(_router$on=router.on.apply(router,_toConsumableArray(bind('/')))).on.apply(_router$on,_toConsumableArray(bind('/history')))).on.apply(_router$on$on,_toConsumableArray(bind('/btc-to-eth/:id')))).on.apply(_router$on$on$on,_toConsumableArray(bind('/eth-to-btc/:id')));/* harmony default export */ __webpack_exports__["a"] = (router);

/***/ }),

/***/ 82:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_web3__ = __webpack_require__(165);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_web3___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_web3__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigi__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigi___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bigi__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_helpers__ = __webpack_require__(356);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var User=function(){function User(){_classCallCheck(this,User);this.web3=new __WEBPACK_IMPORTED_MODULE_0_web3___default.a(new __WEBPACK_IMPORTED_MODULE_0_web3___default.a.providers.HttpProvider("https://ropsten.infura.io/JCnK5ifEPH9qcQkX0Ahl"));this.data={};this.bitcoinData={};}_createClass(User,[{key:'sendTransactionEth',value:function sendTransactionEth(modal){var _this=this;this.web3.eth.getBalance(this.data.address).then(function(r){try{__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance=_this.web3.utils.fromWei(r);if(!__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance){// throw new Error('Ваш баланс пуст')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Ваш баланс пуст',5,0);return false;}if(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance<__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_amount){// throw new Error('На вашем балансе недостаточно средств')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('На вашем балансе недостаточно средств',5,0);return false;}if(!_this.web3.utils.isAddress(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_address)){// throw new Error('Не верный адрес')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Не верный адрес',5,0);return false;}var t={from:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.address,to:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_address,gas:"21000",gasPrice:"20000000000",value:_this.web3.utils.toWei(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_amount.toString())};_this.web3.eth.accounts.signTransaction(t,localStorage.getItem('privateKey')).then(function(result){return _this.web3.eth.sendSignedTransaction(result.rawTransaction);}).then(function(receipt){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Good',5,1);console.log('good');var m=$(modal);if(m.length>0){m.modal('hide');}}).catch(function(error){return console.error(error);});// this.web3.eth.sendTransaction({
//   from: main.scope.address,
//   to: main.scope.withdraw_eth_address,
//   amount: this.web3.utils.toWei(main.scope.withdraw_eth_amount.toString())
// }).then(function(err, resp) {
//   showMess('Error', 5, 0)
//   console.log(err)
//   console.log(resp)
// })
}catch(e){__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.showError(e);}});}},{key:'sendTransactionBtc',value:function sendTransactionBtc(modal){var _this2=this;var newtx={inputs:[{addresses:[__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.bitcoin_address]}],outputs:[{addresses:[__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_address],value:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_amount*100000000}]};if(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_amount>__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.bitcoin_balance){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('На вашем балансе недостаточно средств',5,0);// alert('На вашем балансе недостаточно средств')
return false;}$.post('https://api.blockcypher.com/v1/btc/test3/txs/new',JSON.stringify(newtx)).then(function(d){// convert response body to JSON
var tmptx=d;// attribute to store public keys
tmptx.pubkeys=[];// build signer from WIF
var keys=new __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.ECPair.fromWIF(_this2.bitcoinData.keyPair.toWIF(),__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.networks.testnet);// iterate and sign each transaction and add it in signatures while store corresponding public key in pubkeys
tmptx.signatures=tmptx.tosign.map(function(tosign,n){tmptx.pubkeys.push(keys.getPublicKeyBuffer().toString('hex'));return keys.sign(__WEBPACK_IMPORTED_MODULE_2_bigi___default.a.fromHex(tosign.toString('hex')).toBuffer()).toDER().toString('hex');});$.post('https://api.blockcypher.com/v1/btc/test3/txs/send',JSON.stringify(tmptx)).then(function(r){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Платеж прошел',5,1);console.log(r);var m=$(modal);if(m.length>0){m.modal('hide');}});});// const txb = new bitcoin.TransactionBuilder(bitcoin.networks.testnet)
//
// //https://api.blocktrail.com/v1/btc/address/17hFoVScNKVDfDTT6vVhjYwvCu6iDEiXC4/transactions?api_key=MY_APIKEY
// url = 'https://api.blocktrail.com/v1/tbtc/address/'+main.scope.bitcoin_address+'/unspent-outputs?api_key=MY_APIKEY'
// jQuery.getJSON(url, (r) => {
//   txb.addInput(r.data[0].hash, 1)
//   txb.addOutput(main.scope.withdraw_btc_address, main.scope.withdraw_btc_amount * 100000000)
//   txb.sign(0, this.bitcoinData.keyPair)
//
//   const pushtx = {
//     tx: txb.build().toHex()
//   }
//
//   $.post('https://api.blockcypher.com/v1/btc/test3/txs/push', JSON.stringify(pushtx)).then(function (r) {
//
//     console.log(r)
//   })
//
// })
}},{key:'sign',value:function sign(){var retrievedObject=localStorage.getItem('privateKey');if(retrievedObject){try{this.data=this.web3.eth.accounts.privateKeyToAccount(retrievedObject);this.signBitcoin(retrievedObject);}catch(e){console.error('2 user cant login');console.error(e);}}else{try{this.data=this.web3.eth.accounts.create();localStorage.setItem('privateKey',this.data.privateKey);this.signBitcoin(this.data.privateKey);}catch(e){console.error('1 user cant login');console.error(e);}}}},{key:'signBitcoin',value:function signBitcoin(key){// const publicKey = key
// const publicKeyHash = bitcoin.crypto.hash160(publicKey)
// const address =  bitcoin.address.toBase58Check(publicKeyHash, bitcoin.networks.bitcoin.pubKeyHash)
// const address =  bitcoin.address.toBase58Check(publicKeyHash, bitcoin.networks.testnet.pubKeyHash)
var hash=__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.crypto.sha256(key);var d=__WEBPACK_IMPORTED_MODULE_2_bigi___default.a.fromBuffer(hash);var keyPair=new __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.ECPair(d,null,{network:__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.networks.testnet});var address=keyPair.getAddress();this.bitcoinData={address:address,keyPair:keyPair};}}]);return User;}();/* harmony default export */ __webpack_exports__["a"] = (new User());

/***/ })

},[151]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpcmVjdGl2ZXMvbGluay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvT3JkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9vcmRlcnMuanMiLCJ3ZWJwYWNrOi8vL2J1ZmZlciAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL3V0aWwgKGlnbm9yZWQpIiwid2VicGFjazovLy91dGlsIChpZ25vcmVkKT9kOTE0Iiwid2VicGFjazovLy9jcnlwdG8gKGlnbm9yZWQpIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3Nob3dNZXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3Jvb20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2V0aFRvQnRjLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9idGNUb0V0aC5qcyIsIndlYnBhY2s6Ly8vLi9sb2NhbF9tb2R1bGVzL3N3YXAtY3J5cHRvLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2Fwcy9idGNTd2FwLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2Fwcy9ldGhTd2FwLmpzIiwid2VicGFjazovLy8uL3NyYy9kaXJlY3RpdmVzL2NvcHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3VzZXIuanMiXSwibmFtZXMiOlsiYWxpZ2h0IiwiYXV0b3N0YXJ0IiwiYm9vdHN0cmFwIiwicm91dGVyIiwicmVzb2x2ZSIsImRpcmVjdGl2ZXMiLCJhbCIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJleHByZXNzaW9uIiwiZW52IiwiJCIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImF0dHIiLCJuYXZpZ2F0ZSIsImFjdGl2ZVJvdXRlIiwiJHNjYW4iLCJhcHAiLCJjb250cm9sbGVycyIsImNvbnNvbGUiLCJsb2ciLCJtYWluIiwib3JkZXJzIiwiYWR2cyIsImJhbGFuY2UiLCJhZGRyZXNzIiwiZXRoX2V4Y2hhbmdlX3JhdGUiLCJidGNfZXhjaGFuZ2VfcmF0ZSIsInRvdGFsX2V0aCIsInRvdGFsX2J0YyIsImJpdGNvaW5fYWRkcmVzcyIsIm1pbl93aXRoZHJhd19ldGgiLCJtaW5fd2l0aGRyYXdfYnRjIiwibXlfc2V0dGluZyIsImJ0Y1RyYW5zYWN0aW9ucyIsInNlbmRfZXRoIiwibW9kYWwiLCJzYXZlQXBwcyIsInVzZXIiLCJzZW5kVHJhbnNhY3Rpb25FdGgiLCJzZW5kX2J0YyIsInNlbmRUcmFuc2FjdGlvbkJ0YyIsIm15U2V0dGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3aXRoZHJhd19ldGhfYWRkcmVzcyIsIndpdGhkcmF3X2J0Y19hZGRyZXNzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEN1cnJlbnRFeGNoYW5nZVJhdGUiLCJnZXRKU09OIiwicHJpY2VfYnRjIiwiZSIsInVwZGF0ZUJhbGFuY2VFdGgiLCJ3ZWIzIiwiZXRoIiwiZ2V0QmFsYW5jZSIsImRhdGEiLCJ0aGVuIiwiciIsInV0aWxzIiwiZnJvbVdlaSIsImJpdGNvaW5EYXRhIiwidXBkYXRlQmFsYW5jZUJpdGNvaW4iLCJ1cmwiLCJiaXRjb2luX2JhbGFuY2UiLCJzaG93RXJyb3IiLCJtc2ciLCJhbGVydCIsImNoZWNrIiwibGVuZ3RoIiwiY3JlYXRlT3JkZXIiLCJ0eXBlIiwiaWQiLCJzaGEyNTYiLCJvcmRlciIsIk9yZGVyIiwib3duZXJBZGRyZXNzIiwiY3VycmVuY3kxIiwiY3VycmVuY3kyIiwiY3VycmVuY3kxQW1vdW50Iiwic2VsbF9ldGgiLCJjdXJyZW5jeTJBbW91bnQiLCJidGMiLCJzZWxsX2J0YyIsImV4Y2hhbmdlUmF0ZSIsInJvb20iLCJzZW5kTWVzc2FnZSIsImFwcGVuZCIsImdldE93bmVkQnlNZSIsInNpZ24iLCJjaGVja2VkIiwicGFyc2VNZXNzIiwibXlBZHZzIiwiYWN0aXZlIiwiaW5pdCIsImdldEl0ZW0iLCJwYXJzZSIsIml0ZW1zIiwiZm9yRWFjaCIsInBhcnNlRmxvYXQiLCJmaWx0ZXJzIiwib25seUJ1eSIsImZpbHRlciIsIm9ubHlTZWxsIiwiaG9va3MiLCJldmVudE1vZGlmaWVyIiwiY2hhbmdlX2V0aF9leGNoYW5nZV9yYXRlIiwiZm4iLCJtYXRjaCIsImNoYW5nZV9ldGgiLCJjaGFuZ2VfYnRjIiwiY2hhbmdlX2J0Y19leGNoYW5nZV9yYXRlIiwiY2hhbmdlX3NlbGxfZXRoIiwiY2hhbmdlX3NlbGxfYnRjIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsIk9yZGVycyIsIm9uTW91bnQiLCJpdGVtSWRzIiwiaW5kZXgiLCJjb3VudE1vZGFsIiwic2hvd01lc3MiLCJtZXNzYWdlIiwic2Vjb25kcyIsInN0YXR1cyIsInN0YXR1czIiLCJ0bkJveCIsImZpbmQiLCJjbG9uZSIsInNob3ciLCJodG1sIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNzcyIsImRpc3BsYXkiLCJwcm9ncmVzcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJoaWRlIiwiQ29sbGVjdGlvbiIsIml0ZW0iLCJ1bnNoaWZ0IiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwic3BsaWNlIiwiaW5kZXhPZiIsIkJvb2xlYW4iLCJnZXRCeUtleSIsIlJvb20iLCJoYW5kbGVTdWJzY3JpYmUiLCJpbmZvIiwiaGFuZGxlTmV3TWVzc2FnZSIsInRvU3RyaW5nIiwiaGFuZGxlTmV3VXNlckNvbm5lY3RlZCIsInBlZXIiLCJteU9yZGVycyIsImNvbm5lY3Rpb24iLCJzZW5kVG8iLCJpcGZzQ29ubmVjdGlvbiIsIklwZnNSb29tIiwicG9sbEludGVydmFsIiwiYnJvYWRjYXN0IiwiSXBmcyIsIkVYUEVSSU1FTlRBTCIsInB1YnN1YiIsImNvbmZpZyIsIkFkZHJlc3NlcyIsIlN3YXJtIiwiY29ubmVjdCIsImhpc3RvcnkiLCJyZWZyZXNoQlRDVHJhbnNhY3Rpb24iLCJ0b3RhbCIsImVhY2giLCJrIiwiaSIsImV0aFRvQnRjIiwiYnRjVG9FdGgiLCJvcmRlcklkIiwicGFyYW1zIiwic2VjcmV0Iiwic2VjcmV0SGFzaCIsImJ0Y1NjcmlwdEFkZHJlc3MiLCJ3YWl0aW5nRm9yVXNlciIsInN0ZXAiLCJnb05leHRTdGVwIiwiY3J5cHRvIiwicmlwZW1kMTYwIiwidmFsdWUiLCJCdWZmZXIiLCJmcm9tIiwidGVzdG5ldFV0aWxzIiwidXRjTm93IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImxvY2tUaW1lIiwiY3JlYXRlU2NyaXB0IiwiYnRjT3duZXJTZWNyZXRIYXNoIiwiYnRjT3duZXJQdWJsaWNLZXkiLCJldGhPd25lclB1YmxpY0tleSIsImJpdGNvaW4iLCJzY3JpcHQiLCJjb21waWxlIiwib3Bjb2RlcyIsIk9QX0NIRUNLU0lHIiwiT1BfSUYiLCJudW1iZXIiLCJlbmNvZGUiLCJPUF9DSEVDS0xPQ0tUSU1FVkVSSUZZIiwiT1BfRU5ESUYiLCJPUF9SSVBFTUQxNjAiLCJPUF9FUVVBTFZFUklGWSIsImFkZE1vbmV5IiwiYW1vdW50IiwiUHJvbWlzZSIsInJlamVjdCIsInNjcmlwdFB1YktleSIsInNjcmlwdEhhc2giLCJvdXRwdXQiLCJoYXNoMTYwIiwic2NyaXB0QWRkcmVzcyIsImZyb21PdXRwdXRTY3JpcHQiLCJ0ZXN0bmV0IiwiZmF1Y2V0IiwiZXJyIiwidW5zcGVudCIsIndpdGhkcmF3Iiwid2l0aGRyYXdBZGRyZXNzIiwiaGFzaFR5cGUiLCJUcmFuc2FjdGlvbiIsIlNJR0hBU0hfQUxMIiwidHgiLCJUcmFuc2FjdGlvbkJ1aWxkZXIiLCJzZXRMb2NrVGltZSIsImFkZElucHV0IiwidHhJZCIsInZvdXQiLCJhZGRPdXRwdXQiLCJ0eFJhdyIsImJ1aWxkSW5jb21wbGV0ZSIsInNpZ25hdHVyZUhhc2giLCJoYXNoRm9yU2lnbmF0dXJlIiwiZXRoT3duZXJTaWduYXR1cmUiLCJldGhPd25lciIsInRvU2NyaXB0U2lnbmF0dXJlIiwic2NyaXB0U2lnIiwiaW5wdXQiLCJzZXRJbnB1dFNjcmlwdCIsImdldElkIiwidHJhbnNhY3Rpb25zIiwicHJvcGFnYXRlIiwidG9IZXgiLCJzbXRoIiwicmVzdWx0IiwicmVmdW5kIiwicmVmdW5kQWRkcmVzcyIsImJ0Y093bmVyU2lnbmF0dXJlIiwiYnRjT3duZXIiLCJjb3B5Iiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiZG9jdW1lbnQiLCJzZWxlY3Rpb24iLCJlbXB0eSIsInJhbmdlIiwiYm9keSIsImNyZWF0ZVRleHRSYW5nZSIsIm1vdmVUb0VsZW1lbnRUZXh0Iiwic2VsZWN0IiwiZXhlY0NvbW1hbmQiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGUiLCJhZGRSYW5nZSIsIk5hdmlnbyIsImJpbmQiLCJwYXRoIiwicXVlcnkiLCJVc2VyIiwiV2ViMyIsInByb3ZpZGVycyIsIkh0dHBQcm92aWRlciIsIndpdGhkcmF3X2V0aF9hbW91bnQiLCJpc0FkZHJlc3MiLCJ0IiwidG8iLCJnYXMiLCJnYXNQcmljZSIsInRvV2VpIiwiYWNjb3VudHMiLCJzaWduVHJhbnNhY3Rpb24iLCJzZW5kU2lnbmVkVHJhbnNhY3Rpb24iLCJyYXdUcmFuc2FjdGlvbiIsInJlY2VpcHQiLCJtIiwiY2F0Y2giLCJlcnJvciIsIm5ld3R4IiwiaW5wdXRzIiwiYWRkcmVzc2VzIiwib3V0cHV0cyIsIndpdGhkcmF3X2J0Y19hbW91bnQiLCJwb3N0IiwiZCIsInRtcHR4IiwicHVia2V5cyIsIkVDUGFpciIsImZyb21XSUYiLCJrZXlQYWlyIiwidG9XSUYiLCJuZXR3b3JrcyIsInNpZ25hdHVyZXMiLCJ0b3NpZ24iLCJtYXAiLCJuIiwiZ2V0UHVibGljS2V5QnVmZmVyIiwiQmlnSW50ZWdlciIsImZyb21IZXgiLCJ0b0J1ZmZlciIsInRvREVSIiwicmV0cmlldmVkT2JqZWN0IiwicHJpdmF0ZUtleVRvQWNjb3VudCIsInNpZ25CaXRjb2luIiwiY3JlYXRlIiwicHJpdmF0ZUtleSIsImhhc2giLCJmcm9tQnVmZmVyIiwibmV0d29yayIsImdldEFkZHJlc3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLDhDQUFBQSxDQUFPQyxTQUFQLENBQW1CLEtBQW5CLENBWUEsOENBQUFELENBQU9FLFNBQVAsR0FDQSx1REFBQUMsQ0FBT0MsT0FBUCxHOzs7Ozs7O0FDZkEseUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0lBLDhDQUFBSixDQUFPSyxVQUFQLENBQWtCQyxFQUFsQixDQUFxQkMsSUFBckIsQ0FBNEIsU0FBVUMsS0FBVixDQUFpQkMsT0FBakIsQ0FBMEJDLFVBQTFCLENBQXNDQyxHQUF0QyxDQUEyQyxDQUNyRUMsRUFBRUgsT0FBRixFQUFXSSxFQUFYLENBQWMsT0FBZCxDQUF1QixTQUFVQyxLQUFWLENBQWlCLENBQ3RDQSxNQUFNQyxjQUFOLEdBQ0FELE1BQU1FLGVBQU4sR0FFQSxHQUFNVCxNQUFPSyxFQUFFLElBQUYsRUFBUUssSUFBUixDQUFhLFNBQWIsR0FBMkJMLEVBQUUsSUFBRixFQUFRSyxJQUFSLENBQWEsV0FBYixDQUF4QyxDQUVBLHVEQUFBZCxDQUFPZSxRQUFQLENBQWdCWCxJQUFoQixFQUNBQyxNQUFNVyxXQUFOLENBQW9CWixJQUFwQixDQUNBQyxNQUFNWSxLQUFOLEdBQ0QsQ0FURCxFQVVELENBWEQsQzs7Ozs7Ozs7OztBQ0RBLEdBQU1DLEtBQU0sQ0FDVmIsTUFBTyxFQURHLENBQVosQ0FJQSw4Q0FBQVIsQ0FBT3NCLFdBQVAsQ0FBbUJELEdBQW5CLENBQXlCLFNBQVViLEtBQVYsQ0FBaUIsQ0FDeENlLFFBQVFDLEdBQVIsQ0FBWSxpQkFBWixFQUVBaEIsTUFBTVcsV0FBTixDQUFvQixFQUFwQixDQUVBRSxJ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R0FBSTVHLENBQUEscURBQUFBLENBQVEwRyxNQUFaLENBQW1CSCxDQUFuQixDQUFzQixJQUF0QixDQUE0QixDQUFDd0IsUUFBUyxxREFBQS9ILENBQVE4RyxRQUFSLENBQWlCeEYsT0FBM0IsQ0FBNUIsQ0FBbEIsQ0FDQSxHQUFNeE0sU0FBWThSLFFBQVFvQixVQUFSLEVBQWxCLENBRUEsS0FBSzdRLFdBQUwsQ0FBbUIsQ0FDakJyQyxlQURpQixDQUVqQjhSLGVBRmlCLENBQW5CLENBSUQsQyxvQkFJSCx5REFBZSxHQUFJOUIsS0FBSixFQUFmLEUiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5cbmFsaWdodC5hdXRvc3RhcnQgPSBmYWxzZVxuXG5cbmltcG9ydCAnYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3MnXG5pbXBvcnQgJ2Jvb3RzdHJhcC9kaXN0L2pzL2Jvb3RzdHJhcCdcbmltcG9ydCAnLi9zdHlsZS5zY3NzJ1xuXG5pbXBvcnQgJ2RpcmVjdGl2ZXMnXG5pbXBvcnQgJ2NvbnRyb2xsZXJzJ1xuaW1wb3J0IHJvdXRlciBmcm9tICdyb3V0ZXInXG5cblxuYWxpZ2h0LmJvb3RzdHJhcCgpXG5yb3V0ZXIucmVzb2x2ZSgpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3N0eWxlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDE1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcbmltcG9ydCByb3V0ZXIgZnJvbSAncm91dGVyJ1xuXG5cbmFsaWdodC5kaXJlY3RpdmVzLmFsLmxpbmsgPSBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGV4cHJlc3Npb24sIGVudikge1xuICAkKGVsZW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgbGluayA9ICQodGhpcykuYXR0cignYWwtbGluaycpIHx8ICQodGhpcykuYXR0cignZGF0YS1saW5rJylcblxuICAgIHJvdXRlci5uYXZpZ2F0ZShsaW5rKVxuICAgIHNjb3BlLmFjdGl2ZVJvdXRlID0gbGlua1xuICAgIHNjb3BlLiRzY2FuKClcbiAgfSlcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kaXJlY3RpdmVzL2xpbmsuanMiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcblxuXG5jb25zdCBhcHAgPSB7XG4gIHNjb3BlOiB7fSxcbn1cblxuYWxpZ2h0LmNvbnRyb2xsZXJzLmFwcCA9IGZ1bmN0aW9uIChzY29wZSkge1xuICBjb25zb2xlLmxvZygnQXBwIGNvbnRyb2xsZXIhJylcblxuICBzY29wZS5hY3RpdmVSb3V0ZSA9IHt9XG5cbiAgYXBwLnNjb3BlID0gc2NvcGVcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBhcHBcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVycy9hcHAuanMiLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcbmltcG9ydCBzaGEyNTYgZnJvbSAnanMtc2hhMjU2J1xuaW1wb3J0IHsgdXNlciwgcm9vbSwgT3JkZXIsIG9yZGVycyB9IGZyb20gJ21vZGVscydcblxuXG5jb25zdCBtYWluID0ge1xuICBzY29wZToge30sXG59XG5cbmFsaWdodC5jb250cm9sbGVycy5tYWluID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgY29uc29sZS5sb2coJ01haW4gY29udHJvbGxlciEnKVxuXG4gIHNjb3BlLm9yZGVycyA9IG9yZGVyc1xuICBzY29wZS5hZHZzID0gW11cbiAgc2NvcGUuYmFsYW5jZSA9IDBcbiAgc2NvcGUuYWRkcmVzcyA9ICcnXG4gIHNjb3BlLmV0aF9leGNoYW5nZV9yYXRlID0gJydcbiAgc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUgPSAnJ1xuICBzY29wZS50b3RhbF9ldGggPSAgMFxuICBzY29wZS50b3RhbF9idGMgPSAgMFxuICBzY29wZS5iaXRjb2luX2FkZHJlc3MgPSAwXG4gIHNjb3BlLm1pbl93aXRoZHJhd19ldGggPSAwLjAxXG4gIHNjb3BlLm1pbl93aXRoZHJhd19idGMgPSAwLjFcbiAgc2NvcGUubXlfc2V0dGluZyA9IHt9XG4gIHNjb3BlLmJ0Y1RyYW5zYWN0aW9ucyA9IFtdXG5cbiAgc2NvcGUuc2VuZF9ldGggPSBmdW5jdGlvbiAobW9kYWwpIHtcbiAgICBzY29wZS5zYXZlQXBwcygpXG4gICAgc2NvcGUuJHNjYW4oKVxuICAgIHVzZXIuc2VuZFRyYW5zYWN0aW9uRXRoKG1vZGFsKVxuXG4gICAgLy8gdmFyIG0gPSAkKG1vZGFsKVxuICAgIC8vIGlmIChtLmxlbmd0aCA+IDApIHtcbiAgICAvLyAgICAgbS5tb2RhbCgnaGlkZScpXG4gICAgLy8gfVxuICB9XG5cbiAgc2NvcGUuc2VuZF9idGMgPSBmdW5jdGlvbiAobW9kYWwpIHtcbiAgICBzY29wZS5zYXZlQXBwcygpXG4gICAgc2NvcGUuJHNjYW4oKVxuICAgIHVzZXIuc2VuZFRyYW5zYWN0aW9uQnRjKG1vZGFsKVxuXG4gICAgLy8gdmFyIG0gPSAkKG1vZGFsKVxuICAgIC8vIGlmIChtLmxlbmd0aCA+IDApIHtcbiAgICAvLyAgICAgbS5tb2RhbCgnaGlkZScpXG4gICAgLy8gfVxuICB9XG5cbiAgc2NvcGUuc2F2ZUFwcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbXlTZXR0aW5nID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgJ3dpdGhkcmF3X2V0aF9hZGRyZXNzJzogc2NvcGUud2l0aGRyYXdfZXRoX2FkZHJlc3MsXG4gICAgICAnd2l0aGRyYXdfYnRjX2FkZHJlc3MnOiBzY29wZS53aXRoZHJhd19idGNfYWRkcmVzcyxcbiAgICB9KVxuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215X3NldHRpbmcnLCAgbXlTZXR0aW5nKVxuICB9XG5cbiAgc2NvcGUuZ2V0Q3VycmVudEV4Y2hhbmdlUmF0ZSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgJC5nZXRKU09OKCdodHRwczovL25veG9uZnVuZC5jb20vY3Vycy5waHAnLCAoeyBwcmljZV9idGMgfSkgPT4ge1xuICAgICAgICBzY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZSA9IHByaWNlX2J0Y1xuICAgICAgICBzY29wZS5idGNfZXhjaGFuZ2VfcmF0ZSA9IHByaWNlX2J0Y1xuICAgICAgICBzY29wZS4kc2NhbigpXG4gICAgICB9KVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBzY29wZS51cGRhdGVCYWxhbmNlRXRoID0gZnVuY3Rpb24gKCkge1xuICAgIHVzZXIud2ViMy5ldGguZ2V0QmFsYW5jZSh1c2VyLmRhdGEuYWRkcmVzcykudGhlbihmdW5jdGlvbiAocikge1xuXG4gICAgICBzY29wZS5iYWxhbmNlID0gdXNlci53ZWIzLnV0aWxzLmZyb21XZWkocik7XG4gICAgICBzY29wZS5hZGRyZXNzID0gdXNlci5kYXRhLmFkZHJlc3M7XG4gICAgICBzY29wZS5iaXRjb2luX2FkZHJlc3MgPSB1c2VyLmJpdGNvaW5EYXRhLmFkZHJlc3M7XG4gICAgICBcbiAgICAgIHNjb3BlLnVwZGF0ZUJhbGFuY2VCaXRjb2luKCk7XG4gICAgICBzY29wZS4kc2NhbigpO1xuICAgIH0pXG4gIH1cblxuICBzY29wZS51cGRhdGVCYWxhbmNlQml0Y29pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2NvcGUuYml0Y29pbl9hZGRyZXNzKSB7XG4gICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkuYmxvY2t0cmFpbC5jb20vdjEvdGJ0Yy9hZGRyZXNzLyR7c2NvcGUuYml0Y29pbl9hZGRyZXNzfT9hcGlfa2V5PU1ZX0FQSUtFWWBcbiAgICAgIC8vICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLmJsb2NrY3lwaGVyLmNvbS92MS9idGMvbWFpbi9hZGRycy8nK3Njb3BlLmJpdGNvaW5fYWRkcmVzc1xuXG4gICAgICAvL2JpdGNvaW5cbiAgICAgICQuZ2V0SlNPTih1cmwsIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2NvcGUuYml0Y29pbl9iYWxhbmNlID0gci5iYWxhbmNlIC8gMTAwMDAwMDAwXG4gICAgICAgICAgc2NvcGUuJHNjYW4oKVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBzY29wZS5zaG93RXJyb3IgPSAobXNnKSA9PiB7XG4gICAgYWxlcnQobXNnKVxuICB9XG5cbiAgLy8gY2hlY2sgaWYgYWRkcmVzcyB3YXMgY3JlYXRlZFxuICBzY29wZS5jaGVjayA9ICgpID0+IHtcbiAgICBjb25zdCBhZGRyZXNzID0gJycgKyBzY29wZS5hZGRyZXNzXG5cbiAgICBpZiAoIWFkZHJlc3MubGVuZ3RoKSB7XG4gICAgICBzY29wZS5zaG93RXJyb3IoJ9CQ0LTRgNC10YEg0L3QtSDQsdGL0Lsg0YHQs9C10L3QtdGA0YDQvtCy0LDQvScpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2NvcGUuY3JlYXRlT3JkZXIgPSAodHlwZSkgPT4ge1xuICAgIGNvbnN0IGlkID0gc2hhMjU2KHVzZXIuZGF0YS5hZGRyZXNzKSAvLyBUT0RPIHJlcGxhY2Ugd2l0aCB1c2VyIHB1YmxpYyBrZXlcbiAgICBjb25zdCBvcmRlciA9IG5ldyBPcmRlcih7XG4gICAgICBpZCxcbiAgICAgIG93bmVyQWRkcmVzczogdXNlci5kYXRhLmFkZHJlc3MsXG4gICAgICBjdXJyZW5jeTE6ICdCVEMnLFxuICAgICAgY3VycmVuY3kyOiAnRVRIJyxcbiAgICAgIGN1cnJlbmN5MUFtb3VudDogdHlwZSA9PT0gJ2J1eScgPyBzY29wZS5ldGggOiBzY29wZS5zZWxsX2V0aCwgLy8gVE9ETyBmaXggdGhpc1xuICAgICAgY3VycmVuY3kyQW1vdW50OiB0eXBlID09PSAnYnV5JyA/IHNjb3BlLmJ0YyA6IHNjb3BlLnNlbGxfYnRjLCAvLyBUT0RPIGZpeCB0aGlzXG4gICAgICBleGNoYW5nZVJhdGU6IHNjb3BlLmV0aF9leGNoYW5nZV9yYXRlLCAvLyBUT0RPIGZpeCB0aGlzXG4gICAgICB0eXBlLFxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygnb3JkZXIgY3JlYXRlZDonLCBvcmRlcilcblxuICAgIHJvb20uc2VuZE1lc3NhZ2Uoe1xuICAgICAgZGF0YTogb3JkZXIsXG4gICAgICB0eXBlOiAnbmV3T3JkZXInLFxuICAgIH0pXG4gICAgb3JkZXJzLmFwcGVuZChvcmRlcilcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteU9yZGVycycsIEpTT04uc3RyaW5naWZ5KG9yZGVycy5nZXRPd25lZEJ5TWUoKSkpXG4gIH1cblxuICAvLyBhdXRoXG4gIHNjb3BlLnNpZ24gPSAoKSA9PiB7XG4gICAgdXNlci5zaWduKClcbiAgICBzY29wZS51cGRhdGVCYWxhbmNlRXRoKClcbiAgfVxuXG4gIC8vIHNjb3BlLnNlbGxfY2hlY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gICAkKCcjc2VsbF9jaF9hY3RpdmUnKS5hdHRyKCdjaGVja2VkJywgZnVuY3Rpb24oKSB7XG4gIC8vICAgICBpZiAocGFyc2VNZXNzLm15QWR2cykge1xuICAvLyAgICAgICByZXR1cm4gcGFyc2VNZXNzLm15QWR2cy5hY3RpdmVcbiAgLy8gICAgIH1cbiAgLy9cbiAgLy8gICAgIHJldHVybiB0cnVlXG4gIC8vICAgfSlcbiAgLy8gfVxuICAvL1xuICAvLyBzY29wZS5jaGVja2VkID0gZnVuY3Rpb24gKCkge1xuICAvLyAgICQoJyNjaF9hY3RpdmUnKS5hdHRyKCdjaGVja2VkJywgZnVuY3Rpb24oKSB7XG4gIC8vICAgICBpZiAocGFyc2VNZXNzLm15QWR2cykge1xuICAvLyAgICAgICByZXR1cm4gcGFyc2VNZXNzLm15QWR2cy5hY3RpdmVcbiAgLy8gICAgIH1cbiAgLy9cbiAgLy8gICAgIHJldHVybiB0cnVlXG4gIC8vICAgfSlcbiAgLy8gfVxuXG4gIHNjb3BlLmNoZWNrZWQgPSAoKSA9PiB7XG4gICAgJCgnI2NoX2FjdGl2ZScpLmF0dHIoJ2NoZWNrZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwYXJzZU1lc3MubXlBZHZzKSB7XG4gICAgICAgIHJldHVybiBwYXJzZU1lc3MubXlBZHZzLmFjdGl2ZVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBteV9zZXR0aW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ215X3NldHRpbmcnKVxuXG4gICAgaWYgKG15X3NldHRpbmcpIHtcbiAgICAgIG15X3NldHRpbmcgPSBKU09OLnBhcnNlKG15X3NldHRpbmcpXG5cbiAgICAgIHNjb3BlLndpdGhkcmF3X2V0aF9hZGRyZXNzID0gbXlfc2V0dGluZy53aXRoZHJhd19ldGhfYWRkcmVzc1xuICAgICAgc2NvcGUud2l0aGRyYXdfYnRjX2FkZHJlc3MgPSBteV9zZXR0aW5nLndpdGhkcmF3X2J0Y19hZGRyZXNzXG4gICAgfVxuXG4gICAgc2NvcGUudG90YWxfYnRjID0gMFxuICAgIHNjb3BlLnRvdGFsX2V0aCA9IDBcblxuICAgIG9yZGVycy5pdGVtcy5mb3JFYWNoKCh7IHR5cGUsIGN1cnJlbmN5MUFtb3VudCwgY3VycmVuY3kyQW1vdW50IH0pID0+IHtcbiAgICAgIGlmICh0eXBlID09PSAnYnV5Jykge1xuICAgICAgICBzY29wZS50b3RhbF9idGMgKz0gcGFyc2VGbG9hdChjdXJyZW5jeTJBbW91bnQpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2NvcGUudG90YWxfZXRoICs9IHBhcnNlRmxvYXQoY3VycmVuY3kxQW1vdW50KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBzY29wZS4kc2NhbigpXG4gIH1cblxuICBzY29wZS5pbml0KClcbiAgc2NvcGUuZ2V0Q3VycmVudEV4Y2hhbmdlUmF0ZSgpXG4gIHNjb3BlLnNpZ24oKVxuXG4gIG1haW4uc2NvcGUgPSBzY29wZVxufVxuXG5cbi8vIEZpbHRlcnNcblxuYWxpZ2h0LmZpbHRlcnMub25seUJ1eSA9IChpdGVtcywgc2NvcGUpID0+XG4gIGl0ZW1zLmZpbHRlcigoeyB0eXBlIH0pID0+IHR5cGUgPT09ICdidXknKVxuXG5hbGlnaHQuZmlsdGVycy5vbmx5U2VsbCA9IChpdGVtcywgc2NvcGUpID0+XG4gIGl0ZW1zLmZpbHRlcigoeyB0eXBlIH0pID0+IHR5cGUgPT09ICdzZWxsJylcblxuXG4vLyBIb29rc1xuXG5hbGlnaHQuaG9va3MuZXZlbnRNb2RpZmllci5jaGFuZ2VfZXRoX2V4Y2hhbmdlX3JhdGUgPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZSA9IChtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlLm1hdGNoKC9eW1xcZC5dKyQvKSlcbiAgICBtYWluLnNjb3BlLmJ0YyA9IG1haW4uc2NvcGUuZXRoICptYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlXG5cbiAgICBtYWluLnNjb3BlLiRzY2FuKClcbiAgfVxufVxuXG5hbGlnaHQuaG9va3MuZXZlbnRNb2RpZmllci5jaGFuZ2VfZXRoID0ge1xuICBldmVudDogWyAnaW5wdXQnLCAnYmx1cicgXSxcbiAgZm46IChldmVudCwgZW52KSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdibHVyJykgcmV0dXJuXG4gICAgaWYgKCFtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlKSByZXR1cm5cblxuICAgIG1haW4uc2NvcGUuZXRoID0gKG1haW4uc2NvcGUuZXRoLm1hdGNoKC9eW1xcZC5dKyQvKSlcbiAgICBtYWluLnNjb3BlLmJ0YyA9IG1haW4uc2NvcGUuZXRoICptYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlXG5cbiAgICBtYWluLnNjb3BlLiRzY2FuKClcbiAgfVxufVxuXG5hbGlnaHQuaG9va3MuZXZlbnRNb2RpZmllci5jaGFuZ2VfYnRjID0ge1xuICBldmVudDogWyAnaW5wdXQnLCAnYmx1cicgXSxcbiAgZm46IChldmVudCwgZW52KSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdibHVyJykgcmV0dXJuXG4gICAgaWYgKCFtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlKSByZXR1cm5cblxuICAgIG1haW4uc2NvcGUuYnRjID0gKG1haW4uc2NvcGUuYnRjLm1hdGNoKC9eW1xcZC5dKyQvKSlcbiAgICBtYWluLnNjb3BlLmV0aCA9IG1haW4uc2NvcGUuYnRjIC8gbWFpbi5zY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZVxuXG4gICAgbWFpbi5zY29wZS4kc2NhbigpXG4gIH1cbn1cblxuLy9mb3Igc2VsbFxuYWxpZ2h0Lmhvb2tzLmV2ZW50TW9kaWZpZXIuY2hhbmdlX2J0Y19leGNoYW5nZV9yYXRlID0ge1xuICBldmVudDogWyAnaW5wdXQnLCAnYmx1cicgXSxcbiAgZm46IChldmVudCwgZW52KSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdibHVyJykgcmV0dXJuXG4gICAgaWYgKCFtYWluLnNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlKSByZXR1cm5cblxuICAgIG1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUgPSAobWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZS5tYXRjaCgvXltcXGQuXSskLykpXG4gICAgbWFpbi5zY29wZS5zZWxsX2J0YyA9IG1haW4uc2NvcGUuc2VsbF9ldGggKm1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9zZWxsX2V0aCA9IHtcbiAgZXZlbnQ6IFsgJ2lucHV0JywgJ2JsdXInIF0sXG4gIGZuOiAoZXZlbnQsIGVudikgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnYmx1cicpIHJldHVyblxuICAgIGlmICghbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZSkgcmV0dXJuXG5cbiAgICBtYWluLnNjb3BlLnNlbGxfZXRoID0gKG1haW4uc2NvcGUuc2VsbF9ldGgubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuc2VsbF9idGMgPSBtYWluLnNjb3BlLnNlbGxfZXRoICptYWluLnNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlXG5cbiAgICBtYWluLnNjb3BlLiRzY2FuKClcbiAgfVxufVxuXG5hbGlnaHQuaG9va3MuZXZlbnRNb2RpZmllci5jaGFuZ2Vfc2VsbF9idGMgPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5zZWxsX2J0YyA9IChtYWluLnNjb3BlLnNlbGxfYnRjLm1hdGNoKC9eW1xcZC5dKyQvKSlcbiAgICBtYWluLnNjb3BlLnNlbGxfZXRoID0gbWFpbi5zY29wZS5zZWxsX2J0YyAvIG1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGVcbiAgICBcbiAgICBtYWluLnNjb3BlLiRzY2FuKClcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IG1haW5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVycy9tYWluLmpzIiwiY2xhc3MgT3JkZXIge1xuXG4gIC8qKlxuICAgKlxuICAgKiBvd25lckFkZHJlc3NcbiAgICogY3VycmVuY3kxXG4gICAqIGN1cnJlbmN5MlxuICAgKiBjdXJyZW5jeTFBbW91bnRcbiAgICogY3VycmVuY3kyQW1vdW50XG4gICAqIGV4Y2hhbmdlUmF0ZVxuICAgKiB0eXBlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICB0aGlzW2tleV0gPSBkYXRhW2tleV1cbiAgICB9KVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbHMvT3JkZXIuanMiLCJpbXBvcnQgdXNlciBmcm9tICcuL3VzZXInXG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb24nXG5cblxuY2xhc3MgT3JkZXJzIGV4dGVuZHMgQ29sbGVjdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5vbk1vdW50KClcbiAgfVxuXG4gIG9uTW91bnQoKSB7XG4gICAgY29uc3QgaXRlbXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdteU9yZGVycycpIHx8ICdbXScpXG5cbiAgICB0aGlzLml0ZW1zID0gaXRlbXNcbiAgICB0aGlzLml0ZW1JZHMgPSB7fVxuXG4gICAgaXRlbXMuZm9yRWFjaCgoeyBpZCB9LCBpbmRleCkgPT4gdGhpcy5pdGVtSWRzW2lkXSA9IGluZGV4KVxuICB9XG5cbiAgLyoqXG4gICAqIGlkXG4gICAqIG93bmVyQWRkcmVzc1xuICAgKiBjdXJyZW5jeTFcbiAgICogY3VycmVuY3kyXG4gICAqIGN1cnJlbmN5MUFtb3VudFxuICAgKiBjdXJyZW5jeTJBbW91bnRcbiAgICogZXhjaGFuZ2VSYXRlXG4gICAqIHR5cGVcbiAgICovXG4gIGFwcGVuZChkYXRhKSB7XG4gICAgc3VwZXIuYXBwZW5kKGRhdGEsIGRhdGEuaWQpXG4gIH1cblxuICBnZXRPd25lZEJ5TWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKCh7IG93bmVyQWRkcmVzcyB9KSA9PiBvd25lckFkZHJlc3MgPT09IHVzZXIuZGF0YS5hZGRyZXNzKVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE9yZGVycygpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbW9kZWxzL29yZGVycy5qcyIsIi8qIChpZ25vcmVkKSAqL1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGJ1ZmZlciAoaWdub3JlZClcbi8vIG1vZHVsZSBpZCA9IDE4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiAoaWdub3JlZCkgKi9cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyB1dGlsIChpZ25vcmVkKVxuLy8gbW9kdWxlIGlkID0gMjEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIChpZ25vcmVkKSAqL1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIHV0aWwgKGlnbm9yZWQpXG4vLyBtb2R1bGUgaWQgPSAyMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogKGlnbm9yZWQpICovXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gY3J5cHRvIChpZ25vcmVkKVxuLy8gbW9kdWxlIGlkID0gMjQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImxldCBjb3VudE1vZGFsID0gMFxuXG5jb25zdCBzaG93TWVzcyA9IChtZXNzYWdlLCBzZWNvbmRzLCBzdGF0dXMpID0+IHtcbiAgbGV0IHN0YXR1czIgPSAwXG4gIFxuICBpZiAoc3RhdHVzID09PSAxIHx8IHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnIHx8IHN0YXR1cyA9PT0gJ2luZm8nKSB7XG4gICAgc3RhdHVzMiA9IDFcbiAgfVxuICBlbHNlIGlmIChzdGF0dXMgPT09IDIgfHwgc3RhdHVzID09PSAnZGFuZ2VyJyB8fCBzdGF0dXMgPT09ICdlcnJvcicpe1xuICAgIHN0YXR1czIgPSAyXG4gIH1cbiAgXG4gIGNvbnN0IG1vZGFsID0gJCgnI015UG9wdXAnKVxuICBcbiAgaWYgKG1vZGFsLmxlbmd0aCA+IDApIHtcbiAgICBjb3VudE1vZGFsKytcblxuICAgIGNvbnN0IHRuQm94ID0gbW9kYWwuZmluZCgnLnRuLWJveDplcSgwKScpLmNsb25lKClcblxuICAgIG1vZGFsLnNob3coKVxuICAgIG1vZGFsLmFwcGVuZCh0bkJveClcblxuICAgIHRuQm94LmZpbmQoJ3AnKS5odG1sKG1lc3NhZ2UpXG4gICAgdG5Cb3gucmVtb3ZlQ2xhc3MoJ3RuLWJveC1jb2xvci0wJylcbiAgICB0bkJveC5yZW1vdmVDbGFzcygndG4tYm94LWNvbG9yLTEnKVxuICAgIHRuQm94LnJlbW92ZUNsYXNzKCd0bi1ib3gtY29sb3ItMicpXG4gICAgdG5Cb3guYWRkQ2xhc3MoJ3RuLWJveC1jb2xvci0nICsgc3RhdHVzMilcbiAgICB0bkJveC5jc3Moe1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICctd2Via2l0LWFuaW1hdGlvbic6ICdmYWRlT3V0ICcrKHNlY29uZHMgKyAwLjUpKydzIGxpbmVhciBmb3J3YXJkcycsXG4gICAgICAnLW1vei1hbmltYXRpb24nOiAnZmFkZU91dCAnKyhzZWNvbmRzICsgMC41KSsncyBsaW5lYXIgZm9yd2FyZHMnLFxuICAgICAgJy1vLWFuaW1hdGlvbic6ICdmYWRlT3V0ICcrKHNlY29uZHMgKyAwLjUpKydzIGxpbmVhciBmb3J3YXJkcycsXG4gICAgICAnLW1zLWFuaW1hdGlvbic6ICdmYWRlT3V0ICcrKHNlY29uZHMgKyAwLjUpKydzIGxpbmVhciBmb3J3YXJkcycsXG4gICAgICAnYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSB0bkJveC5maW5kKCcudG4tcHJvZ3Jlc3MnKVxuXG4gICAgcHJvZ3Jlc3MuY3NzKHtcbiAgICAgICctd2Via2l0LWFuaW1hdGlvbic6ICdydW5Qcm9ncmVzcyAnKyhzZWNvbmRzIC0gMSkrJ3MgbGluZWFyIGZvcndhcmRzIDAuNXMnLFxuICAgICAgJy1tb3otYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgICAnLW8tYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgICAnLW1zLWFuaW1hdGlvbic6ICdydW5Qcm9ncmVzcyAnKyhzZWNvbmRzIC0gMSkrJ3MgbGluZWFyIGZvcndhcmRzIDAuNXMnLFxuICAgICAgJ2FuaW1hdGlvbic6ICdydW5Qcm9ncmVzcyAnKyhzZWNvbmRzIC0gMSkrJ3MgbGluZWFyIGZvcndhcmRzIDAuNXMnLFxuICAgIH0pXG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvdW50TW9kYWwtLVxuICAgICAgdG5Cb3gucmVtb3ZlKClcbiAgICAgIGlmIChjb3VudE1vZGFsIDw9IDApIHtcbiAgICAgICAgbW9kYWwuaGlkZSgpXG4gICAgICB9XG4gICAgfSwgKHNlY29uZHMgKiAxMDAwKSlcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHNob3dNZXNzXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaGVscGVycy9zaG93TWVzcy5qcyIsImNsYXNzIENvbGxlY3Rpb24ge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaXRlbXMgPSBbXVxuICAgIHRoaXMuaXRlbUlkcyA9IHt9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGl0ZW0gYXQgdGhlIHN0YXJ0IG9mIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gaXRlbVxuICAgKiBAcGFyYW0ga2V5IHtzdHJpbmd8bnVtYmVyfVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHByZXBlbmQoaXRlbSwga2V5KSB7XG4gICAgdGhpcy5pdGVtcy51bnNoaWZ0KGl0ZW0pXG4gICAgaWYgKGtleSkge1xuICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuaXRlbUlkcykge1xuICAgICAgICBpZiAodGhpcy5pdGVtSWRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB0aGlzLml0ZW1JZHNba2V5XSArPSAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaXRlbUlkc1trZXldID0gMFxuICAgIH1cbiAgICByZXR1cm4gaXRlbVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBpdGVtIGF0IHRoZSBlbmQgb2YgY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBpdGVtXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgYXBwZW5kKGl0ZW0sIGtleSkge1xuICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKVxuICAgIGlmIChrZXkpIHtcbiAgICAgIHRoaXMuaXRlbUlkc1trZXldID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxXG4gICAgfVxuICAgIHJldHVybiBpdGVtXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGl0ZW0gYnkgaW5kZXggZnJvbSBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGluZGV4XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcmVtb3ZlQnlJbmRleChpbmRleCkge1xuICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgaXRlbSBieSBrZXkgW2lkXSBmcm9tIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0ga2V5IHtzdHJpbmd8bnVtYmVyfVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIHJlbW92ZUJ5S2V5KGtleSkge1xuICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNwbGljZSh0aGlzLml0ZW1JZHNba2V5XSwgMSlcbiAgICBkZWxldGUgdGhpcy5pdGVtSWRzW2tleV1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgaXRlbSBpbiBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGl0ZW1cbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGluZGV4T2YoaXRlbSkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaXRlbSBieSBpbmRleCBmcm9tIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBnZXRCeUluZGV4KGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNbaW5kZXhdXG4gIH1cblxuICAvKipcbiAgICogR2V0IGl0ZW0gYnkga2V5IFtpZF0gZnJvbSBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGtleSB7c3RyaW5nfG51bWJlcn1cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBnZXRCeUtleShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtc1t0aGlzLml0ZW1JZHNba2V5XV1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBpdGVtIHdpdGggc3VjaCBuYW1lIGV4aXN0cyBpbiBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGtleSB7c3RyaW5nfG51bWJlcn1cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0V4aXN0KGtleSkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuZ2V0QnlLZXkoa2V5KSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbGVuZ3RoIG9mIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGhcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IENvbGxlY3Rpb25cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbHMvQ29sbGVjdGlvbi5qcyIsImltcG9ydCBJcGZzUm9vbSBmcm9tICdpcGZzLXB1YnN1Yi1yb29tJ1xuaW1wb3J0IHsgb3JkZXJzIH0gZnJvbSAnbW9kZWxzJ1xuXG5cbmNsYXNzIFJvb20ge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGxcbiAgfVxuXG4gIGNvbm5lY3QoaXBmc0Nvbm5lY3Rpb24pIHtcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBJcGZzUm9vbShpcGZzQ29ubmVjdGlvbiwgJ2pzd2FwcycsIHtcbiAgICAgIHBvbGxJbnRlcnZhbDogNTAwMCxcbiAgICB9KVxuXG4gICAgdGhpcy5jb25uZWN0aW9uLm9uKCdtZXNzYWdlJywgdGhpcy5oYW5kbGVOZXdNZXNzYWdlKVxuICAgIHRoaXMuY29ubmVjdGlvbi5vbigncGVlciBqb2luZWQnLCB0aGlzLmhhbmRsZU5ld1VzZXJDb25uZWN0ZWQpXG4gICAgdGhpcy5jb25uZWN0aW9uLm9uKCdzdWJzY3JpYmVkJywgdGhpcy5oYW5kbGVTdWJzY3JpYmUpXG4gIH1cblxuICBoYW5kbGVTdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgY29uc29sZS5pbmZvKCdOb3cgY29ubmVjdGVkIScpXG4gIH1cblxuICBoYW5kbGVOZXdNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEudG9TdHJpbmcoKSlcblxuICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmxvZyhgTmV3IG1lc3NhZ2UgZGF0YTpgLCB7IC4uLm1lc3NhZ2UsIGRhdGEgfSlcblxuICAgICAgZGF0YS5mb3JFYWNoKCh7IHR5cGUsIGRhdGEgfSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgTWVzc2FnZSBvZiB0eXBlICR7dHlwZX06YCwgZGF0YSlcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ25ld09yZGVyJykge1xuICAgICAgICAgIG9yZGVycy5hcHBlbmQoZGF0YSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVOZXdVc2VyQ29ubmVjdGVkID0gKHBlZXIpID0+IHtcbiAgICBjb25zb2xlLmluZm8oJ05ldyBwZWVyOicsIHBlZXIpXG5cbiAgICBjb25zdCBteU9yZGVycyA9IG9yZGVycy5nZXRPd25lZEJ5TWUoKVxuXG4gICAgaWYgKG15T3JkZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRUbyhwZWVyLCBKU09OLnN0cmluZ2lmeShteU9yZGVycykpXG4gICAgfVxuICB9XG5cbiAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHRoaXMuY29ubmVjdGlvbi5icm9hZGNhc3QoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpXG4gIH1cbn1cblxuY29uc3Qgcm9vbSA9IG5ldyBSb29tKClcblxuXG5jb25zdCBpcGZzQ29ubmVjdGlvbiA9IG5ldyBJcGZzKHtcbiAgRVhQRVJJTUVOVEFMOiB7XG4gICAgcHVic3ViOiB0cnVlLFxuICB9LFxuICBjb25maWc6IHtcbiAgICBBZGRyZXNzZXM6IHtcbiAgICAgIFN3YXJtOiBbXG4gICAgICAgICcvZG5zNC93cy1zdGFyLmRpc2NvdmVyeS5saWJwMnAuaW8vdGNwLzQ0My93c3MvcDJwLXdlYnNvY2tldC1zdGFyJyxcbiAgICAgIF0sXG4gICAgfSxcbiAgfSxcbn0pXG5cbmlwZnNDb25uZWN0aW9uLm9uKCdyZWFkeScsICgpID0+IHJvb20uY29ubmVjdChpcGZzQ29ubmVjdGlvbikpXG5cblxuZXhwb3J0IGRlZmF1bHQgcm9vbVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21vZGVscy9yb29tLmpzIiwiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5pbXBvcnQge3VzZXIsIHJvb219IGZyb20gJ21vZGVscydcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSdcbmNvbnN0IGhpc3RvcnkgPSB7XG4gIHNjb3BlOiB7fSxcbn1cblxuYWxpZ2h0LmNvbnRyb2xsZXJzLmhpc3RvcnkgPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgY29uc29sZS5sb2coJ2hpc3RvcnkgY29udHJvbGxlciEnKVxuXG4gIHNjb3BlLnNpZ24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdXNlci5zaWduKClcbiAgfVxuXG4gIHNjb3BlLnJlZnJlc2hCVENUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh1c2VyLmJpdGNvaW5EYXRhLmFkZHJlc3MpIHtcbiAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5ibG9ja3RyYWlsLmNvbS92MS90YnRjL2FkZHJlc3MvJyArIHVzZXIuYml0Y29pbkRhdGEuYWRkcmVzcyArICcvdHJhbnNhY3Rpb25zP2FwaV9rZXk9TVlfQVBJS0VZJ1xuXG4gICAgICBsZXQgdG90YWwgPSAwXG5cbiAgICAgICQuZ2V0SlNPTih1cmwsIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIGhpc3Rvcnkuc2NvcGUuYnRjVHJhbnNhY3Rpb25zID0gci5kYXRhXG5cbiAgICAgICAgJC5lYWNoKHIuZGF0YSwgZnVuY3Rpb24gKGssIGkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhpKVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaGlzdG9yeS5zY29wZS4kc2NhbigpXG5cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdiaXRjb2luX2FkZHJlc3MgaXMgbWlzc2luZycpXG4gICAgfVxuICB9XG5cbiAgc2NvcGUuc2lnbigpXG4gIHNjb3BlLnJlZnJlc2hCVENUcmFuc2FjdGlvbigpXG5cbiAgaGlzdG9yeS5zY29wZSA9IHNjb3BlXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgaGlzdG9yeVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXJzL2hpc3RvcnkuanMiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcblxuXG5jb25zdCBldGhUb0J0YyA9IHtcbiAgc2NvcGU6IHt9LFxufVxuXG5hbGlnaHQuY29udHJvbGxlcnMuZXRoVG9CdGMgPSBmdW5jdGlvbihzY29wZSkge1xuICBjb25zb2xlLmxvZygnRVRIIHRvIEJUQyBjb250cm9sbGVyIScpXG5cblxuICBldGhUb0J0Yy5zY29wZSA9IHNjb3BlXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgZXRoVG9CdGNcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVycy9ldGhUb0J0Yy5qcyIsImltcG9ydCBhbGlnaHQgZnJvbSAnYWxpZ2h0J1xuaW1wb3J0IGNyeXB0byBmcm9tICdzd2FwLWNyeXB0bydcbmltcG9ydCB7IGFwcCB9IGZyb20gJ2NvbnRyb2xsZXJzJ1xuaW1wb3J0IHsgb3JkZXJzIH0gZnJvbSAnbW9kZWxzJ1xuaW1wb3J0IHsgRVRIU3dhcCwgQlRDU3dhcCB9IGZyb20gJ3N3YXBzJ1xuXG5cbmNvbnN0IGJ0Y1RvRXRoID0ge1xuICBzY29wZToge30sXG59XG5cbmFsaWdodC5jb250cm9sbGVycy5idGNUb0V0aCA9IGZ1bmN0aW9uKHNjb3BlKSB7XG4gIGNvbnNvbGUubG9nKCdCVEMgdG8gRVRIIGNvbnRyb2xsZXIhJylcblxuICBjb25zdCB7IHBhcmFtczogeyBpZDogb3JkZXJJZCB9IH0gPSBhcHAuc2NvcGUuYWN0aXZlUm91dGVcblxuICBjb25zdCBvcmRlciA9IG9yZGVycy5nZXRCeUtleShvcmRlcklkKVxuXG4gIGNvbnNvbGUubG9nKCdPcmRlcjonLCBvcmRlcilcblxuICBzY29wZS5kYXRhID0ge1xuICAgIG9yZGVyLFxuICAgIHNlY3JldDogJ2MwODA5Y2U5ZjQ4NGZkY2RmYjJkNWFhYmQ2MDk3NjhjZTAzNzRlZTk3YTFhNTYxOGNlNGNkM2YxNmMwMGEwNzgnLFxuICAgIHNlY3JldEhhc2g6ICcnLFxuICAgIGJ0Y1NjcmlwdEFkZHJlc3M6ICcweDBkc2dzZGhzZGhzZGRzaCcsXG4gICAgd2FpdGluZ0ZvclVzZXI6IGZhbHNlLFxuICAgIHN0ZXA6IDEsXG4gIH1cblxuICBzY29wZS5nb05leHRTdGVwID0gKCkgPT4ge1xuICAgIHNjb3BlLmRhdGEuc3RlcCsrO1xuXG4gICAgaWYgKHNjb3BlLmRhdGEuc3RlcCA9PT0gMikge1xuICAgICAgc2NvcGUuZGF0YS5zZWNyZXRIYXNoID0gY3J5cHRvLnJpcGVtZDE2MChzY29wZS5kYXRhLnNlY3JldClcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NvcGUuZGF0YS5zdGVwID09PSAzKSB7XG4gICAgICBzY29wZS5kYXRhLndhaXRpbmdGb3JVc2VyID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NvcGUuZGF0YS5zdGVwID09PSA0KSB7XG5cbiAgICB9XG5cbiAgICBzY29wZS4kc2NhbigpXG4gIH1cblxuICBidGNUb0V0aC5zY29wZSA9IHNjb3BlXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgYnRjVG9FdGhcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVycy9idGNUb0V0aC5qcyIsImltcG9ydCBjcnlwdG8gZnJvbSAnYml0Y29pbmpzLWxpYi9zcmMvY3J5cHRvJ1xuXG5cbi8qXG4gc2VjcmV0ICAgICAgICBjMDgwOWNlOWY0ODRmZGNkZmIyZDVhYWJkNjA5NzY4Y2UwMzc0ZWU5N2ExYTU2MThjZTRjZDNmMTZjMDBhMDc4XG4gc2VjcmV0SGFzaCAgICBjMDkzM2Y5YmU1MWEyODRhY2I2YjFhNjYxN2E0OGQ3OTViZGVhYTgwXG4gKi9cbmNvbnN0IHJpcGVtZDE2MCA9ICh2YWx1ZSkgPT4gY3J5cHRvLnJpcGVtZDE2MChCdWZmZXIuZnJvbSh2YWx1ZSwgJ2hleCcpKS50b1N0cmluZygnaGV4JylcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJpcGVtZDE2MCxcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xvY2FsX21vZHVsZXMvc3dhcC1jcnlwdG8uanMiLCJpbXBvcnQgYml0Y29pbiBmcm9tICdiaXRjb2luanMtbGliJ1xuXG5jb25zdCB0ZXN0bmV0VXRpbHMgPSB7fSAvLyBUT0RPIEhPVz9cblxuXG5jb25zdCB1dGNOb3cgPSAoKSA9PiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKVxuY29uc3QgbG9ja1RpbWUgPSB1dGNOb3coKSArIDM2MDAgKiAzIC8vIDMgZGF5cyBmcm9tIG5vd1xuXG5cbmNvbnN0IGNyZWF0ZVNjcmlwdCA9IChidGNPd25lclNlY3JldEhhc2gsIGJ0Y093bmVyUHVibGljS2V5LCBldGhPd25lclB1YmxpY0tleSkgPT4ge1xuICByZXR1cm4gYml0Y29pbi5zY3JpcHQuY29tcGlsZShbXG4gICAgYnRjT3duZXJQdWJsaWNLZXksXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0NIRUNLU0lHLFxuXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0lGLFxuICAgIGJpdGNvaW4uc2NyaXB0Lm51bWJlci5lbmNvZGUobG9ja1RpbWUpLFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9DSEVDS0xPQ0tUSU1FVkVSSUZZLFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9FTkRJRixcblxuICAgIGV0aE93bmVyUHVibGljS2V5LFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9DSEVDS1NJRyxcblxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9JRixcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfUklQRU1EMTYwLFxuICAgIEJ1ZmZlci5mcm9tKGJ0Y093bmVyU2VjcmV0SGFzaCwgJ2hleCcpLFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9FUVVBTFZFUklGWSxcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfRU5ESUYsXG4gIF0pXG59XG5cbmNvbnN0IGFkZE1vbmV5ID0gKHNjcmlwdCwgYW1vdW50KSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc2NyaXB0UHViS2V5ICAgID0gYml0Y29pbi5zY3JpcHQuc2NyaXB0SGFzaC5vdXRwdXQuZW5jb2RlKGJpdGNvaW4uY3J5cHRvLmhhc2gxNjAoc2NyaXB0KSlcbiAgICBjb25zdCBzY3JpcHRBZGRyZXNzICAgPSBiaXRjb2luLmFkZHJlc3MuZnJvbU91dHB1dFNjcmlwdChzY3JpcHRQdWJLZXksIHRlc3RuZXQpXG5cbiAgICB0ZXN0bmV0VXRpbHMuZmF1Y2V0KHNjcmlwdEFkZHJlc3MsIGFtb3VudCwgZnVuY3Rpb24gKGVyciwgdW5zcGVudCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnZnVuZCBlcnJvcjonLCBlcnIpXG4gICAgICAgIHJlamVjdCgpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9KVxufVxuXG5jb25zdCB3aXRoZHJhdyA9IChzY3JpcHQsIHVuc3BlbnQsIHNlY3JldCwgd2l0aGRyYXdBZGRyZXNzKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgaGFzaFR5cGUgID0gYml0Y29pbi5UcmFuc2FjdGlvbi5TSUdIQVNIX0FMTFxuICAgIGNvbnN0IHR4ICAgICAgICA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uQnVpbGRlcih0ZXN0bmV0KVxuXG4gICAgdHguc2V0TG9ja1RpbWUobG9ja1RpbWUpXG4gICAgdHguYWRkSW5wdXQodW5zcGVudC50eElkLCB1bnNwZW50LnZvdXQsIDB4ZmZmZmZmZmUpXG4gICAgdHguYWRkT3V0cHV0KHdpdGhkcmF3QWRkcmVzcywgMWU0KVxuXG4gICAgY29uc3QgdHhSYXcgICAgICAgICAgICAgICA9IHR4LmJ1aWxkSW5jb21wbGV0ZSgpXG4gICAgY29uc3Qgc2lnbmF0dXJlSGFzaCAgICAgICA9IHR4UmF3Lmhhc2hGb3JTaWduYXR1cmUoMCwgc2NyaXB0LCBoYXNoVHlwZSlcbiAgICBjb25zdCBldGhPd25lclNpZ25hdHVyZSAgID0gZXRoT3duZXIuc2lnbihzaWduYXR1cmVIYXNoKS50b1NjcmlwdFNpZ25hdHVyZShoYXNoVHlwZSlcblxuICAgIGNvbnN0IHNjcmlwdFNpZyA9IGJpdGNvaW4uc2NyaXB0LnNjcmlwdEhhc2guaW5wdXQuZW5jb2RlKFxuICAgICAgW1xuICAgICAgICBldGhPd25lclNpZ25hdHVyZSxcbiAgICAgICAgQnVmZmVyLmZyb20oc2VjcmV0LCAnaGV4JyksXG4gICAgICBdLFxuICAgICAgc2NyaXB0XG4gICAgKVxuXG4gICAgdHhSYXcuc2V0SW5wdXRTY3JpcHQoMCwgc2NyaXB0U2lnKVxuXG4gICAgY29uc3QgdHhJZCA9IHR4UmF3LmdldElkKClcblxuICAgIGNvbnNvbGUubG9nKCdmaW5hbCB0eGlkJywgdHhJZClcbiAgICBjb25zb2xlLmxvZygnZmluYWwgdHhSYXcnLCB0eFJhdylcblxuICAgIHRlc3RuZXRVdGlscy50cmFuc2FjdGlvbnMucHJvcGFnYXRlKHR4UmF3LnRvSGV4KCksIChzbXRoLCByZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLCByZXN1bHQpXG5cbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVqZWN0KClcbiAgICAgIH1cbiAgICB9KVxuICB9KVxufVxuXG5jb25zdCByZWZ1bmQgPSAoc2NyaXB0LCB1bnNwZW50LCBzZWNyZXQsIHJlZnVuZEFkZHJlc3MpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBoYXNoVHlwZSAgPSBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMXG4gICAgY29uc3QgdHggICAgICAgID0gbmV3IGJpdGNvaW4uVHJhbnNhY3Rpb25CdWlsZGVyKHRlc3RuZXQpXG5cbiAgICB0eC5zZXRMb2NrVGltZShsb2NrVGltZSlcbiAgICB0eC5hZGRJbnB1dCh1bnNwZW50LnR4SWQsIHVuc3BlbnQudm91dCwgMHhmZmZmZmZmZSlcbiAgICB0eC5hZGRPdXRwdXQocmVmdW5kQWRkcmVzcywgMWU0KVxuXG4gICAgY29uc3QgdHhSYXcgICAgICAgICAgICAgICA9IHR4LmJ1aWxkSW5jb21wbGV0ZSgpXG4gICAgY29uc3Qgc2lnbmF0dXJlSGFzaCAgICAgICA9IHR4UmF3Lmhhc2hGb3JTaWduYXR1cmUoMCwgc2NyaXB0LCBoYXNoVHlwZSlcbiAgICBjb25zdCBidGNPd25lclNpZ25hdHVyZSAgID0gYnRjT3duZXIuc2lnbihzaWduYXR1cmVIYXNoKS50b1NjcmlwdFNpZ25hdHVyZShoYXNoVHlwZSlcblxuICAgIGNvbnN0IHNjcmlwdFNpZyA9IGJpdGNvaW4uc2NyaXB0LnNjcmlwdEhhc2guaW5wdXQuZW5jb2RlKFxuICAgICAgW1xuICAgICAgICBidGNPd25lclNpZ25hdHVyZSxcbiAgICAgICAgQnVmZmVyLmZyb20oc2VjcmV0LCAnaGV4JyksXG4gICAgICBdLFxuICAgICAgc2NyaXB0XG4gICAgKVxuXG4gICAgdHhSYXcuc2V0SW5wdXRTY3JpcHQoMCwgc2NyaXB0U2lnKVxuXG4gICAgY29uc3QgdHhJZCA9IHR4UmF3LmdldElkKClcblxuICAgIGNvbnNvbGUubG9nKCdmaW5hbCB0eGlkJywgdHhJZClcbiAgICBjb25zb2xlLmxvZygnZmluYWwgdHhSYXcnLCB0eFJhdylcblxuICAgIHRlc3RuZXRVdGlscy50cmFuc2FjdGlvbnMucHJvcGFnYXRlKHR4UmF3LnRvSGV4KCksIChzbXRoLCByZXN1bHQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLCByZXN1bHQpXG5cbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVqZWN0KClcbiAgICAgIH1cbiAgICB9KVxuICB9KVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlU2NyaXB0LFxuICBhZGRNb25leSxcbiAgd2l0aGRyYXcsXG4gIHJlZnVuZCxcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zd2Fwcy9idGNTd2FwLmpzIiwiZXhwb3J0IGRlZmF1bHQge1xuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3dhcHMvZXRoU3dhcC5qcyIsImltcG9ydCBhbGlnaHQgZnJvbSAnYWxpZ2h0J1xuXG5cbmFsaWdodC5kaXJlY3RpdmVzLmFsLmNvcHkgPSBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGV4cHJlc3Npb24sIGVudikge1xuICAkKGVsZW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vINGB0L7QstGA0LXQvNC10L3QvdGL0Lkg0L7QsdGK0LXQutGCIFNlbGVjdGlvblxuICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAvLyDQtNC70Y8gSUU4LVxuICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KClcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKClcbiAgICAgIHJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KHRoaXMpXG4gICAgICByYW5nZS5zZWxlY3QoKS5jcmVhdGVUZXh0UmFuZ2UoKVxuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJDb3B5XCIpXG4gICAgfVxuICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0aGlzKVxuICAgICAgY29uc29sZS5sb2cocmFuZ2UpXG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuYWRkUmFuZ2UocmFuZ2UpXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcIkNvcHlcIilcbiAgICAgIGFsZXJ0KFwidGV4dCBjb3BpZWRcIilcbiAgICB9XG4gIH0pXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGlyZWN0aXZlcy9jb3B5LmpzIiwiaW1wb3J0IHsgYXBwIH0gZnJvbSAnY29udHJvbGxlcnMnXG5pbXBvcnQgTmF2aWdvIGZyb20gJ25hdmlnbydcblxuXG5jb25zdCByb3V0ZXIgPSBuZXcgTmF2aWdvKG51bGwsIHRydWUsICcjJylcblxuY29uc3QgYmluZCA9IChwYXRoKSA9PiBbIHBhdGgsIChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gIGNvbnNvbGUubG9nKGBSb3V0ZSBjaGFuZ2VkIHRvICR7cGF0aH1gKVxuXG4gIGFwcC5zY29wZS5hY3RpdmVSb3V0ZSA9IHtcbiAgICBwYXRoLFxuICAgIHBhcmFtcyxcbiAgICBxdWVyeSxcbiAgfVxuICBhcHAuc2NvcGUuJHNjYW4oKVxufSBdXG5cbnJvdXRlclxuICAub24oLi4uYmluZCgnLycpKVxuICAub24oLi4uYmluZCgnL2hpc3RvcnknKSlcbiAgLm9uKC4uLmJpbmQoJy9idGMtdG8tZXRoLzppZCcpKVxuICAub24oLi4uYmluZCgnL2V0aC10by1idGMvOmlkJykpXG5cblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yb3V0ZXIuanMiLCJpbXBvcnQgV2ViMyBmcm9tICd3ZWIzJ1xuaW1wb3J0IGJpdGNvaW4gZnJvbSAnYml0Y29pbmpzLWxpYidcbmltcG9ydCBCaWdJbnRlZ2VyIGZyb20gJ2JpZ2knXG5pbXBvcnQgeyBtYWluIH0gZnJvbSAnY29udHJvbGxlcnMnXG5pbXBvcnQgeyBzaG93TWVzcyB9IGZyb20gJ2hlbHBlcnMnXG5cblxuY2xhc3MgVXNlciB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy53ZWIzID0gbmV3IFdlYjMobmV3IFdlYjMucHJvdmlkZXJzLkh0dHBQcm92aWRlcihcImh0dHBzOi8vcm9wc3Rlbi5pbmZ1cmEuaW8vSkNuSzVpZkVQSDlxY1FrWDBBaGxcIikpXG4gICAgdGhpcy5kYXRhID0ge31cbiAgICB0aGlzLmJpdGNvaW5EYXRhID0ge31cbiAgfVxuXG4gIHNlbmRUcmFuc2FjdGlvbkV0aChtb2RhbCkge1xuICAgIHRoaXMud2ViMy5ldGguZ2V0QmFsYW5jZSh0aGlzLmRhdGEuYWRkcmVzcykudGhlbigocikgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbWFpbi5zY29wZS5iYWxhbmNlID0gdGhpcy53ZWIzLnV0aWxzLmZyb21XZWkocilcblxuICAgICAgICBpZiAoIW1haW4uc2NvcGUuYmFsYW5jZSkge1xuICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcign0JLQsNGIINCx0LDQu9Cw0L3RgSDQv9GD0YHRgicpXG4gICAgICAgICAgc2hvd01lc3MoJ9CS0LDRiCDQsdCw0LvQsNC90YEg0L/Rg9GB0YInLCA1LCAwKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1haW4uc2NvcGUuYmFsYW5jZSA8IG1haW4uc2NvcGUud2l0aGRyYXdfZXRoX2Ftb3VudCkge1xuICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcign0J3QsCDQstCw0YjQtdC8INCx0LDQu9Cw0L3RgdC1INC90LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicpXG4gICAgICAgICAgc2hvd01lc3MoJ9Cd0LAg0LLQsNGI0LXQvCDQsdCw0LvQsNC90YHQtSDQvdC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YHRgNC10LTRgdGC0LInLCA1LCAwKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLndlYjMudXRpbHMuaXNBZGRyZXNzKG1haW4uc2NvcGUud2l0aGRyYXdfZXRoX2FkZHJlc3MpKSB7XG4gICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCfQndC1INCy0LXRgNC90YvQuSDQsNC00YDQtdGBJylcbiAgICAgICAgICBzaG93TWVzcygn0J3QtSDQstC10YDQvdGL0Lkg0LDQtNGA0LXRgScsIDUsIDApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ID0ge1xuICAgICAgICAgIGZyb206IG1haW4uc2NvcGUuYWRkcmVzcyxcbiAgICAgICAgICB0bzogbWFpbi5zY29wZS53aXRoZHJhd19ldGhfYWRkcmVzcyxcbiAgICAgICAgICBnYXM6IFwiMjEwMDBcIixcbiAgICAgICAgICBnYXNQcmljZTogXCIyMDAwMDAwMDAwMFwiLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLndlYjMudXRpbHMudG9XZWkobWFpbi5zY29wZS53aXRoZHJhd19ldGhfYW1vdW50LnRvU3RyaW5nKCkpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndlYjMuZXRoLmFjY291bnRzLnNpZ25UcmFuc2FjdGlvbih0LGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcml2YXRlS2V5JykpXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2ViMy5ldGguc2VuZFNpZ25lZFRyYW5zYWN0aW9uKHJlc3VsdC5yYXdUcmFuc2FjdGlvbilcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKChyZWNlaXB0KSA9PiB7XG4gICAgICAgICAgICBzaG93TWVzcygnR29vZCcsIDUsIDEpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb29kJylcblxuICAgICAgICAgICAgY29uc3QgbSA9ICQobW9kYWwpXG5cbiAgICAgICAgICAgIGlmIChtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgbS5tb2RhbCgnaGlkZScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpXG5cbiAgICAgICAgLy8gdGhpcy53ZWIzLmV0aC5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAvLyAgIGZyb206IG1haW4uc2NvcGUuYWRkcmVzcyxcbiAgICAgICAgLy8gICB0bzogbWFpbi5zY29wZS53aXRoZHJhd19ldGhfYWRkcmVzcyxcbiAgICAgICAgLy8gICBhbW91bnQ6IHRoaXMud2ViMy51dGlscy50b1dlaShtYWluLnNjb3BlLndpdGhkcmF3X2V0aF9hbW91bnQudG9TdHJpbmcoKSlcbiAgICAgICAgLy8gfSkudGhlbihmdW5jdGlvbihlcnIsIHJlc3ApIHtcbiAgICAgICAgLy8gICBzaG93TWVzcygnRXJyb3InLCA1LCAwKVxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICAvLyB9KVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgbWFpbi5zY29wZS5zaG93RXJyb3IoZSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc2VuZFRyYW5zYWN0aW9uQnRjKG1vZGFsKSB7XG4gICAgY29uc3QgbmV3dHggPSB7XG4gICAgICBpbnB1dHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGFkZHJlc3NlczogWyBtYWluLnNjb3BlLmJpdGNvaW5fYWRkcmVzcyBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIG91dHB1dHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGFkZHJlc3NlczogWyBtYWluLnNjb3BlLndpdGhkcmF3X2J0Y19hZGRyZXNzIF0sXG4gICAgICAgICAgdmFsdWU6IG1haW4uc2NvcGUud2l0aGRyYXdfYnRjX2Ftb3VudCAqIDEwMDAwMDAwMCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfVxuXG4gICAgaWYgKG1haW4uc2NvcGUud2l0aGRyYXdfYnRjX2Ftb3VudCA+IG1haW4uc2NvcGUuYml0Y29pbl9iYWxhbmNlKSB7XG4gICAgICBzaG93TWVzcygn0J3QsCDQstCw0YjQtdC8INCx0LDQu9Cw0L3RgdC1INC90LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicsIDUsIDApXG4gICAgICAvLyBhbGVydCgn0J3QsCDQstCw0YjQtdC8INCx0LDQu9Cw0L3RgdC1INC90LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAkLnBvc3QoJ2h0dHBzOi8vYXBpLmJsb2NrY3lwaGVyLmNvbS92MS9idGMvdGVzdDMvdHhzL25ldycsIEpTT04uc3RyaW5naWZ5KG5ld3R4KSlcbiAgICAgIC50aGVuKChkKSA9PiB7XG4gICAgICAgIC8vIGNvbnZlcnQgcmVzcG9uc2UgYm9keSB0byBKU09OXG4gICAgICAgIGxldCB0bXB0eCA9ICBkXG5cbiAgICAgICAgLy8gYXR0cmlidXRlIHRvIHN0b3JlIHB1YmxpYyBrZXlzXG4gICAgICAgIHRtcHR4LnB1YmtleXMgPSBbXVxuXG4gICAgICAgIC8vIGJ1aWxkIHNpZ25lciBmcm9tIFdJRlxuICAgICAgICBsZXQga2V5cyA9IG5ldyBiaXRjb2luLkVDUGFpci5mcm9tV0lGKHRoaXMuYml0Y29pbkRhdGEua2V5UGFpci50b1dJRigpLCAgYml0Y29pbi5uZXR3b3Jrcy50ZXN0bmV0KVxuXG4gICAgICAgIC8vIGl0ZXJhdGUgYW5kIHNpZ24gZWFjaCB0cmFuc2FjdGlvbiBhbmQgYWRkIGl0IGluIHNpZ25hdHVyZXMgd2hpbGUgc3RvcmUgY29ycmVzcG9uZGluZyBwdWJsaWMga2V5IGluIHB1YmtleXNcbiAgICAgICAgdG1wdHguc2lnbmF0dXJlcyA9IHRtcHR4LnRvc2lnbi5tYXAoKHRvc2lnbiwgbikgPT4ge1xuICAgICAgICAgIHRtcHR4LnB1YmtleXMucHVzaChrZXlzLmdldFB1YmxpY0tleUJ1ZmZlcigpLnRvU3RyaW5nKCdoZXgnKSk7XG5cbiAgICAgICAgICByZXR1cm4ga2V5cy5zaWduKEJpZ0ludGVnZXIuZnJvbUhleCh0b3NpZ24udG9TdHJpbmcoJ2hleCcpKS50b0J1ZmZlcigpKS50b0RFUigpLnRvU3RyaW5nKCdoZXgnKVxuICAgICAgICB9KVxuXG4gICAgICAgICQucG9zdCgnaHR0cHM6Ly9hcGkuYmxvY2tjeXBoZXIuY29tL3YxL2J0Yy90ZXN0My90eHMvc2VuZCcsSlNPTi5zdHJpbmdpZnkodG1wdHgpKS50aGVuKChyKSA9PiB7XG4gICAgICAgICAgc2hvd01lc3MoJ9Cf0LvQsNGC0LXQtiDQv9GA0L7RiNC10LsnLCA1LCAxKVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKHIpXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbSA9ICQobW9kYWwpXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbS5tb2RhbCgnaGlkZScpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgIC8vIGNvbnN0IHR4YiA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uQnVpbGRlcihiaXRjb2luLm5ldHdvcmtzLnRlc3RuZXQpXG4gICAgLy9cbiAgICAvLyAvL2h0dHBzOi8vYXBpLmJsb2NrdHJhaWwuY29tL3YxL2J0Yy9hZGRyZXNzLzE3aEZvVlNjTktWRGZEVFQ2dlZoall3dkN1NmlERWlYQzQvdHJhbnNhY3Rpb25zP2FwaV9rZXk9TVlfQVBJS0VZXG4gICAgLy8gdXJsID0gJ2h0dHBzOi8vYXBpLmJsb2NrdHJhaWwuY29tL3YxL3RidGMvYWRkcmVzcy8nK21haW4uc2NvcGUuYml0Y29pbl9hZGRyZXNzKycvdW5zcGVudC1vdXRwdXRzP2FwaV9rZXk9TVlfQVBJS0VZJ1xuICAgIC8vIGpRdWVyeS5nZXRKU09OKHVybCwgKHIpID0+IHtcbiAgICAvLyAgIHR4Yi5hZGRJbnB1dChyLmRhdGFbMF0uaGFzaCwgMSlcbiAgICAvLyAgIHR4Yi5hZGRPdXRwdXQobWFpbi5zY29wZS53aXRoZHJhd19idGNfYWRkcmVzcywgbWFpbi5zY29wZS53aXRoZHJhd19idGNfYW1vdW50ICogMTAwMDAwMDAwKVxuICAgIC8vICAgdHhiLnNpZ24oMCwgdGhpcy5iaXRjb2luRGF0YS5rZXlQYWlyKVxuICAgIC8vXG4gICAgLy8gICBjb25zdCBwdXNodHggPSB7XG4gICAgLy8gICAgIHR4OiB0eGIuYnVpbGQoKS50b0hleCgpXG4gICAgLy8gICB9XG4gICAgLy9cbiAgICAvLyAgICQucG9zdCgnaHR0cHM6Ly9hcGkuYmxvY2tjeXBoZXIuY29tL3YxL2J0Yy90ZXN0My90eHMvcHVzaCcsIEpTT04uc3RyaW5naWZ5KHB1c2h0eCkpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAvL1xuICAgIC8vICAgICBjb25zb2xlLmxvZyhyKVxuICAgIC8vICAgfSlcbiAgICAvL1xuICAgIC8vIH0pXG4gIH1cblxuICBzaWduKCkge1xuICAgIGNvbnN0IHJldHJpZXZlZE9iamVjdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcml2YXRlS2V5JylcblxuICAgIGlmIChyZXRyaWV2ZWRPYmplY3QpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMud2ViMy5ldGguYWNjb3VudHMucHJpdmF0ZUtleVRvQWNjb3VudChyZXRyaWV2ZWRPYmplY3QpXG5cbiAgICAgICAgdGhpcy5zaWduQml0Y29pbihyZXRyaWV2ZWRPYmplY3QpXG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCcyIHVzZXIgY2FudCBsb2dpbicpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMud2ViMy5ldGguYWNjb3VudHMuY3JlYXRlKClcblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJpdmF0ZUtleScsdGhpcy5kYXRhLnByaXZhdGVLZXkgKVxuICAgICAgICB0aGlzLnNpZ25CaXRjb2luKHRoaXMuZGF0YS5wcml2YXRlS2V5KVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignMSB1c2VyIGNhbnQgbG9naW4nKVxuICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2lnbkJpdGNvaW4oa2V5KSB7XG4gICAgLy8gY29uc3QgcHVibGljS2V5ID0ga2V5XG4gICAgLy8gY29uc3QgcHVibGljS2V5SGFzaCA9IGJpdGNvaW4uY3J5cHRvLmhhc2gxNjAocHVibGljS2V5KVxuICAgIC8vIGNvbnN0IGFkZHJlc3MgPSAgYml0Y29pbi5hZGRyZXNzLnRvQmFzZTU4Q2hlY2socHVibGljS2V5SGFzaCwgYml0Y29pbi5uZXR3b3Jrcy5iaXRjb2luLnB1YktleUhhc2gpXG4gICAgLy8gY29uc3QgYWRkcmVzcyA9ICBiaXRjb2luLmFkZHJlc3MudG9CYXNlNThDaGVjayhwdWJsaWNLZXlIYXNoLCBiaXRjb2luLm5ldHdvcmtzLnRlc3RuZXQucHViS2V5SGFzaClcblxuICAgIGNvbnN0IGhhc2ggICAgICA9IGJpdGNvaW4uY3J5cHRvLnNoYTI1NihrZXkpXG4gICAgY29uc3QgZCAgICAgICAgID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKGhhc2gpXG4gICAgY29uc3Qga2V5UGFpciAgID0gbmV3IGJpdGNvaW4uRUNQYWlyKGQsIG51bGwsIHtuZXR3b3JrOiBiaXRjb2luLm5ldHdvcmtzLnRlc3RuZXR9KVxuICAgIGNvbnN0IGFkZHJlc3MgICA9IGtleVBhaXIuZ2V0QWRkcmVzcygpXG5cbiAgICB0aGlzLmJpdGNvaW5EYXRhID0ge1xuICAgICAgYWRkcmVzcyxcbiAgICAgIGtleVBhaXIsXG4gICAgfVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFVzZXIoKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21vZGVscy91c2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==