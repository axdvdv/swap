webpackJsonp([0],{

/***/ 151:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_scss__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style_scss__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_directives__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_router__ = __webpack_require__(81);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.autostart=false;__WEBPACK_IMPORTED_MODULE_0_alight___default.a.bootstrap();__WEBPACK_IMPORTED_MODULE_6_router__["a" /* default */].resolve();

/***/ }),

/***/ 156:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 157:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__link__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__copy__ = __webpack_require__(398);


/***/ }),

/***/ 158:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_router__ = __webpack_require__(81);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.directives.al.link=function(scope,element,expression,env){$(element).on('click',function(event){event.preventDefault();event.stopPropagation();var link=$(this).attr('al-link')||$(this).attr('data-link');__WEBPACK_IMPORTED_MODULE_1_router__["a" /* default */].navigate(link);scope.activeRoute=link;scope.$scan();});};

/***/ }),

/***/ 159:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
var app={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.app=function(scope){console.log('App controller!');scope.activeRoute={};app.scope=scope;};/* harmony default export */ __webpack_exports__["a"] = (app);

/***/ }),

/***/ 160:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_js_sha256__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_models__ = __webpack_require__(39);
var main={scope:{}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.controllers.main=function(scope){console.log('Main controller!');scope.orders=__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */];scope.advs=[];scope.balance=0;scope.address='';scope.eth_exchange_rate='';scope.btc_exchange_rate='';scope.eth='';scope.btc='';scope.sell_eth='';scope.sell_btc='';scope.total_eth=0;scope.total_btc=0;scope.bitcoin_address=0;scope.min_withdraw_eth=0.01;scope.min_withdraw_btc=0.1;scope.my_setting={};scope.btcTransactions=[];scope.send_eth=function(modal){scope.saveApps();scope.$scan();__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sendTransactionEth(modal);// var m = $(modal)
// if (m.length > 0) {
//     m.modal('hide')
// }
};scope.send_btc=function(modal){scope.saveApps();scope.$scan();__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sendTransactionBtc(modal);// var m = $(modal)
// if (m.length > 0) {
//     m.modal('hide')
// }
};scope.saveApps=function(){var mySetting=JSON.stringify({'withdraw_eth_address':scope.withdraw_eth_address,'withdraw_btc_address':scope.withdraw_btc_address});localStorage.setItem('my_setting',mySetting);};scope.getCurrentExchangeRate=function(){try{__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.getJSON('https://noxonfund.com/curs.php',function(_ref){var price_btc=_ref.price_btc;scope.eth_exchange_rate=price_btc;scope.btc_exchange_rate=price_btc;scope.$scan();});}catch(e){console.log(e);}};scope.updateBalanceEth=function(){__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].web3.eth.getBalance(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address).then(function(r){scope.balance=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].web3.utils.fromWei(r);scope.address=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address;scope.bitcoin_address=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].bitcoinData.address;scope.updateBalanceBitcoin();scope.$scan();});};scope.updateBalanceBitcoin=function(){if(scope.bitcoin_address){var url='https://api.blocktrail.com/v1/tbtc/address/'+scope.bitcoin_address+'?api_key=MY_APIKEY';//  var url = 'https://api.blockcypher.com/v1/btc/main/addrs/'+scope.bitcoin_address
//bitcoin
__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.getJSON(url,function(r){try{scope.bitcoin_balance=r.balance/100000000;scope.$scan();}catch(e){console.log(e);}});}};scope.showError=function(msg){alert(msg);};// check if address was created
scope.check=function(){var address=''+scope.address;if(!address.length){scope.showError('Адрес не был сгенеррован');return false;}return true;};var increaseTotals=function increaseTotals(orders){orders.forEach(function(_ref2){var type=_ref2.type,currency1Amount=_ref2.currency1Amount,currency2Amount=_ref2.currency2Amount;if(type==='buy'){scope.total_btc+=parseFloat(currency2Amount);}else{scope.total_eth+=parseFloat(currency1Amount);}});scope.$scan();};var decreaseTotals=function decreaseTotals(orders){orders.forEach(function(_ref3){var type=_ref3.type,currency1Amount=_ref3.currency1Amount,currency2Amount=_ref3.currency2Amount;if(type==='buy'){scope.total_btc-=parseFloat(currency2Amount);}else{scope.total_eth-=parseFloat(currency1Amount);}});scope.$scan();};var cleanTotals=function cleanTotals(){scope.total_eth=0;scope.total_btc=0;scope.$scan();};var getUniqueId=function(){var id=+new Date();// TODO replace with user public key
return function(){return __WEBPACK_IMPORTED_MODULE_2_js_sha256___default()(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address+String(++id));};}();scope.createOrder=function(type){var id=getUniqueId();var order=new __WEBPACK_IMPORTED_MODULE_3_models__["a" /* Order */]({id:id,ownerAddress:__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address,currency1:'BTC',currency2:'ETH',currency1Amount:type==='buy'?scope.eth:scope.sell_eth,// TODO fix this
currency2Amount:type==='buy'?scope.btc:scope.sell_btc,// TODO fix this
exchangeRate:scope.eth_exchange_rate,// TODO fix this
type:type});console.log('order created:',order);scope.eth='';scope.btc='';scope.sell_eth='';scope.sell_btc='';__WEBPACK_IMPORTED_MODULE_3_models__["c" /* room */].sendMessage({data:order,type:'newOrder'});__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].append(order);increaseTotals([order]);};scope.removeOrder=function(id){console.log('Remove order with id:',id);__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].remove(id,function(){console.log(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address,__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].items);scope.$scan();});};scope.removeAllOrders=function(){__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].removeAll();scope.$scan();};scope.sign=function(){__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sign();scope.updateBalanceEth();};// scope.sell_checked = function () {
//   $('#sell_ch_active').attr('checked', function() {
//     if (parseMess.myAdvs) {
//       return parseMess.myAdvs.active
//     }
//
//     return true
//   })
// }
//
// scope.checked = function () {
//   $('#ch_active').attr('checked', function() {
//     if (parseMess.myAdvs) {
//       return parseMess.myAdvs.active
//     }
//
//     return true
//   })
// }
scope.checked=function(){__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#ch_active').attr('checked',function(){if(parseMess.myAdvs){return parseMess.myAdvs.active;}return true;});};scope.init=function(){var my_setting=localStorage.getItem('my_setting');if(my_setting){my_setting=JSON.parse(my_setting);scope.withdraw_eth_address=my_setting.withdraw_eth_address;scope.withdraw_btc_address=my_setting.withdraw_btc_address;}increaseTotals(__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].items);};scope.init();scope.getCurrentExchangeRate();scope.sign();main.scope=scope;};// Filters
__WEBPACK_IMPORTED_MODULE_1_alight___default.a.filters.onlyBuy=function(items,scope){return items.filter(function(_ref4){var type=_ref4.type;return type==='buy';});};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.filters.onlySell=function(items,scope){return items.filter(function(_ref5){var type=_ref5.type;return type==='sell';});};// Hooks
__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_eth_exchange_rate={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.eth_exchange_rate=main.scope.eth_exchange_rate.match(/^[\d.]+$/);main.scope.btc=main.scope.eth*main.scope.eth_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_eth={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.eth=main.scope.eth.match(/^[\d.]+$/);main.scope.btc=main.scope.eth*main.scope.eth_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_btc={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.btc=main.scope.btc.match(/^[\d.]+$/);main.scope.eth=main.scope.btc/main.scope.eth_exchange_rate;main.scope.$scan();}//for sell
};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_btc_exchange_rate={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.btc_exchange_rate=main.scope.btc_exchange_rate.match(/^[\d.]+$/);main.scope.sell_btc=main.scope.sell_eth*main.scope.btc_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_sell_eth={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.sell_eth=main.scope.sell_eth.match(/^[\d.]+$/);main.scope.sell_btc=main.scope.sell_eth*main.scope.btc_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_sell_btc={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.sell_btc=main.scope.sell_btc.match(/^[\d.]+$/);main.scope.sell_eth=main.scope.sell_btc/main.scope.btc_exchange_rate;main.scope.$scan();}};/* harmony default export */ __webpack_exports__["a"] = (main);

/***/ }),

/***/ 163:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Order=/**
   *
   * ownerAddress
   * currency1
   * currency2
   * currency1Amount
   * currency2Amount
   * exchangeRate
   * type
   */function Order(data){var _this=this;_classCallCheck(this,Order);Object.keys(data).forEach(function(key){_this[key]=data[key];});};/* harmony default export */ __webpack_exports__["a"] = (Order);

/***/ }),

/***/ 164:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__user__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collection__ = __webpack_require__(358);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Orders=function(_Collection){_inherits(Orders,_Collection);function Orders(){_classCallCheck(this,Orders);var _this=_possibleConstructorReturn(this,(Orders.__proto__||Object.getPrototypeOf(Orders)).call(this));_this.onMount();return _this;}_createClass(Orders,[{key:'onMount',value:function onMount(){var _this2=this;var items=JSON.parse(localStorage.getItem('myOrders')||'[]');this.items=items;this.itemIds={};items.forEach(function(_ref,index){var id=_ref.id;return _this2.itemIds[id]=index;});console.log('Orders:',this.items);}/**
   * id
   * ownerAddress
   * currency1
   * currency2
   * currency1Amount
   * currency2Amount
   * exchangeRate
   * type
   */},{key:'append',value:function append(data){_get(Orders.prototype.__proto__||Object.getPrototypeOf(Orders.prototype),'append',this).call(this,data,data.id);this.saveLocalStorage();}},{key:'remove',value:function remove(id,cb){if(this.checkIfOwnedByMe(id)){_get(Orders.prototype.__proto__||Object.getPrototypeOf(Orders.prototype),'removeByKey',this).call(this,id);this.saveLocalStorage();cb();}}},{key:'removeAll',value:function removeAll(){this.items=[];this.itemIds={};this.saveLocalStorage();}},{key:'checkIfOwnedByMe',value:function checkIfOwnedByMe(id){var order=this.getByKey(id);if(!order){console.error('checkIfOwnedByMe failed',this.items,this.itemIds);return false;}return order.ownerAddress===__WEBPACK_IMPORTED_MODULE_0__user__["a" /* default */].data.address;}},{key:'getOwnedByMe',value:function getOwnedByMe(){return this.items.length?this.items.filter(function(_ref2){var ownerAddress=_ref2.ownerAddress;return ownerAddress===__WEBPACK_IMPORTED_MODULE_0__user__["a" /* default */].data.address;}):[];}},{key:'saveLocalStorage',value:function saveLocalStorage(){localStorage.setItem('myOrders',JSON.stringify(this.getOwnedByMe()));}}]);return Orders;}(__WEBPACK_IMPORTED_MODULE_1__Collection__["a" /* default */]);/* harmony default export */ __webpack_exports__["a"] = (new Orders());

/***/ }),

/***/ 182:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 213:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 215:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 249:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 356:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__showMess__ = __webpack_require__(357);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__showMess__["a"]; });


/***/ }),

/***/ 357:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var countModal=0;var showMess=function showMess(message,seconds,status){var status2=0;if(status===1||status==='success'||status==='info'){status2=1;}else if(status===2||status==='danger'||status==='error'){status2=2;}var modal=$('#MyPopup');if(modal.length>0){countModal++;var tnBox=modal.find('.tn-box:eq(0)').clone();modal.show();modal.append(tnBox);tnBox.find('p').html(message);tnBox.removeClass('tn-box-color-0');tnBox.removeClass('tn-box-color-1');tnBox.removeClass('tn-box-color-2');tnBox.addClass('tn-box-color-'+status2);tnBox.css({display:'block','-webkit-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-moz-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-o-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-ms-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','animation':'fadeOut '+(seconds+0.5)+'s linear forwards'});var progress=tnBox.find('.tn-progress');progress.css({'-webkit-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-moz-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-o-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-ms-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s'});setTimeout(function(){countModal--;tnBox.remove();if(countModal<=0){modal.hide();}},seconds*1000);}};/* harmony default export */ __webpack_exports__["a"] = (showMess);

/***/ }),

/***/ 358:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Collection=function(){function Collection(){_classCallCheck(this,Collection);this.items=[];this.itemIds={};}/**
   * Add item at the start of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */_createClass(Collection,[{key:"prepend",value:function prepend(item,key){this.items.unshift(item);if(key){for(var _key in this.itemIds){if(this.itemIds.hasOwnProperty(_key)){this.itemIds[_key]+=1;}}this.itemIds[key]=0;}return item;}/**
   * Add item at the end of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */},{key:"append",value:function append(item,key){this.items.push(item);if(key){this.itemIds[key]=this.items.length-1;}return item;}/**
   * Remove item by index from current collection
   * @param index
   * @returns {*}
   */},{key:"removeByIndex",value:function removeByIndex(index){this.items=this.items.splice(index,1);}/**
   * Remove item by key [id] from current collection
   * @param key {string|number}
   * @returns {*}
   */},{key:"removeByKey",value:function removeByKey(key){var _this=this;var index=this.itemIds[key];this.items.splice(index,1);delete this.itemIds[key];Object.keys(this.itemIds).forEach(function(key){if(_this.itemIds[key]>index){_this.itemIds[key]--;}});}/**
   * Get index of item in current collection
   * @param item
   * @returns {number}
   */},{key:"indexOf",value:function indexOf(item){return this.items.indexOf(item);}/**
   * Get item by index from current collection
   * @param index
   * @returns {*}
   */},{key:"getByIndex",value:function getByIndex(index){return this.items[index];}/**
   * Get item by key [id] from current collection
   * @param key {string|number}
   * @returns {*}
   */},{key:"getByKey",value:function getByKey(key){return this.items[this.itemIds[key]];}/**
   * Check if item with such name exists in current collection
   * @param key {string|number}
   * @returns {boolean}
   */},{key:"isExist",value:function isExist(key){return Boolean(this.getByKey(key));}/**
   * Get length of current collection
   * @returns {Number}
   */},{key:"length",get:function get(){return this.items.length;}}]);return Collection;}();/* harmony default export */ __webpack_exports__["a"] = (Collection);

/***/ }),

/***/ 359:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room__ = __webpack_require__(360);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_models__ = __webpack_require__(39);
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Room=function(){function Room(){var _this=this;_classCallCheck(this,Room);this.handleSubscribe=function(){console.info('Now connected!');};this.handleNewMessage=function(message){var data=JSON.parse(message.data.toString());if(data&&data.length){console.log('New message data:',_extends({},message,{data:data}));data.forEach(function(_ref){var type=_ref.type,data=_ref.data;console.log('Message of type '+type+':',data);if(type==='newOrder'){__WEBPACK_IMPORTED_MODULE_1_models__["b" /* orders */].append(data);}});}};this.handleNewUserConnected=function(peer){console.info('New peer:',peer);var myOrders=__WEBPACK_IMPORTED_MODULE_1_models__["b" /* orders */].getOwnedByMe();if(myOrders.length){_this.connection.sendTo(peer,JSON.stringify(myOrders));}};this.connection=null;}_createClass(Room,[{key:'connect',value:function connect(ipfsConnection){this.connection=__WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room___default()(ipfsConnection,'jswaps',{pollInterval:5000});this.connection.on('message',this.handleNewMessage);this.connection.on('peer joined',this.handleNewUserConnected);this.connection.on('subscribed',this.handleSubscribe);}},{key:'sendMessage',value:function sendMessage(message){this.connection.broadcast(JSON.stringify(message));}}]);return Room;}();var room=new Room();var ipfsConnection=new Ipfs({EXPERIMENTAL:{pubsub:true},config:{Addresses:{Swarm:['/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star']}}});ipfsConnection.on('ready',function(){return room.connect(ipfsConnection);});/* harmony default export */ __webpack_exports__["a"] = (room);

/***/ }),

/***/ 38:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__app__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__main__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__history__ = __webpack_require__(390);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ethToBtc__ = __webpack_require__(391);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__btcToEth__ = __webpack_require__(392);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__app__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__main__["a"]; });
/* unused harmony reexport history */
/* unused harmony reexport ethToBtc */
/* unused harmony reexport btcToEth */


/***/ }),

/***/ 39:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Order__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__orders__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__room__ = __webpack_require__(359);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user__ = __webpack_require__(82);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__Order__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__orders__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__room__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__user__["a"]; });


/***/ }),

/***/ 390:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_models__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);
var history={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.history=function(scope){console.log('history controller!');scope.sign=function(){__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].sign();};scope.refreshBTCTransaction=function(){if(__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].bitcoinData.address){var url='https://api.blocktrail.com/v1/tbtc/address/'+__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].bitcoinData.address+'/transactions?api_key=MY_APIKEY';var total=0;__WEBPACK_IMPORTED_MODULE_2_jquery___default.a.getJSON(url,function(r){history.scope.btcTransactions=r.data;__WEBPACK_IMPORTED_MODULE_2_jquery___default.a.each(r.data,function(k,i){console.log(i);});history.scope.$scan();});}else{console.log('bitcoin_address is missing');}};scope.sign();scope.refreshBTCTransaction();history.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (history);

/***/ }),

/***/ 391:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
var ethToBtc={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.ethToBtc=function(scope){console.log('ETH to BTC controller!');ethToBtc.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (ethToBtc);

/***/ }),

/***/ 392:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_swap_crypto__ = __webpack_require__(393);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_models__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_swaps__ = __webpack_require__(394);
var btcToEth={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.btcToEth=function(scope){console.log('BTC to ETH controller!');var orderId=__WEBPACK_IMPORTED_MODULE_2_controllers__["a" /* app */].scope.activeRoute.params.id;var order=__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].getByKey(orderId);console.log('Order:',order);scope.data={order:order,secret:'c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078',secretHash:'',btcScriptAddress:'0x0dsgsdhsdhsddsh',waitingForUser:false,step:1};scope.goNextStep=function(){scope.data.step++;if(scope.data.step===2){scope.data.secretHash=__WEBPACK_IMPORTED_MODULE_1_swap_crypto__["a" /* default */].ripemd160(scope.data.secret);}else if(scope.data.step===3){scope.data.waitingForUser=true;}else if(scope.data.step===4){}scope.$scan();};btcToEth.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (btcToEth);

/***/ }),

/***/ 393:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto__);
/*
 secret        c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078
 secretHash    c0933f9be51a284acb6b1a6617a48d795bdeaa80
 */var ripemd160=function ripemd160(value){return __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto___default.a.ripemd160(Buffer.from(value,'hex')).toString('hex');};/* harmony default export */ __webpack_exports__["a"] = ({ripemd160:ripemd160});
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1).Buffer))

/***/ }),

/***/ 394:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__btcSwap__ = __webpack_require__(395);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ethSwap__ = __webpack_require__(396);
/* unused harmony reexport btcSwap */
/* unused harmony reexport ethSwap */


/***/ }),

/***/ 395:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib__);
var testnetUtils={};// TODO HOW?
var utcNow=function utcNow(){return Math.floor(Date.now()/1000);};var lockTime=utcNow()+3600*3;// 3 days from now
var createScript=function createScript(btcOwnerSecretHash,btcOwnerPublicKey,ethOwnerPublicKey){return __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.compile([btcOwnerPublicKey,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKSIG,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_IF,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.number.encode(lockTime),__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKLOCKTIMEVERIFY,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_ENDIF,ethOwnerPublicKey,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKSIG,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_IF,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_RIPEMD160,Buffer.from(btcOwnerSecretHash,'hex'),__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_EQUALVERIFY,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_ENDIF]);};var addMoney=function addMoney(script,amount){return new Promise(function(resolve,reject){var scriptPubKey=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.output.encode(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.crypto.hash160(script));var scriptAddress=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.address.fromOutputScript(scriptPubKey,testnet);testnetUtils.faucet(scriptAddress,amount,function(err,unspent){if(err){console.log('fund error:',err);reject();return;}resolve();});});};var withdraw=function withdraw(script,unspent,secret,withdrawAddress){return new Promise(function(resolve,reject){var hashType=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.Transaction.SIGHASH_ALL;var tx=new __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.TransactionBuilder(testnet);tx.setLockTime(lockTime);tx.addInput(unspent.txId,unspent.vout,0xfffffffe);tx.addOutput(withdrawAddress,1e4);var txRaw=tx.buildIncomplete();var signatureHash=txRaw.hashForSignature(0,script,hashType);var ethOwnerSignature=ethOwner.sign(signatureHash).toScriptSignature(hashType);var scriptSig=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.input.encode([ethOwnerSignature,Buffer.from(secret,'hex')],script);txRaw.setInputScript(0,scriptSig);var txId=txRaw.getId();console.log('final txid',txId);console.log('final txRaw',txRaw);testnetUtils.transactions.propagate(txRaw.toHex(),function(smth,result){console.log('result',result);if(result){resolve();}else{reject();}});});};var refund=function refund(script,unspent,secret,refundAddress){return new Promise(function(resolve,reject){var hashType=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.Transaction.SIGHASH_ALL;var tx=new __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.TransactionBuilder(testnet);tx.setLockTime(lockTime);tx.addInput(unspent.txId,unspent.vout,0xfffffffe);tx.addOutput(refundAddress,1e4);var txRaw=tx.buildIncomplete();var signatureHash=txRaw.hashForSignature(0,script,hashType);var btcOwnerSignature=btcOwner.sign(signatureHash).toScriptSignature(hashType);var scriptSig=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.input.encode([btcOwnerSignature,Buffer.from(secret,'hex')],script);txRaw.setInputScript(0,scriptSig);var txId=txRaw.getId();console.log('final txid',txId);console.log('final txRaw',txRaw);testnetUtils.transactions.propagate(txRaw.toHex(),function(smth,result){console.log('result',result);if(result){resolve();}else{reject();}});});};/* unused harmony default export */ var _unused_webpack_default_export = ({createScript:createScript,addMoney:addMoney,withdraw:withdraw,refund:refund});
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1).Buffer))

/***/ }),

/***/ 396:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony default export */ var _unused_webpack_default_export = ({});

/***/ }),

/***/ 398:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.directives.al.copy=function(scope,element,expression,env){$(element).on('click',function(event){event.preventDefault();event.stopPropagation();try{// современный объект Selection
window.getSelection().removeAllRanges();}catch(e){// для IE8-
document.selection.empty();}if(document.selection){var range=document.body.createTextRange();range.moveToElementText(this);range.select().createTextRange();document.execCommand("Copy");}else if(window.getSelection){var _range=document.createRange();_range.selectNode(this);console.log(_range);window.getSelection().addRange(_range);document.execCommand("Copy");alert("text copied");}});};

/***/ }),

/***/ 81:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_navigo__ = __webpack_require__(397);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_navigo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_navigo__);
var _router$on$on$on,_router$on$on,_router$on;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}var router=new __WEBPACK_IMPORTED_MODULE_1_navigo___default.a(null,true,'#');var bind=function bind(path){return[path,function(params,query){console.log('Route changed to '+path);__WEBPACK_IMPORTED_MODULE_0_controllers__["a" /* app */].scope.activeRoute={path:path,params:params,query:query};__WEBPACK_IMPORTED_MODULE_0_controllers__["a" /* app */].scope.$scan();}];};(_router$on$on$on=(_router$on$on=(_router$on=router.on.apply(router,_toConsumableArray(bind('/')))).on.apply(_router$on,_toConsumableArray(bind('/history')))).on.apply(_router$on$on,_toConsumableArray(bind('/btc-to-eth/:id')))).on.apply(_router$on$on$on,_toConsumableArray(bind('/eth-to-btc/:id')));/* harmony default export */ __webpack_exports__["a"] = (router);

/***/ }),

/***/ 82:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_web3__ = __webpack_require__(165);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_web3___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_web3__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigi__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigi___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bigi__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_helpers__ = __webpack_require__(356);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var User=function(){function User(){_classCallCheck(this,User);this.web3=new __WEBPACK_IMPORTED_MODULE_0_web3___default.a(new __WEBPACK_IMPORTED_MODULE_0_web3___default.a.providers.HttpProvider("https://ropsten.infura.io/JCnK5ifEPH9qcQkX0Ahl"));this.data={};this.bitcoinData={};}_createClass(User,[{key:'sendTransactionEth',value:function sendTransactionEth(modal){var _this=this;this.web3.eth.getBalance(this.data.address).then(function(r){try{__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance=_this.web3.utils.fromWei(r);if(!__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance){// throw new Error('Ваш баланс пуст')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Ваш баланс пуст',5,0);return false;}if(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance<__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_amount){// throw new Error('На вашем балансе недостаточно средств')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('На вашем балансе недостаточно средств',5,0);return false;}if(!_this.web3.utils.isAddress(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_address)){// throw new Error('Не верный адрес')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Не верный адрес',5,0);return false;}var t={from:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.address,to:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_address,gas:"21000",gasPrice:"20000000000",value:_this.web3.utils.toWei(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_amount.toString())};_this.web3.eth.accounts.signTransaction(t,localStorage.getItem('privateKey')).then(function(result){return _this.web3.eth.sendSignedTransaction(result.rawTransaction);}).then(function(receipt){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Good',5,1);console.log('good');var m=$(modal);if(m.length>0){m.modal('hide');}}).catch(function(error){return console.error(error);});// this.web3.eth.sendTransaction({
//   from: main.scope.address,
//   to: main.scope.withdraw_eth_address,
//   amount: this.web3.utils.toWei(main.scope.withdraw_eth_amount.toString())
// }).then(function(err, resp) {
//   showMess('Error', 5, 0)
//   console.log(err)
//   console.log(resp)
// })
}catch(e){__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.showError(e);}});}},{key:'sendTransactionBtc',value:function sendTransactionBtc(modal){var _this2=this;var newtx={inputs:[{addresses:[__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.bitcoin_address]}],outputs:[{addresses:[__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_address],value:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_amount*100000000}]};if(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_amount>__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.bitcoin_balance){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('На вашем балансе недостаточно средств',5,0);// alert('На вашем балансе недостаточно средств')
return false;}$.post('https://api.blockcypher.com/v1/btc/test3/txs/new',JSON.stringify(newtx)).then(function(d){// convert response body to JSON
var tmptx=d;// attribute to store public keys
tmptx.pubkeys=[];// build signer from WIF
var keys=new __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.ECPair.fromWIF(_this2.bitcoinData.keyPair.toWIF(),__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.networks.testnet);// iterate and sign each transaction and add it in signatures while store corresponding public key in pubkeys
tmptx.signatures=tmptx.tosign.map(function(tosign,n){tmptx.pubkeys.push(keys.getPublicKeyBuffer().toString('hex'));return keys.sign(__WEBPACK_IMPORTED_MODULE_2_bigi___default.a.fromHex(tosign.toString('hex')).toBuffer()).toDER().toString('hex');});$.post('https://api.blockcypher.com/v1/btc/test3/txs/send',JSON.stringify(tmptx)).then(function(r){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Платеж прошел',5,1);console.log(r);var m=$(modal);if(m.length>0){m.modal('hide');}});});// const txb = new bitcoin.TransactionBuilder(bitcoin.networks.testnet)
//
// //https://api.blocktrail.com/v1/btc/address/17hFoVScNKVDfDTT6vVhjYwvCu6iDEiXC4/transactions?api_key=MY_APIKEY
// url = 'https://api.blocktrail.com/v1/tbtc/address/'+main.scope.bitcoin_address+'/unspent-outputs?api_key=MY_APIKEY'
// jQuery.getJSON(url, (r) => {
//   txb.addInput(r.data[0].hash, 1)
//   txb.addOutput(main.scope.withdraw_btc_address, main.scope.withdraw_btc_amount * 100000000)
//   txb.sign(0, this.bitcoinData.keyPair)
//
//   const pushtx = {
//     tx: txb.build().toHex()
//   }
//
//   $.post('https://api.blockcypher.com/v1/btc/test3/txs/push', JSON.stringify(pushtx)).then(function (r) {
//
//     console.log(r)
//   })
//
// })
}},{key:'sign',value:function sign(){var retrievedObject=localStorage.getItem('privateKey');if(retrievedObject){try{this.data=this.web3.eth.accounts.privateKeyToAccount(retrievedObject);this.signBitcoin(retrievedObject);}catch(e){console.error('2 user cant login');console.error(e);}}else{try{this.data=this.web3.eth.accounts.create();localStorage.setItem('privateKey',this.data.privateKey);this.signBitcoin(this.data.privateKey);}catch(e){console.error('1 user cant login');console.error(e);}}}},{key:'signBitcoin',value:function signBitcoin(key){// const publicKey = key
// const publicKeyHash = bitcoin.crypto.hash160(publicKey)
// const address =  bitcoin.address.toBase58Check(publicKeyHash, bitcoin.networks.bitcoin.pubKeyHash)
// const address =  bitcoin.address.toBase58Check(publicKeyHash, bitcoin.networks.testnet.pubKeyHash)
var hash=__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.crypto.sha256(key);var d=__WEBPACK_IMPORTED_MODULE_2_bigi___default.a.fromBuffer(hash);var keyPair=new __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.ECPair(d,null,{network:__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.networks.testnet});var address=keyPair.getAddress();this.bitcoinData={address:address,keyPair:keyPair};}}]);return User;}();/* harmony default export */ __webpack_exports__["a"] = (new User());

/***/ })

},[151]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpcmVjdGl2ZXMvbGluay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvT3JkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9vcmRlcnMuanMiLCJ3ZWJwYWNrOi8vL2J1ZmZlciAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL3V0aWwgKGlnbm9yZWQpIiwid2VicGFjazovLy91dGlsIChpZ25vcmVkKT9kOTE0Iiwid2VicGFjazovLy9jcnlwdG8gKGlnbm9yZWQpIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3Nob3dNZXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3Jvb20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2V0aFRvQnRjLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9idGNUb0V0aC5qcyIsIndlYnBhY2s6Ly8vLi9sb2NhbF9tb2R1bGVzL3N3YXAtY3J5cHRvLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2Fwcy9idGNTd2FwLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2Fwcy9ldGhTd2FwLmpzIiwid2VicGFjazovLy8uL3NyYy9kaXJlY3RpdmVzL2NvcHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3VzZXIuanMiXSwibmFtZXMiOlsiYWxpZ2h0IiwiYXV0b3N0YXJ0IiwiYm9vdHN0cmFwIiwicm91dGVyIiwicmVzb2x2ZSIsImRpcmVjdGl2ZXMiLCJhbCIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJleHByZXNzaW9uIiwiZW52IiwiJCIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImF0dHIiLCJuYXZpZ2F0ZSIsImFjdGl2ZVJvdXRlIiwiJHNjYW4iLCJhcHAiLCJjb250cm9sbGVycyIsImNvbnNvbGUiLCJsb2ciLCJtYWluIiwib3JkZXJzIiwiYWR2cyIsImJhbGFuY2UiLCJhZGRyZXNzIiwiZXRoX2V4Y2hhbmdlX3JhdGUiLCJidGNfZXhjaGFuZ2VfcmF0ZSIsImV0aCIsImJ0YyIsInNlbGxfZXRoIiwic2VsbF9idGMiLCJ0b3RhbF9ldGgiLCJ0b3RhbF9idGMiLCJiaXRjb2luX2FkZHJlc3MiLCJtaW5fd2l0aGRyYXdfZXRoIiwibWluX3dpdGhkcmF3X2J0YyIsIm15X3NldHRpbmciLCJidGNUcmFuc2FjdGlvbnMiLCJzZW5kX2V0aCIsIm1vZGFsIiwic2F2ZUFwcHMiLCJ1c2VyIiwic2VuZFRyYW5zYWN0aW9uRXRoIiwic2VuZF9idGMiLCJzZW5kVHJhbnNhY3Rpb25CdGMiLCJteVNldHRpbmciLCJKU09OIiwic3RyaW5naWZ5Iiwid2l0aGRyYXdfZXRoX2FkZHJlc3MiLCJ3aXRoZHJhd19idGNfYWRkcmVzcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRDdXJyZW50RXhjaGFuZ2VSYXRlIiwiZ2V0SlNPTiIsInByaWNlX2J0YyIsImUiLCJ1cGRhdGVCYWxhbmNlRXRoIiwid2ViMyIsImdldEJhbGFuY2UiLCJkYXRhIiwidGhlbiIsInIiLCJ1dGlscyIsImZyb21XZWkiLCJiaXRjb2luRGF0YSIsInVwZGF0ZUJhbGFuY2VCaXRjb2luIiwidXJsIiwiYml0Y29pbl9iYWxhbmNlIiwic2hvd0Vycm9yIiwibXNnIiwiYWxlcnQiLCJjaGVjayIsImxlbmd0aCIsImluY3JlYXNlVG90YWxzIiwiZm9yRWFjaCIsInR5cGUiLCJjdXJyZW5jeTFBbW91bnQiLCJjdXJyZW5jeTJBbW91bnQiLCJwYXJzZUZsb2F0IiwiZGVjcmVhc2VUb3RhbHMiLCJjbGVhblRvdGFscyIsImdldFVuaXF1ZUlkIiwiaWQiLCJEYXRlIiwic2hhMjU2IiwiU3RyaW5nIiwiY3JlYXRlT3JkZXIiLCJvcmRlciIsIk9yZGVyIiwib3duZXJBZGRyZXNzIiwiY3VycmVuY3kxIiwiY3VycmVuY3kyIiwiZXhjaGFuZ2VSYXRlIiwicm9vbSIsInNlbmRNZXNzYWdlIiwiYXBwZW5kIiwicmVtb3ZlT3JkZXIiLCJyZW1vdmUiLCJpdGVtcyIsInJlbW92ZUFsbE9yZGVycyIsInJlbW92ZUFsbCIsInNpZ24iLCJjaGVja2VkIiwicGFyc2VNZXNzIiwibXlBZHZzIiwiYWN0aXZlIiwiaW5pdCIsImdldEl0ZW0iLCJwYXJzZSIsImZpbHRlcnMiLCJvbmx5QnV5IiwiZmlsdGVyIiwib25seVNlbGwiLCJob29rcyIsImV2ZW50TW9kaWZpZXIiLCJjaGFuZ2VfZXRoX2V4Y2hhbmdlX3JhdGUiLCJmbiIsIm1hdGNoIiwiY2hhbmdlX2V0aCIsImNoYW5nZV9idGMiLCJjaGFuZ2VfYnRjX2V4Y2hhbmdlX3JhdGUiLCJjaGFuZ2Vfc2VsbF9ldGgiLCJjaGFuZ2Vfc2VsbF9idGMiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiT3JkZXJzIiwib25Nb3VudCIsIml0ZW1JZHMiLCJpbmRleCIsInNhdmVMb2NhbFN0b3JhZ2UiLCJjYiIsImNoZWNrSWZPd25lZEJ5TWUiLCJnZXRCeUtleSIsImVycm9yIiwiZ2V0T3duZWRCeU1lIiwiY291bnRNb2RhbCIsInNob3dNZXNzIiwibWVzc2FnZSIsInNlY29uZHMiLCJzdGF0dXMiLCJzdGF0dXMyIiwidG5Cb3giLCJmaW5kIiwiY2xvbmUiLCJzaG93IiwiaHRtbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJjc3MiLCJkaXNwbGF5IiwicHJvZ3Jlc3MiLCJzZXRUaW1lb3V0IiwiaGlkZSIsIkNvbGxlY3Rpb24iLCJpdGVtIiwidW5zaGlmdCIsImhhc093blByb3BlcnR5IiwicHVzaCIsInNwbGljZSIsImluZGV4T2YiLCJCb29sZWFuIiwiUm9vbSIsImhhbmRsZVN1YnNjcmliZSIsImluZm8iLCJoYW5kbGVOZXdNZXNzYWdlIiwidG9TdHJpbmciLCJoYW5kbGVOZXdVc2VyQ29ubmVjdGVkIiwicGVlciIsIm15T3JkZXJzIiwiY29ubmVjdGlvbiIsInNlbmRUbyIsImlwZnNDb25uZWN0aW9uIiwiSXBmc1Jvb20iLCJwb2xsSW50ZXJ2YWwiLCJicm9hZGNhc3QiLCJJcGZzIiwiRVhQRVJJTUVOVEFMIiwicHVic3ViIiwiY29uZmlnIiwiQWRkcmVzc2VzIiwiU3dhcm0iLCJjb25uZWN0IiwiaGlzdG9yeSIsInJlZnJlc2hCVENUcmFuc2FjdGlvbiIsInRvdGFsIiwiZWFjaCIsImsiLCJpIiwiZXRoVG9CdGMiLCJidGNUb0V0aCIsIm9yZGVySWQiLCJwYXJhbXMiLCJzZWNyZXQiLCJzZWNyZXRIYXNoIiwiYnRjU2NyaXB0QWRkcmVzcyIsIndhaXRpbmdGb3JVc2VyIiwic3RlcCIsImdvTmV4dFN0ZXAiLCJjcnlwdG8iLCJyaXBlbWQxNjAiLCJ2YWx1ZSIsIkJ1ZmZlciIsImZyb20iLCJ0ZXN0bmV0VXRpbHMiLCJ1dGNOb3ciLCJNYXRoIiwiZmxvb3IiLCJub3ciLCJsb2NrVGltZSIsImNyZWF0ZVNjcmlwdCIsImJ0Y093bmVyU2VjcmV0SGFzaCIsImJ0Y093bmVyUHVibGljS2V5IiwiZXRoT3duZXJQdWJsaWNLZXkiLCJiaXRjb2luIiwic2NyaXB0IiwiY29tcGlsZSIsIm9wY29kZXMiLCJPUF9DSEVDS1NJRyIsIk9QX0lGIiwibnVtYmVyIiwiZW5jb2RlIiwiT1BfQ0hFQ0tMT0NLVElNRVZFUklGWSIsIk9QX0VORElGIiwiT1BfUklQRU1EMTYwIiwiT1BfRVFVQUxWRVJJRlkiLCJhZGRNb25leSIsImFtb3VudCIsIlByb21pc2UiLCJyZWplY3QiLCJzY3JpcHRQdWJLZXkiLCJzY3JpcHRIYXNoIiwib3V0cHV0IiwiaGFzaDE2MCIsInNjcmlwdEFkZHJlc3MiLCJmcm9tT3V0cHV0U2NyaXB0IiwidGVzdG5ldCIsImZhdWNldCIsImVyciIsInVuc3BlbnQiLCJ3aXRoZHJhdyIsIndpdGhkcmF3QWRkcmVzcyIsImhhc2hUeXBlIiwiVHJhbnNhY3Rpb24iLCJTSUdIQVNIX0FMTCIsInR4IiwiVHJhbnNhY3Rpb25CdWlsZGVyIiwic2V0TG9ja1RpbWUiLCJhZGRJbnB1dCIsInR4SWQiLCJ2b3V0IiwiYWRkT3V0cHV0IiwidHhSYXciLCJidWlsZEluY29tcGxldGUiLCJzaWduYXR1cmVIYXNoIiwiaGFzaEZvclNpZ25hdHVyZSIsImV0aE93bmVyU2lnbmF0dXJlIiwiZXRoT3duZXIiLCJ0b1NjcmlwdFNpZ25hdHVyZSIsInNjcmlwdFNpZyIsImlucHV0Iiwic2V0SW5wdXRTY3JpcHQiLCJnZXRJZCIsInRyYW5zYWN0aW9ucyIsInByb3BhZ2F0ZSIsInRvSGV4Iiwic210aCIsInJlc3VsdCIsInJlZnVuZCIsInJlZnVuZEFkZHJlc3MiLCJidGNPd25lclNpZ25hdHVyZSIsImJ0Y093bmVyIiwiY29weSIsIndpbmRvdyIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsImRvY3VtZW50Iiwic2VsZWN0aW9uIiwiZW1wdHkiLCJyYW5nZSIsImJvZHkiLCJjcmVhdGVUZXh0UmFuZ2UiLCJtb3ZlVG9FbGVtZW50VGV4dCIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlIiwiYWRkUmFuZ2UiLCJOYXZpZ28iLCJiaW5kIiwicGF0aCIsInF1ZXJ5IiwiVXNlciIsIldlYjMiLCJwcm92aWRlcnMiLCJIdHRwUHJvdmlkZXIiLCJ3aXRoZHJhd19ldGhfYW1vdW50IiwiaXNBZGRyZXNzIiwidCIsInRvIiwiZ2FzIiwiZ2FzUHJpY2UiLCJ0b1dlaSIsImFjY291bnRzIiwic2lnblRyYW5zYWN0aW9uIiwic2VuZFNpZ25lZFRyYW5zYWN0aW9uIiwicmF3VHJhbnNhY3Rpb24iLCJyZWNlaXB0IiwibSIsImNhdGNoIiwibmV3dHgiLCJpbnB1dHMiLCJhZGRyZXNzZXMiLCJvdXRwdXRzIiwid2l0aGRyYXdfYnRjX2Ftb3VudCIsInBvc3QiLCJkIiwidG1wdHgiLCJwdWJrZXlzIiwiRUNQYWlyIiwiZnJvbVdJRiIsImtleVBhaXIiLCJ0b1dJRiIsIm5ldHdvcmtzIiwic2lnbmF0dXJlcyIsInRvc2lnbiIsIm1hcCIsIm4iLCJnZXRQdWJsaWNLZXlCdWZmZXIiLCJCaWdJbnRlZ2VyIiwiZnJvbUhleCIsInRvQnVmZmVyIiwidG9ERVIiLCJyZXRyaWV2ZWRPYmplY3QiLCJwcml2YXRlS2V5VG9BY2NvdW50Iiwic2lnbkJpdGNvaW4iLCJjcmVhdGUiLCJwcml2YXRlS2V5IiwiaGFzaCIsImZyb21CdWZmZXIiLCJuZXR3b3JrIiwiZ2V0QWRkcmVzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsOENBQUFBLENBQU9DLFNBQVAsQ0FBbUIsS0FBbkIsQ0FZQSw4Q0FBQUQsQ0FBT0UsU0FBUCxHQUNBLHVEQUFBQyxDQUFPQyxPQUFQLEc7Ozs7Ozs7QUNmQSx5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSUEsOENBQUFKLENBQU9LLFVBQVAsQ0FBa0JDLEVBQWxCLENBQXFCQyxJQUFyQixDQUE0QixTQUFVQyxLQUFWLENBQWlCQyxPQUFqQixDQUEwQkMsVUFBMUIsQ0FBc0NDLEdBQXRDLENBQTJDLENBQ3JFQyxFQUFFSCxPQUFGLEVBQVdJLEVBQVgsQ0FBYyxPQUFkLENBQXVCLFNBQVVDLEtBQVYsQ0FBaUIsQ0FDdENBLE1BQU1DLGNBQU4sR0FDQUQsTUFBTUUsZUFBTixHQUVBLEdBQU1ULE1BQU9LLEVBQUUsSUFBRixFQUFRSyxJQUFSLENBQWEsU0FBYixHQUEyQkwsRUFBRSxJQUFGLEVBQVFLLElBQVIsQ0FBYSxXQUFiLENBQXhDLENBRUEsdURBQUFkLENBQU9lLFFBQVAsQ0FBZ0JYLElBQWhCLEVBQ0FDLE1BQU1XLFdBQU4sQ0FBb0JaLElBQXBCLENBQ0FDLE1BQU1ZLEtBQU4sR0FDRCxDQVRELEVBVUQsQ0FYRCxDOzs7Ozs7Ozs7O0FDREEs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TCxDQUFVc1IsVUFBM0IsRUFDRCxDQUNELE1BQU8xUixDQUFQLENBQVUsQ0FDUnJDLFFBQVFvSCxLQUFSLENBQWMsbUJBQWQsRUFDQXBILFFBQVFvSCxLQUFSLENBQWMvRSxDQUFkLEVBQ0QsQ0FDRixDQUNGLEMsZ0RBRVdzRSxHLENBQUssQ0FDZjtBQUNBO0FBQ0E7QUFDQTtBQUVBLEdBQU1xTixNQUFZLHFEQUFBNUgsQ0FBUWYsTUFBUixDQUFlbkgsTUFBZixDQUFzQnlDLEdBQXRCLENBQWxCLENBQ0EsR0FBTStMLEdBQVksNENBQUFhLENBQVdVLFVBQVgsQ0FBc0JELElBQXRCLENBQWxCLENBQ0EsR0FBTWpCLFNBQVksR0FBSTNHLENBQUEscURBQUFBLENBQVF5RyxNQUFaLENBQW1CSCxDQUFuQixDQUFzQixJQUF0QixDQUE0QixDQUFDd0IsUUFBUyxxREFBQTlILENBQVE2RyxRQUFSLENBQWlCdkYsT0FBM0IsQ0FBNUIsQ0FBbEIsQ0FDQSxHQUFNcE4sU0FBWXlTLFFBQVFvQixVQUFSLEVBQWxCLENBRUEsS0FBS3JSLFdBQUwsQ0FBbUIsQ0FDakJ4QyxlQURpQixDQUVqQnlTLGVBRmlCLENBQW5CLENBSUQsQyxvQkFJSCx5REFBZSxHQUFJN0IsS0FBSixFQUFmLEUiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5cbmFsaWdodC5hdXRvc3RhcnQgPSBmYWxzZVxuXG5cbmltcG9ydCAnYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5jc3MnXG5pbXBvcnQgJ2Jvb3RzdHJhcC9kaXN0L2pzL2Jvb3RzdHJhcCdcbmltcG9ydCAnLi9zdHlsZS5zY3NzJ1xuXG5pbXBvcnQgJ2RpcmVjdGl2ZXMnXG5pbXBvcnQgJ2NvbnRyb2xsZXJzJ1xuaW1wb3J0IHJvdXRlciBmcm9tICdyb3V0ZXInXG5cblxuYWxpZ2h0LmJvb3RzdHJhcCgpXG5yb3V0ZXIucmVzb2x2ZSgpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3N0eWxlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDE1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcbmltcG9ydCByb3V0ZXIgZnJvbSAncm91dGVyJ1xuXG5cbmFsaWdodC5kaXJlY3RpdmVzLmFsLmxpbmsgPSBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGV4cHJlc3Npb24sIGVudikge1xuICAkKGVsZW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgbGluayA9ICQodGhpcykuYXR0cignYWwtbGluaycpIHx8ICQodGhpcykuYXR0cignZGF0YS1saW5rJylcblxuICAgIHJvdXRlci5uYXZpZ2F0ZShsaW5rKVxuICAgIHNjb3BlLmFjdGl2ZVJvdXRlID0gbGlua1xuICAgIHNjb3BlLiRzY2FuKClcbiAgfSlcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kaXJlY3RpdmVzL2xpbmsuanMiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcblxuXG5jb25zdCBhcHAgPSB7XG4gIHNjb3BlOiB7fSxcbn1cblxuYWxpZ2h0LmNvbnRyb2xsZXJzLmFwcCA9IGZ1bmN0aW9uIChzY29wZSkge1xuICBjb25zb2xlLmxvZygnQXBwIGNvbnRyb2xsZXIhJylcblxuICBzY29wZS5hY3RpdmVSb3V0ZSA9IHt9XG5cbiAgYXBwLnNjb3BlID0gc2NvcGVcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBhcHBcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVycy9hcHAuanMiLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcbmltcG9ydCBzaGEyNTYgZnJvbSAnanMtc2hhMjU2J1xuaW1wb3J0IHsgdXNlciwgcm9vbSwgT3JkZXIsIG9yZGVycyB9IGZyb20gJ21vZGVscydcblxuXG5jb25zdCBtYWluID0ge1xuICBzY29wZToge30sXG59XG5cbmFsaWdodC5jb250cm9sbGVycy5tYWluID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgY29uc29sZS5sb2coJ01haW4gY29udHJvbGxlciEnKVxuXG4gIHNjb3BlLm9yZGVycyA9IG9yZGVyc1xuICBzY29wZS5hZHZzID0gW11cbiAgc2NvcGUuYmFsYW5jZSA9IDBcbiAgc2NvcGUuYWRkcmVzcyA9ICcnXG4gIHNjb3BlLmV0aF9leGNoYW5nZV9yYXRlID0gJydcbiAgc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUgPSAnJ1xuICBzY29wZS5ldGggPSAnJ1xuICBzY29wZS5idGMgPSAnJ1xuICBzY29wZS5zZWxsX2V0aCA9ICcnXG4gIHNjb3BlLnNlbGxfYnRjID0gJydcbiAgc2NvcGUudG90YWxfZXRoID0gMFxuICBzY29wZS50b3RhbF9idGMgPSAwXG4gIHNjb3BlLmJpdGNvaW5fYWRkcmVzcyA9IDBcbiAgc2NvcGUubWluX3dpdGhkcmF3X2V0aCA9IDAuMDFcbiAgc2NvcGUubWluX3dpdGhkcmF3X2J0YyA9IDAuMVxuICBzY29wZS5teV9zZXR0aW5nID0ge31cbiAgc2NvcGUuYnRjVHJhbnNhY3Rpb25zID0gW11cblxuICBzY29wZS5zZW5kX2V0aCA9IGZ1bmN0aW9uIChtb2RhbCkge1xuICAgIHNjb3BlLnNhdmVBcHBzKClcbiAgICBzY29wZS4kc2NhbigpXG4gICAgdXNlci5zZW5kVHJhbnNhY3Rpb25FdGgobW9kYWwpXG5cbiAgICAvLyB2YXIgbSA9ICQobW9kYWwpXG4gICAgLy8gaWYgKG0ubGVuZ3RoID4gMCkge1xuICAgIC8vICAgICBtLm1vZGFsKCdoaWRlJylcbiAgICAvLyB9XG4gIH1cblxuICBzY29wZS5zZW5kX2J0YyA9IGZ1bmN0aW9uIChtb2RhbCkge1xuICAgIHNjb3BlLnNhdmVBcHBzKClcbiAgICBzY29wZS4kc2NhbigpXG4gICAgdXNlci5zZW5kVHJhbnNhY3Rpb25CdGMobW9kYWwpXG5cbiAgICAvLyB2YXIgbSA9ICQobW9kYWwpXG4gICAgLy8gaWYgKG0ubGVuZ3RoID4gMCkge1xuICAgIC8vICAgICBtLm1vZGFsKCdoaWRlJylcbiAgICAvLyB9XG4gIH1cblxuICBzY29wZS5zYXZlQXBwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBteVNldHRpbmcgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAnd2l0aGRyYXdfZXRoX2FkZHJlc3MnOiBzY29wZS53aXRoZHJhd19ldGhfYWRkcmVzcyxcbiAgICAgICd3aXRoZHJhd19idGNfYWRkcmVzcyc6IHNjb3BlLndpdGhkcmF3X2J0Y19hZGRyZXNzLFxuICAgIH0pXG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXlfc2V0dGluZycsICBteVNldHRpbmcpXG4gIH1cblxuICBzY29wZS5nZXRDdXJyZW50RXhjaGFuZ2VSYXRlID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAkLmdldEpTT04oJ2h0dHBzOi8vbm94b25mdW5kLmNvbS9jdXJzLnBocCcsICh7IHByaWNlX2J0YyB9KSA9PiB7XG4gICAgICAgIHNjb3BlLmV0aF9leGNoYW5nZV9yYXRlID0gcHJpY2VfYnRjXG4gICAgICAgIHNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlID0gcHJpY2VfYnRjXG4gICAgICAgIHNjb3BlLiRzY2FuKClcbiAgICAgIH0pXG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cbiAgfVxuXG4gIHNjb3BlLnVwZGF0ZUJhbGFuY2VFdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdXNlci53ZWIzLmV0aC5nZXRCYWxhbmNlKHVzZXIuZGF0YS5hZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyKSB7XG5cbiAgICAgIHNjb3BlLmJhbGFuY2UgPSB1c2VyLndlYjMudXRpbHMuZnJvbVdlaShyKTtcbiAgICAgIHNjb3BlLmFkZHJlc3MgPSB1c2VyLmRhdGEuYWRkcmVzcztcbiAgICAgIHNjb3BlLmJpdGNvaW5fYWRkcmVzcyA9IHVzZXIuYml0Y29pbkRhdGEuYWRkcmVzcztcbiAgICAgIFxuICAgICAgc2NvcGUudXBkYXRlQmFsYW5jZUJpdGNvaW4oKTtcbiAgICAgIHNjb3BlLiRzY2FuKCk7XG4gICAgfSlcbiAgfVxuXG4gIHNjb3BlLnVwZGF0ZUJhbGFuY2VCaXRjb2luID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzY29wZS5iaXRjb2luX2FkZHJlc3MpIHtcbiAgICAgIGNvbnN0IHVybCA9IGBodHRwczovL2FwaS5ibG9ja3RyYWlsLmNvbS92MS90YnRjL2FkZHJlc3MvJHtzY29wZS5iaXRjb2luX2FkZHJlc3N9P2FwaV9rZXk9TVlfQVBJS0VZYFxuICAgICAgLy8gIHZhciB1cmwgPSAnaHR0cHM6Ly9hcGkuYmxvY2tjeXBoZXIuY29tL3YxL2J0Yy9tYWluL2FkZHJzLycrc2NvcGUuYml0Y29pbl9hZGRyZXNzXG5cbiAgICAgIC8vYml0Y29pblxuICAgICAgJC5nZXRKU09OKHVybCwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzY29wZS5iaXRjb2luX2JhbGFuY2UgPSByLmJhbGFuY2UgLyAxMDAwMDAwMDBcbiAgICAgICAgICBzY29wZS4kc2NhbigpXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHNjb3BlLnNob3dFcnJvciA9IChtc2cpID0+IHtcbiAgICBhbGVydChtc2cpXG4gIH1cblxuICAvLyBjaGVjayBpZiBhZGRyZXNzIHdhcyBjcmVhdGVkXG4gIHNjb3BlLmNoZWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGFkZHJlc3MgPSAnJyArIHNjb3BlLmFkZHJlc3NcblxuICAgIGlmICghYWRkcmVzcy5sZW5ndGgpIHtcbiAgICAgIHNjb3BlLnNob3dFcnJvcign0JDQtNGA0LXRgSDQvdC1INCx0YvQuyDRgdCz0LXQvdC10YDRgNC+0LLQsNC9JylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBjb25zdCBpbmNyZWFzZVRvdGFscyA9IChvcmRlcnMpID0+IHtcbiAgICBvcmRlcnMuZm9yRWFjaCgoeyB0eXBlLCBjdXJyZW5jeTFBbW91bnQsIGN1cnJlbmN5MkFtb3VudCB9KSA9PiB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2J1eScpIHtcbiAgICAgICAgc2NvcGUudG90YWxfYnRjICs9IHBhcnNlRmxvYXQoY3VycmVuY3kyQW1vdW50KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNjb3BlLnRvdGFsX2V0aCArPSBwYXJzZUZsb2F0KGN1cnJlbmN5MUFtb3VudClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgc2NvcGUuJHNjYW4oKVxuICB9XG5cbiAgY29uc3QgZGVjcmVhc2VUb3RhbHMgPSAob3JkZXJzKSA9PiB7XG4gICAgb3JkZXJzLmZvckVhY2goKHsgdHlwZSwgY3VycmVuY3kxQW1vdW50LCBjdXJyZW5jeTJBbW91bnQgfSkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT09ICdidXknKSB7XG4gICAgICAgIHNjb3BlLnRvdGFsX2J0YyAtPSBwYXJzZUZsb2F0KGN1cnJlbmN5MkFtb3VudClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzY29wZS50b3RhbF9ldGggLT0gcGFyc2VGbG9hdChjdXJyZW5jeTFBbW91bnQpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHNjb3BlLiRzY2FuKClcbiAgfVxuXG4gIGNvbnN0IGNsZWFuVG90YWxzID0gKCkgPT4ge1xuICAgIHNjb3BlLnRvdGFsX2V0aCA9IDBcbiAgICBzY29wZS50b3RhbF9idGMgPSAwXG5cbiAgICBzY29wZS4kc2NhbigpXG4gIH1cblxuICBjb25zdCBnZXRVbmlxdWVJZCA9ICgoKSA9PiB7XG4gICAgbGV0IGlkID0gK25ldyBEYXRlKCkgLy8gVE9ETyByZXBsYWNlIHdpdGggdXNlciBwdWJsaWMga2V5XG5cbiAgICByZXR1cm4gKCkgPT4gc2hhMjU2KHVzZXIuZGF0YS5hZGRyZXNzICsgU3RyaW5nKCsraWQpKVxuICB9KSgpXG5cbiAgc2NvcGUuY3JlYXRlT3JkZXIgPSAodHlwZSkgPT4ge1xuICAgIGNvbnN0IGlkID0gZ2V0VW5pcXVlSWQoKVxuXG4gICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xuICAgICAgaWQsXG4gICAgICBvd25lckFkZHJlc3M6IHVzZXIuZGF0YS5hZGRyZXNzLFxuICAgICAgY3VycmVuY3kxOiAnQlRDJyxcbiAgICAgIGN1cnJlbmN5MjogJ0VUSCcsXG4gICAgICBjdXJyZW5jeTFBbW91bnQ6IHR5cGUgPT09ICdidXknID8gc2NvcGUuZXRoIDogc2NvcGUuc2VsbF9ldGgsIC8vIFRPRE8gZml4IHRoaXNcbiAgICAgIGN1cnJlbmN5MkFtb3VudDogdHlwZSA9PT0gJ2J1eScgPyBzY29wZS5idGMgOiBzY29wZS5zZWxsX2J0YywgLy8gVE9ETyBmaXggdGhpc1xuICAgICAgZXhjaGFuZ2VSYXRlOiBzY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZSwgLy8gVE9ETyBmaXggdGhpc1xuICAgICAgdHlwZSxcbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ29yZGVyIGNyZWF0ZWQ6Jywgb3JkZXIpXG5cbiAgICBzY29wZS5ldGggPSAnJ1xuICAgIHNjb3BlLmJ0YyA9ICcnXG4gICAgc2NvcGUuc2VsbF9ldGggPSAnJ1xuICAgIHNjb3BlLnNlbGxfYnRjID0gJydcblxuICAgIHJvb20uc2VuZE1lc3NhZ2Uoe1xuICAgICAgZGF0YTogb3JkZXIsXG4gICAgICB0eXBlOiAnbmV3T3JkZXInLFxuICAgIH0pXG4gICAgb3JkZXJzLmFwcGVuZChvcmRlcilcbiAgICBpbmNyZWFzZVRvdGFscyhbIG9yZGVyIF0pXG4gIH1cblxuICBzY29wZS5yZW1vdmVPcmRlciA9IChpZCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdSZW1vdmUgb3JkZXIgd2l0aCBpZDonLCBpZClcblxuICAgIG9yZGVycy5yZW1vdmUoaWQsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHVzZXIuZGF0YS5hZGRyZXNzLCBvcmRlcnMuaXRlbXMpXG4gICAgICBzY29wZS4kc2NhbigpXG4gICAgfSlcbiAgfVxuXG4gIHNjb3BlLnJlbW92ZUFsbE9yZGVycyA9ICgpID0+IHtcbiAgICBvcmRlcnMucmVtb3ZlQWxsKClcbiAgICBzY29wZS4kc2NhbigpXG4gIH1cblxuICBzY29wZS5zaWduID0gKCkgPT4ge1xuICAgIHVzZXIuc2lnbigpXG4gICAgc2NvcGUudXBkYXRlQmFsYW5jZUV0aCgpXG4gIH1cblxuICAvLyBzY29wZS5zZWxsX2NoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vICAgJCgnI3NlbGxfY2hfYWN0aXZlJykuYXR0cignY2hlY2tlZCcsIGZ1bmN0aW9uKCkge1xuICAvLyAgICAgaWYgKHBhcnNlTWVzcy5teUFkdnMpIHtcbiAgLy8gICAgICAgcmV0dXJuIHBhcnNlTWVzcy5teUFkdnMuYWN0aXZlXG4gIC8vICAgICB9XG4gIC8vXG4gIC8vICAgICByZXR1cm4gdHJ1ZVxuICAvLyAgIH0pXG4gIC8vIH1cbiAgLy9cbiAgLy8gc2NvcGUuY2hlY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gICAkKCcjY2hfYWN0aXZlJykuYXR0cignY2hlY2tlZCcsIGZ1bmN0aW9uKCkge1xuICAvLyAgICAgaWYgKHBhcnNlTWVzcy5teUFkdnMpIHtcbiAgLy8gICAgICAgcmV0dXJuIHBhcnNlTWVzcy5teUFkdnMuYWN0aXZlXG4gIC8vICAgICB9XG4gIC8vXG4gIC8vICAgICByZXR1cm4gdHJ1ZVxuICAvLyAgIH0pXG4gIC8vIH1cblxuICBzY29wZS5jaGVja2VkID0gKCkgPT4ge1xuICAgICQoJyNjaF9hY3RpdmUnKS5hdHRyKCdjaGVja2VkJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocGFyc2VNZXNzLm15QWR2cykge1xuICAgICAgICByZXR1cm4gcGFyc2VNZXNzLm15QWR2cy5hY3RpdmVcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICB9XG5cbiAgc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbXlfc2V0dGluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdteV9zZXR0aW5nJylcblxuICAgIGlmIChteV9zZXR0aW5nKSB7XG4gICAgICBteV9zZXR0aW5nID0gSlNPTi5wYXJzZShteV9zZXR0aW5nKVxuXG4gICAgICBzY29wZS53aXRoZHJhd19ldGhfYWRkcmVzcyA9IG15X3NldHRpbmcud2l0aGRyYXdfZXRoX2FkZHJlc3NcbiAgICAgIHNjb3BlLndpdGhkcmF3X2J0Y19hZGRyZXNzID0gbXlfc2V0dGluZy53aXRoZHJhd19idGNfYWRkcmVzc1xuICAgIH1cblxuICAgIGluY3JlYXNlVG90YWxzKG9yZGVycy5pdGVtcylcbiAgfVxuXG4gIHNjb3BlLmluaXQoKVxuICBzY29wZS5nZXRDdXJyZW50RXhjaGFuZ2VSYXRlKClcbiAgc2NvcGUuc2lnbigpXG5cbiAgbWFpbi5zY29wZSA9IHNjb3BlXG59XG5cblxuLy8gRmlsdGVyc1xuXG5hbGlnaHQuZmlsdGVycy5vbmx5QnV5ID0gKGl0ZW1zLCBzY29wZSkgPT5cbiAgaXRlbXMuZmlsdGVyKCh7IHR5cGUgfSkgPT4gdHlwZSA9PT0gJ2J1eScpXG5cbmFsaWdodC5maWx0ZXJzLm9ubHlTZWxsID0gKGl0ZW1zLCBzY29wZSkgPT5cbiAgaXRlbXMuZmlsdGVyKCh7IHR5cGUgfSkgPT4gdHlwZSA9PT0gJ3NlbGwnKVxuXG5cbi8vIEhvb2tzXG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9ldGhfZXhjaGFuZ2VfcmF0ZSA9IHtcbiAgZXZlbnQ6IFsgJ2lucHV0JywgJ2JsdXInIF0sXG4gIGZuOiAoZXZlbnQsIGVudikgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnYmx1cicpIHJldHVyblxuICAgIGlmICghbWFpbi5zY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZSkgcmV0dXJuXG5cbiAgICBtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlID0gKG1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuYnRjID0gbWFpbi5zY29wZS5ldGggKm1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9ldGggPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5ldGggPSAobWFpbi5zY29wZS5ldGgubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuYnRjID0gbWFpbi5zY29wZS5ldGggKm1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9idGMgPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5idGMgPSAobWFpbi5zY29wZS5idGMubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuZXRoID0gbWFpbi5zY29wZS5idGMgLyBtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlXG5cbiAgICBtYWluLnNjb3BlLiRzY2FuKClcbiAgfVxufVxuXG4vL2ZvciBzZWxsXG5hbGlnaHQuaG9va3MuZXZlbnRNb2RpZmllci5jaGFuZ2VfYnRjX2V4Y2hhbmdlX3JhdGUgPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZSA9IChtYWluLnNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlLm1hdGNoKC9eW1xcZC5dKyQvKSlcbiAgICBtYWluLnNjb3BlLnNlbGxfYnRjID0gbWFpbi5zY29wZS5zZWxsX2V0aCAqbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZVxuXG4gICAgbWFpbi5zY29wZS4kc2NhbigpXG4gIH1cbn1cblxuYWxpZ2h0Lmhvb2tzLmV2ZW50TW9kaWZpZXIuY2hhbmdlX3NlbGxfZXRoID0ge1xuICBldmVudDogWyAnaW5wdXQnLCAnYmx1cicgXSxcbiAgZm46IChldmVudCwgZW52KSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdibHVyJykgcmV0dXJuXG4gICAgaWYgKCFtYWluLnNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlKSByZXR1cm5cblxuICAgIG1haW4uc2NvcGUuc2VsbF9ldGggPSAobWFpbi5zY29wZS5zZWxsX2V0aC5tYXRjaCgvXltcXGQuXSskLykpXG4gICAgbWFpbi5zY29wZS5zZWxsX2J0YyA9IG1haW4uc2NvcGUuc2VsbF9ldGggKm1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9zZWxsX2J0YyA9IHtcbiAgZXZlbnQ6IFsgJ2lucHV0JywgJ2JsdXInIF0sXG4gIGZuOiAoZXZlbnQsIGVudikgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnYmx1cicpIHJldHVyblxuICAgIGlmICghbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZSkgcmV0dXJuXG5cbiAgICBtYWluLnNjb3BlLnNlbGxfYnRjID0gKG1haW4uc2NvcGUuc2VsbF9idGMubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuc2VsbF9ldGggPSBtYWluLnNjb3BlLnNlbGxfYnRjIC8gbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZVxuICAgIFxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgbWFpblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXJzL21haW4uanMiLCJjbGFzcyBPcmRlciB7XG5cbiAgLyoqXG4gICAqXG4gICAqIG93bmVyQWRkcmVzc1xuICAgKiBjdXJyZW5jeTFcbiAgICogY3VycmVuY3kyXG4gICAqIGN1cnJlbmN5MUFtb3VudFxuICAgKiBjdXJyZW5jeTJBbW91bnRcbiAgICogZXhjaGFuZ2VSYXRlXG4gICAqIHR5cGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHRoaXNba2V5XSA9IGRhdGFba2V5XVxuICAgIH0pXG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBPcmRlclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21vZGVscy9PcmRlci5qcyIsImltcG9ydCB1c2VyIGZyb20gJy4vdXNlcidcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbidcblxuXG5jbGFzcyBPcmRlcnMgZXh0ZW5kcyBDb2xsZWN0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLm9uTW91bnQoKVxuICB9XG5cbiAgb25Nb3VudCgpIHtcbiAgICBjb25zdCBpdGVtcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ215T3JkZXJzJykgfHwgJ1tdJylcblxuICAgIHRoaXMuaXRlbXMgPSBpdGVtc1xuICAgIHRoaXMuaXRlbUlkcyA9IHt9XG5cbiAgICBpdGVtcy5mb3JFYWNoKCh7IGlkIH0sIGluZGV4KSA9PiB0aGlzLml0ZW1JZHNbaWRdID0gaW5kZXgpXG5cbiAgICBjb25zb2xlLmxvZygnT3JkZXJzOicsIHRoaXMuaXRlbXMpXG4gIH1cblxuICAvKipcbiAgICogaWRcbiAgICogb3duZXJBZGRyZXNzXG4gICAqIGN1cnJlbmN5MVxuICAgKiBjdXJyZW5jeTJcbiAgICogY3VycmVuY3kxQW1vdW50XG4gICAqIGN1cnJlbmN5MkFtb3VudFxuICAgKiBleGNoYW5nZVJhdGVcbiAgICogdHlwZVxuICAgKi9cbiAgYXBwZW5kKGRhdGEpIHtcbiAgICBzdXBlci5hcHBlbmQoZGF0YSwgZGF0YS5pZClcbiAgICB0aGlzLnNhdmVMb2NhbFN0b3JhZ2UoKVxuICB9XG5cbiAgcmVtb3ZlKGlkLCBjYikge1xuICAgIGlmICh0aGlzLmNoZWNrSWZPd25lZEJ5TWUoaWQpKSB7XG4gICAgICBzdXBlci5yZW1vdmVCeUtleShpZClcbiAgICAgIHRoaXMuc2F2ZUxvY2FsU3RvcmFnZSgpXG4gICAgICBjYigpXG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlQWxsKCkge1xuICAgIHRoaXMuaXRlbXMgPSBbXVxuICAgIHRoaXMuaXRlbUlkcyA9IHt9XG4gICAgdGhpcy5zYXZlTG9jYWxTdG9yYWdlKClcbiAgfVxuXG4gIGNoZWNrSWZPd25lZEJ5TWUoaWQpIHtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuZ2V0QnlLZXkoaWQpXG5cbiAgICBpZiAoIW9yZGVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdjaGVja0lmT3duZWRCeU1lIGZhaWxlZCcsIHRoaXMuaXRlbXMsIHRoaXMuaXRlbUlkcylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiBvcmRlci5vd25lckFkZHJlc3MgPT09IHVzZXIuZGF0YS5hZGRyZXNzXG4gIH1cblxuICBnZXRPd25lZEJ5TWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID8gdGhpcy5pdGVtcy5maWx0ZXIoKHsgb3duZXJBZGRyZXNzIH0pID0+IG93bmVyQWRkcmVzcyA9PT0gdXNlci5kYXRhLmFkZHJlc3MpIDogW11cbiAgfVxuXG4gIHNhdmVMb2NhbFN0b3JhZ2UoKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ215T3JkZXJzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRPd25lZEJ5TWUoKSkpXG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBuZXcgT3JkZXJzKClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbHMvb3JkZXJzLmpzIiwiLyogKGlnbm9yZWQpICovXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gYnVmZmVyIChpZ25vcmVkKVxuLy8gbW9kdWxlIGlkID0gMTgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIChpZ25vcmVkKSAqL1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIHV0aWwgKGlnbm9yZWQpXG4vLyBtb2R1bGUgaWQgPSAyMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogKGlnbm9yZWQpICovXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gdXRpbCAoaWdub3JlZClcbi8vIG1vZHVsZSBpZCA9IDIxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiAoaWdub3JlZCkgKi9cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBjcnlwdG8gKGlnbm9yZWQpXG4vLyBtb2R1bGUgaWQgPSAyNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibGV0IGNvdW50TW9kYWwgPSAwXG5cbmNvbnN0IHNob3dNZXNzID0gKG1lc3NhZ2UsIHNlY29uZHMsIHN0YXR1cykgPT4ge1xuICBsZXQgc3RhdHVzMiA9IDBcbiAgXG4gIGlmIChzdGF0dXMgPT09IDEgfHwgc3RhdHVzID09PSAnc3VjY2VzcycgfHwgc3RhdHVzID09PSAnaW5mbycpIHtcbiAgICBzdGF0dXMyID0gMVxuICB9XG4gIGVsc2UgaWYgKHN0YXR1cyA9PT0gMiB8fCBzdGF0dXMgPT09ICdkYW5nZXInIHx8IHN0YXR1cyA9PT0gJ2Vycm9yJyl7XG4gICAgc3RhdHVzMiA9IDJcbiAgfVxuICBcbiAgY29uc3QgbW9kYWwgPSAkKCcjTXlQb3B1cCcpXG4gIFxuICBpZiAobW9kYWwubGVuZ3RoID4gMCkge1xuICAgIGNvdW50TW9kYWwrK1xuXG4gICAgY29uc3QgdG5Cb3ggPSBtb2RhbC5maW5kKCcudG4tYm94OmVxKDApJykuY2xvbmUoKVxuXG4gICAgbW9kYWwuc2hvdygpXG4gICAgbW9kYWwuYXBwZW5kKHRuQm94KVxuXG4gICAgdG5Cb3guZmluZCgncCcpLmh0bWwobWVzc2FnZSlcbiAgICB0bkJveC5yZW1vdmVDbGFzcygndG4tYm94LWNvbG9yLTAnKVxuICAgIHRuQm94LnJlbW92ZUNsYXNzKCd0bi1ib3gtY29sb3ItMScpXG4gICAgdG5Cb3gucmVtb3ZlQ2xhc3MoJ3RuLWJveC1jb2xvci0yJylcbiAgICB0bkJveC5hZGRDbGFzcygndG4tYm94LWNvbG9yLScgKyBzdGF0dXMyKVxuICAgIHRuQm94LmNzcyh7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgJy13ZWJraXQtYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICAgICctbW96LWFuaW1hdGlvbic6ICdmYWRlT3V0ICcrKHNlY29uZHMgKyAwLjUpKydzIGxpbmVhciBmb3J3YXJkcycsXG4gICAgICAnLW8tYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICAgICctbXMtYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICAgICdhbmltYXRpb24nOiAnZmFkZU91dCAnKyhzZWNvbmRzICsgMC41KSsncyBsaW5lYXIgZm9yd2FyZHMnLFxuICAgIH0pXG5cbiAgICBjb25zdCBwcm9ncmVzcyA9IHRuQm94LmZpbmQoJy50bi1wcm9ncmVzcycpXG5cbiAgICBwcm9ncmVzcy5jc3Moe1xuICAgICAgJy13ZWJraXQtYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgICAnLW1vei1hbmltYXRpb24nOiAncnVuUHJvZ3Jlc3MgJysoc2Vjb25kcyAtIDEpKydzIGxpbmVhciBmb3J3YXJkcyAwLjVzJyxcbiAgICAgICctby1hbmltYXRpb24nOiAncnVuUHJvZ3Jlc3MgJysoc2Vjb25kcyAtIDEpKydzIGxpbmVhciBmb3J3YXJkcyAwLjVzJyxcbiAgICAgICctbXMtYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgICAnYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgfSlcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY291bnRNb2RhbC0tXG4gICAgICB0bkJveC5yZW1vdmUoKVxuICAgICAgaWYgKGNvdW50TW9kYWwgPD0gMCkge1xuICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgIH1cbiAgICB9LCAoc2Vjb25kcyAqIDEwMDApKVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgc2hvd01lc3NcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9oZWxwZXJzL3Nob3dNZXNzLmpzIiwiY2xhc3MgQ29sbGVjdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pdGVtcyA9IFtdXG4gICAgdGhpcy5pdGVtSWRzID0ge31cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgaXRlbSBhdCB0aGUgc3RhcnQgb2YgY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBpdGVtXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcHJlcGVuZChpdGVtLCBrZXkpIHtcbiAgICB0aGlzLml0ZW1zLnVuc2hpZnQoaXRlbSlcbiAgICBpZiAoa2V5KSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5pdGVtSWRzKSB7XG4gICAgICAgIGlmICh0aGlzLml0ZW1JZHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMuaXRlbUlkc1trZXldICs9IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pdGVtSWRzW2tleV0gPSAwXG4gICAgfVxuICAgIHJldHVybiBpdGVtXG4gIH1cblxuICAvKipcbiAgICogQWRkIGl0ZW0gYXQgdGhlIGVuZCBvZiBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGl0ZW1cbiAgICogQHBhcmFtIGtleSB7c3RyaW5nfG51bWJlcn1cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBhcHBlbmQoaXRlbSwga2V5KSB7XG4gICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pXG4gICAgaWYgKGtleSkge1xuICAgICAgdGhpcy5pdGVtSWRzW2tleV0gPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDFcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgaXRlbSBieSBpbmRleCBmcm9tIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICByZW1vdmVCeUluZGV4KGluZGV4KSB7XG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBpdGVtIGJ5IGtleSBbaWRdIGZyb20gY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcmVtb3ZlQnlLZXkoa2V5KSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLml0ZW1JZHNba2V5XVxuXG4gICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgZGVsZXRlIHRoaXMuaXRlbUlkc1trZXldXG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLml0ZW1JZHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXRlbUlkc1trZXldID4gaW5kZXgpIHtcbiAgICAgICAgdGhpcy5pdGVtSWRzW2tleV0tLVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGl0ZW0gaW4gY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBpdGVtXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBpbmRleE9mKGl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IGl0ZW0gYnkgaW5kZXggZnJvbSBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGluZGV4XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZ2V0QnlJbmRleChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zW2luZGV4XVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpdGVtIGJ5IGtleSBbaWRdIGZyb20gY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZ2V0QnlLZXkoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNbdGhpcy5pdGVtSWRzW2tleV1dXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgaXRlbSB3aXRoIHN1Y2ggbmFtZSBleGlzdHMgaW4gY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNFeGlzdChrZXkpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLmdldEJ5S2V5KGtleSkpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGxlbmd0aCBvZiBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHJldHVybnMge051bWJlcn1cbiAgICovXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoXG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbW9kZWxzL0NvbGxlY3Rpb24uanMiLCJpbXBvcnQgSXBmc1Jvb20gZnJvbSAnaXBmcy1wdWJzdWItcm9vbSdcbmltcG9ydCB7IG9yZGVycyB9IGZyb20gJ21vZGVscydcblxuXG5jbGFzcyBSb29tIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsXG4gIH1cblxuICBjb25uZWN0KGlwZnNDb25uZWN0aW9uKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uID0gSXBmc1Jvb20oaXBmc0Nvbm5lY3Rpb24sICdqc3dhcHMnLCB7XG4gICAgICBwb2xsSW50ZXJ2YWw6IDUwMDAsXG4gICAgfSlcblxuICAgIHRoaXMuY29ubmVjdGlvbi5vbignbWVzc2FnZScsIHRoaXMuaGFuZGxlTmV3TWVzc2FnZSlcbiAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ3BlZXIgam9pbmVkJywgdGhpcy5oYW5kbGVOZXdVc2VyQ29ubmVjdGVkKVxuICAgIHRoaXMuY29ubmVjdGlvbi5vbignc3Vic2NyaWJlZCcsIHRoaXMuaGFuZGxlU3Vic2NyaWJlKVxuICB9XG5cbiAgaGFuZGxlU3Vic2NyaWJlID0gKCkgPT4ge1xuICAgIGNvbnNvbGUuaW5mbygnTm93IGNvbm5lY3RlZCEnKVxuICB9XG5cbiAgaGFuZGxlTmV3TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZS5kYXRhLnRvU3RyaW5nKCkpXG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coYE5ldyBtZXNzYWdlIGRhdGE6YCwgeyAuLi5tZXNzYWdlLCBkYXRhIH0pXG5cbiAgICAgIGRhdGEuZm9yRWFjaCgoeyB0eXBlLCBkYXRhIH0pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYE1lc3NhZ2Ugb2YgdHlwZSAke3R5cGV9OmAsIGRhdGEpXG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICduZXdPcmRlcicpIHtcbiAgICAgICAgICBvcmRlcnMuYXBwZW5kKGRhdGEpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTmV3VXNlckNvbm5lY3RlZCA9IChwZWVyKSA9PiB7XG4gICAgY29uc29sZS5pbmZvKCdOZXcgcGVlcjonLCBwZWVyKVxuXG4gICAgY29uc3QgbXlPcmRlcnMgPSBvcmRlcnMuZ2V0T3duZWRCeU1lKClcblxuICAgIGlmIChteU9yZGVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbi5zZW5kVG8ocGVlciwgSlNPTi5zdHJpbmdpZnkobXlPcmRlcnMpKVxuICAgIH1cbiAgfVxuXG4gIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmNvbm5lY3Rpb24uYnJvYWRjYXN0KEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKVxuICB9XG59XG5cbmNvbnN0IHJvb20gPSBuZXcgUm9vbSgpXG5cblxuY29uc3QgaXBmc0Nvbm5lY3Rpb24gPSBuZXcgSXBmcyh7XG4gIEVYUEVSSU1FTlRBTDoge1xuICAgIHB1YnN1YjogdHJ1ZSxcbiAgfSxcbiAgY29uZmlnOiB7XG4gICAgQWRkcmVzc2VzOiB7XG4gICAgICBTd2FybTogW1xuICAgICAgICAnL2RuczQvd3Mtc3Rhci5kaXNjb3ZlcnkubGlicDJwLmlvL3RjcC80NDMvd3NzL3AycC13ZWJzb2NrZXQtc3RhcicsXG4gICAgICBdLFxuICAgIH0sXG4gIH0sXG59KVxuXG5pcGZzQ29ubmVjdGlvbi5vbigncmVhZHknLCAoKSA9PiByb29tLmNvbm5lY3QoaXBmc0Nvbm5lY3Rpb24pKVxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvb21cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbHMvcm9vbS5qcyIsImltcG9ydCBhbGlnaHQgZnJvbSAnYWxpZ2h0J1xuaW1wb3J0IHt1c2VyLCByb29tfSBmcm9tICdtb2RlbHMnXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknXG5jb25zdCBoaXN0b3J5ID0ge1xuICBzY29wZToge30sXG59XG5cbmFsaWdodC5jb250cm9sbGVycy5oaXN0b3J5ID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gIGNvbnNvbGUubG9nKCdoaXN0b3J5IGNvbnRyb2xsZXIhJylcblxuICBzY29wZS5zaWduID0gZnVuY3Rpb24gKCkge1xuICAgIHVzZXIuc2lnbigpXG4gIH1cblxuICBzY29wZS5yZWZyZXNoQlRDVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodXNlci5iaXRjb2luRGF0YS5hZGRyZXNzKSB7XG4gICAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuYmxvY2t0cmFpbC5jb20vdjEvdGJ0Yy9hZGRyZXNzLycgKyB1c2VyLmJpdGNvaW5EYXRhLmFkZHJlc3MgKyAnL3RyYW5zYWN0aW9ucz9hcGlfa2V5PU1ZX0FQSUtFWSdcblxuICAgICAgbGV0IHRvdGFsID0gMFxuXG4gICAgICAkLmdldEpTT04odXJsLCBmdW5jdGlvbiAocikge1xuICAgICAgICBoaXN0b3J5LnNjb3BlLmJ0Y1RyYW5zYWN0aW9ucyA9IHIuZGF0YVxuXG4gICAgICAgICQuZWFjaChyLmRhdGEsIGZ1bmN0aW9uIChrLCBpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coaSlcblxuICAgICAgICB9KVxuXG4gICAgICAgIGhpc3Rvcnkuc2NvcGUuJHNjYW4oKVxuXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnYml0Y29pbl9hZGRyZXNzIGlzIG1pc3NpbmcnKVxuICAgIH1cbiAgfVxuXG4gIHNjb3BlLnNpZ24oKVxuICBzY29wZS5yZWZyZXNoQlRDVHJhbnNhY3Rpb24oKVxuXG4gIGhpc3Rvcnkuc2NvcGUgPSBzY29wZVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGhpc3RvcnlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVycy9oaXN0b3J5LmpzIiwiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5cblxuY29uc3QgZXRoVG9CdGMgPSB7XG4gIHNjb3BlOiB7fSxcbn1cblxuYWxpZ2h0LmNvbnRyb2xsZXJzLmV0aFRvQnRjID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgY29uc29sZS5sb2coJ0VUSCB0byBCVEMgY29udHJvbGxlciEnKVxuXG5cbiAgZXRoVG9CdGMuc2NvcGUgPSBzY29wZVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGV0aFRvQnRjXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29udHJvbGxlcnMvZXRoVG9CdGMuanMiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcbmltcG9ydCBjcnlwdG8gZnJvbSAnc3dhcC1jcnlwdG8nXG5pbXBvcnQgeyBhcHAgfSBmcm9tICdjb250cm9sbGVycydcbmltcG9ydCB7IG9yZGVycyB9IGZyb20gJ21vZGVscydcbmltcG9ydCB7IEVUSFN3YXAsIEJUQ1N3YXAgfSBmcm9tICdzd2FwcydcblxuXG5jb25zdCBidGNUb0V0aCA9IHtcbiAgc2NvcGU6IHt9LFxufVxuXG5hbGlnaHQuY29udHJvbGxlcnMuYnRjVG9FdGggPSBmdW5jdGlvbihzY29wZSkge1xuICBjb25zb2xlLmxvZygnQlRDIHRvIEVUSCBjb250cm9sbGVyIScpXG5cbiAgY29uc3QgeyBwYXJhbXM6IHsgaWQ6IG9yZGVySWQgfSB9ID0gYXBwLnNjb3BlLmFjdGl2ZVJvdXRlXG5cbiAgY29uc3Qgb3JkZXIgPSBvcmRlcnMuZ2V0QnlLZXkob3JkZXJJZClcblxuICBjb25zb2xlLmxvZygnT3JkZXI6Jywgb3JkZXIpXG5cbiAgc2NvcGUuZGF0YSA9IHtcbiAgICBvcmRlcixcbiAgICBzZWNyZXQ6ICdjMDgwOWNlOWY0ODRmZGNkZmIyZDVhYWJkNjA5NzY4Y2UwMzc0ZWU5N2ExYTU2MThjZTRjZDNmMTZjMDBhMDc4JyxcbiAgICBzZWNyZXRIYXNoOiAnJyxcbiAgICBidGNTY3JpcHRBZGRyZXNzOiAnMHgwZHNnc2Roc2Roc2Rkc2gnLFxuICAgIHdhaXRpbmdGb3JVc2VyOiBmYWxzZSxcbiAgICBzdGVwOiAxLFxuICB9XG5cbiAgc2NvcGUuZ29OZXh0U3RlcCA9ICgpID0+IHtcbiAgICBzY29wZS5kYXRhLnN0ZXArKztcblxuICAgIGlmIChzY29wZS5kYXRhLnN0ZXAgPT09IDIpIHtcbiAgICAgIHNjb3BlLmRhdGEuc2VjcmV0SGFzaCA9IGNyeXB0by5yaXBlbWQxNjAoc2NvcGUuZGF0YS5zZWNyZXQpXG4gICAgfVxuICAgIGVsc2UgaWYgKHNjb3BlLmRhdGEuc3RlcCA9PT0gMykge1xuICAgICAgc2NvcGUuZGF0YS53YWl0aW5nRm9yVXNlciA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjb3BlLmRhdGEuc3RlcCA9PT0gNCkge1xuXG4gICAgfVxuXG4gICAgc2NvcGUuJHNjYW4oKVxuICB9XG5cbiAgYnRjVG9FdGguc2NvcGUgPSBzY29wZVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGJ0Y1RvRXRoXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29udHJvbGxlcnMvYnRjVG9FdGguanMiLCJpbXBvcnQgY3J5cHRvIGZyb20gJ2JpdGNvaW5qcy1saWIvc3JjL2NyeXB0bydcblxuXG4vKlxuIHNlY3JldCAgICAgICAgYzA4MDljZTlmNDg0ZmRjZGZiMmQ1YWFiZDYwOTc2OGNlMDM3NGVlOTdhMWE1NjE4Y2U0Y2QzZjE2YzAwYTA3OFxuIHNlY3JldEhhc2ggICAgYzA5MzNmOWJlNTFhMjg0YWNiNmIxYTY2MTdhNDhkNzk1YmRlYWE4MFxuICovXG5jb25zdCByaXBlbWQxNjAgPSAodmFsdWUpID0+IGNyeXB0by5yaXBlbWQxNjAoQnVmZmVyLmZyb20odmFsdWUsICdoZXgnKSkudG9TdHJpbmcoJ2hleCcpXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICByaXBlbWQxNjAsXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9sb2NhbF9tb2R1bGVzL3N3YXAtY3J5cHRvLmpzIiwiaW1wb3J0IGJpdGNvaW4gZnJvbSAnYml0Y29pbmpzLWxpYidcblxuY29uc3QgdGVzdG5ldFV0aWxzID0ge30gLy8gVE9ETyBIT1c/XG5cblxuY29uc3QgdXRjTm93ID0gKCkgPT4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMClcbmNvbnN0IGxvY2tUaW1lID0gdXRjTm93KCkgKyAzNjAwICogMyAvLyAzIGRheXMgZnJvbSBub3dcblxuXG5jb25zdCBjcmVhdGVTY3JpcHQgPSAoYnRjT3duZXJTZWNyZXRIYXNoLCBidGNPd25lclB1YmxpY0tleSwgZXRoT3duZXJQdWJsaWNLZXkpID0+IHtcbiAgcmV0dXJuIGJpdGNvaW4uc2NyaXB0LmNvbXBpbGUoW1xuICAgIGJ0Y093bmVyUHVibGljS2V5LFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9DSEVDS1NJRyxcblxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9JRixcbiAgICBiaXRjb2luLnNjcmlwdC5udW1iZXIuZW5jb2RlKGxvY2tUaW1lKSxcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfQ0hFQ0tMT0NLVElNRVZFUklGWSxcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfRU5ESUYsXG5cbiAgICBldGhPd25lclB1YmxpY0tleSxcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfQ0hFQ0tTSUcsXG5cbiAgICBiaXRjb2luLm9wY29kZXMuT1BfSUYsXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX1JJUEVNRDE2MCxcbiAgICBCdWZmZXIuZnJvbShidGNPd25lclNlY3JldEhhc2gsICdoZXgnKSxcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfRVFVQUxWRVJJRlksXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0VORElGLFxuICBdKVxufVxuXG5jb25zdCBhZGRNb25leSA9IChzY3JpcHQsIGFtb3VudCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IHNjcmlwdFB1YktleSAgICA9IGJpdGNvaW4uc2NyaXB0LnNjcmlwdEhhc2gub3V0cHV0LmVuY29kZShiaXRjb2luLmNyeXB0by5oYXNoMTYwKHNjcmlwdCkpXG4gICAgY29uc3Qgc2NyaXB0QWRkcmVzcyAgID0gYml0Y29pbi5hZGRyZXNzLmZyb21PdXRwdXRTY3JpcHQoc2NyaXB0UHViS2V5LCB0ZXN0bmV0KVxuXG4gICAgdGVzdG5ldFV0aWxzLmZhdWNldChzY3JpcHRBZGRyZXNzLCBhbW91bnQsIGZ1bmN0aW9uIChlcnIsIHVuc3BlbnQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Z1bmQgZXJyb3I6JywgZXJyKVxuICAgICAgICByZWplY3QoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZSgpXG4gICAgfSlcbiAgfSlcbn1cblxuY29uc3Qgd2l0aGRyYXcgPSAoc2NyaXB0LCB1bnNwZW50LCBzZWNyZXQsIHdpdGhkcmF3QWRkcmVzcykgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IGhhc2hUeXBlICA9IGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTExcbiAgICBjb25zdCB0eCAgICAgICAgPSBuZXcgYml0Y29pbi5UcmFuc2FjdGlvbkJ1aWxkZXIodGVzdG5ldClcblxuICAgIHR4LnNldExvY2tUaW1lKGxvY2tUaW1lKVxuICAgIHR4LmFkZElucHV0KHVuc3BlbnQudHhJZCwgdW5zcGVudC52b3V0LCAweGZmZmZmZmZlKVxuICAgIHR4LmFkZE91dHB1dCh3aXRoZHJhd0FkZHJlc3MsIDFlNClcblxuICAgIGNvbnN0IHR4UmF3ICAgICAgICAgICAgICAgPSB0eC5idWlsZEluY29tcGxldGUoKVxuICAgIGNvbnN0IHNpZ25hdHVyZUhhc2ggICAgICAgPSB0eFJhdy5oYXNoRm9yU2lnbmF0dXJlKDAsIHNjcmlwdCwgaGFzaFR5cGUpXG4gICAgY29uc3QgZXRoT3duZXJTaWduYXR1cmUgICA9IGV0aE93bmVyLnNpZ24oc2lnbmF0dXJlSGFzaCkudG9TY3JpcHRTaWduYXR1cmUoaGFzaFR5cGUpXG5cbiAgICBjb25zdCBzY3JpcHRTaWcgPSBiaXRjb2luLnNjcmlwdC5zY3JpcHRIYXNoLmlucHV0LmVuY29kZShcbiAgICAgIFtcbiAgICAgICAgZXRoT3duZXJTaWduYXR1cmUsXG4gICAgICAgIEJ1ZmZlci5mcm9tKHNlY3JldCwgJ2hleCcpLFxuICAgICAgXSxcbiAgICAgIHNjcmlwdFxuICAgIClcblxuICAgIHR4UmF3LnNldElucHV0U2NyaXB0KDAsIHNjcmlwdFNpZylcblxuICAgIGNvbnN0IHR4SWQgPSB0eFJhdy5nZXRJZCgpXG5cbiAgICBjb25zb2xlLmxvZygnZmluYWwgdHhpZCcsIHR4SWQpXG4gICAgY29uc29sZS5sb2coJ2ZpbmFsIHR4UmF3JywgdHhSYXcpXG5cbiAgICB0ZXN0bmV0VXRpbHMudHJhbnNhY3Rpb25zLnByb3BhZ2F0ZSh0eFJhdy50b0hleCgpLCAoc210aCwgcmVzdWx0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KVxuXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlamVjdCgpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuY29uc3QgcmVmdW5kID0gKHNjcmlwdCwgdW5zcGVudCwgc2VjcmV0LCByZWZ1bmRBZGRyZXNzKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgaGFzaFR5cGUgID0gYml0Y29pbi5UcmFuc2FjdGlvbi5TSUdIQVNIX0FMTFxuICAgIGNvbnN0IHR4ICAgICAgICA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uQnVpbGRlcih0ZXN0bmV0KVxuXG4gICAgdHguc2V0TG9ja1RpbWUobG9ja1RpbWUpXG4gICAgdHguYWRkSW5wdXQodW5zcGVudC50eElkLCB1bnNwZW50LnZvdXQsIDB4ZmZmZmZmZmUpXG4gICAgdHguYWRkT3V0cHV0KHJlZnVuZEFkZHJlc3MsIDFlNClcblxuICAgIGNvbnN0IHR4UmF3ICAgICAgICAgICAgICAgPSB0eC5idWlsZEluY29tcGxldGUoKVxuICAgIGNvbnN0IHNpZ25hdHVyZUhhc2ggICAgICAgPSB0eFJhdy5oYXNoRm9yU2lnbmF0dXJlKDAsIHNjcmlwdCwgaGFzaFR5cGUpXG4gICAgY29uc3QgYnRjT3duZXJTaWduYXR1cmUgICA9IGJ0Y093bmVyLnNpZ24oc2lnbmF0dXJlSGFzaCkudG9TY3JpcHRTaWduYXR1cmUoaGFzaFR5cGUpXG5cbiAgICBjb25zdCBzY3JpcHRTaWcgPSBiaXRjb2luLnNjcmlwdC5zY3JpcHRIYXNoLmlucHV0LmVuY29kZShcbiAgICAgIFtcbiAgICAgICAgYnRjT3duZXJTaWduYXR1cmUsXG4gICAgICAgIEJ1ZmZlci5mcm9tKHNlY3JldCwgJ2hleCcpLFxuICAgICAgXSxcbiAgICAgIHNjcmlwdFxuICAgIClcblxuICAgIHR4UmF3LnNldElucHV0U2NyaXB0KDAsIHNjcmlwdFNpZylcblxuICAgIGNvbnN0IHR4SWQgPSB0eFJhdy5nZXRJZCgpXG5cbiAgICBjb25zb2xlLmxvZygnZmluYWwgdHhpZCcsIHR4SWQpXG4gICAgY29uc29sZS5sb2coJ2ZpbmFsIHR4UmF3JywgdHhSYXcpXG5cbiAgICB0ZXN0bmV0VXRpbHMudHJhbnNhY3Rpb25zLnByb3BhZ2F0ZSh0eFJhdy50b0hleCgpLCAoc210aCwgcmVzdWx0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KVxuXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlamVjdCgpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNyZWF0ZVNjcmlwdCxcbiAgYWRkTW9uZXksXG4gIHdpdGhkcmF3LFxuICByZWZ1bmQsXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3dhcHMvYnRjU3dhcC5qcyIsImV4cG9ydCBkZWZhdWx0IHtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N3YXBzL2V0aFN3YXAuanMiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcblxuXG5hbGlnaHQuZGlyZWN0aXZlcy5hbC5jb3B5ID0gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBleHByZXNzaW9uLCBlbnYpIHtcbiAgJChlbGVtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIHRyeSB7XG4gICAgICAvLyDRgdC+0LLRgNC10LzQtdC90L3Ri9C5INC+0LHRitC10LrRgiBTZWxlY3Rpb25cbiAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgLy8g0LTQu9GPIElFOC1cbiAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpXG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpXG4gICAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dCh0aGlzKVxuICAgICAgcmFuZ2Uuc2VsZWN0KCkuY3JlYXRlVGV4dFJhbmdlKClcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiQ29weVwiKVxuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgICAgIHJhbmdlLnNlbGVjdE5vZGUodGhpcylcbiAgICAgIGNvbnNvbGUubG9nKHJhbmdlKVxuICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLmFkZFJhbmdlKHJhbmdlKVxuICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJDb3B5XCIpXG4gICAgICBhbGVydChcInRleHQgY29waWVkXCIpXG4gICAgfVxuICB9KVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2RpcmVjdGl2ZXMvY29weS5qcyIsImltcG9ydCB7IGFwcCB9IGZyb20gJ2NvbnRyb2xsZXJzJ1xuaW1wb3J0IE5hdmlnbyBmcm9tICduYXZpZ28nXG5cblxuY29uc3Qgcm91dGVyID0gbmV3IE5hdmlnbyhudWxsLCB0cnVlLCAnIycpXG5cbmNvbnN0IGJpbmQgPSAocGF0aCkgPT4gWyBwYXRoLCAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICBjb25zb2xlLmxvZyhgUm91dGUgY2hhbmdlZCB0byAke3BhdGh9YClcblxuICBhcHAuc2NvcGUuYWN0aXZlUm91dGUgPSB7XG4gICAgcGF0aCxcbiAgICBwYXJhbXMsXG4gICAgcXVlcnksXG4gIH1cbiAgYXBwLnNjb3BlLiRzY2FuKClcbn0gXVxuXG5yb3V0ZXJcbiAgLm9uKC4uLmJpbmQoJy8nKSlcbiAgLm9uKC4uLmJpbmQoJy9oaXN0b3J5JykpXG4gIC5vbiguLi5iaW5kKCcvYnRjLXRvLWV0aC86aWQnKSlcbiAgLm9uKC4uLmJpbmQoJy9ldGgtdG8tYnRjLzppZCcpKVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcm91dGVyLmpzIiwiaW1wb3J0IFdlYjMgZnJvbSAnd2ViMydcbmltcG9ydCBiaXRjb2luIGZyb20gJ2JpdGNvaW5qcy1saWInXG5pbXBvcnQgQmlnSW50ZWdlciBmcm9tICdiaWdpJ1xuaW1wb3J0IHsgbWFpbiB9IGZyb20gJ2NvbnRyb2xsZXJzJ1xuaW1wb3J0IHsgc2hvd01lc3MgfSBmcm9tICdoZWxwZXJzJ1xuXG5cbmNsYXNzIFVzZXIge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud2ViMyA9IG5ldyBXZWIzKG5ldyBXZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIoXCJodHRwczovL3JvcHN0ZW4uaW5mdXJhLmlvL0pDbks1aWZFUEg5cWNRa1gwQWhsXCIpKVxuICAgIHRoaXMuZGF0YSA9IHt9XG4gICAgdGhpcy5iaXRjb2luRGF0YSA9IHt9XG4gIH1cblxuICBzZW5kVHJhbnNhY3Rpb25FdGgobW9kYWwpIHtcbiAgICB0aGlzLndlYjMuZXRoLmdldEJhbGFuY2UodGhpcy5kYXRhLmFkZHJlc3MpLnRoZW4oKHIpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG1haW4uc2NvcGUuYmFsYW5jZSA9IHRoaXMud2ViMy51dGlscy5mcm9tV2VpKHIpXG5cbiAgICAgICAgaWYgKCFtYWluLnNjb3BlLmJhbGFuY2UpIHtcbiAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ9CS0LDRiCDQsdCw0LvQsNC90YEg0L/Rg9GB0YInKVxuICAgICAgICAgIHNob3dNZXNzKCfQktCw0Ygg0LHQsNC70LDQvdGBINC/0YPRgdGCJywgNSwgMClcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYWluLnNjb3BlLmJhbGFuY2UgPCBtYWluLnNjb3BlLndpdGhkcmF3X2V0aF9hbW91bnQpIHtcbiAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ9Cd0LAg0LLQsNGI0LXQvCDQsdCw0LvQsNC90YHQtSDQvdC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YHRgNC10LTRgdGC0LInKVxuICAgICAgICAgIHNob3dNZXNzKCfQndCwINCy0LDRiNC10Lwg0LHQsNC70LDQvdGB0LUg0L3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INGB0YDQtdC00YHRgtCyJywgNSwgMClcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy53ZWIzLnV0aWxzLmlzQWRkcmVzcyhtYWluLnNjb3BlLndpdGhkcmF3X2V0aF9hZGRyZXNzKSkge1xuICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcign0J3QtSDQstC10YDQvdGL0Lkg0LDQtNGA0LXRgScpXG4gICAgICAgICAgc2hvd01lc3MoJ9Cd0LUg0LLQtdGA0L3Ri9C5INCw0LTRgNC10YEnLCA1LCAwKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICBmcm9tOiBtYWluLnNjb3BlLmFkZHJlc3MsXG4gICAgICAgICAgdG86IG1haW4uc2NvcGUud2l0aGRyYXdfZXRoX2FkZHJlc3MsXG4gICAgICAgICAgZ2FzOiBcIjIxMDAwXCIsXG4gICAgICAgICAgZ2FzUHJpY2U6IFwiMjAwMDAwMDAwMDBcIixcbiAgICAgICAgICB2YWx1ZTogdGhpcy53ZWIzLnV0aWxzLnRvV2VpKG1haW4uc2NvcGUud2l0aGRyYXdfZXRoX2Ftb3VudC50b1N0cmluZygpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53ZWIzLmV0aC5hY2NvdW50cy5zaWduVHJhbnNhY3Rpb24odCxsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJpdmF0ZUtleScpKVxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndlYjMuZXRoLnNlbmRTaWduZWRUcmFuc2FjdGlvbihyZXN1bHQucmF3VHJhbnNhY3Rpb24pXG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigocmVjZWlwdCkgPT4ge1xuICAgICAgICAgICAgc2hvd01lc3MoJ0dvb2QnLCA1LCAxKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ29vZCcpXG5cbiAgICAgICAgICAgIGNvbnN0IG0gPSAkKG1vZGFsKVxuXG4gICAgICAgICAgICBpZiAobS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIG0ubW9kYWwoJ2hpZGUnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKVxuXG4gICAgICAgIC8vIHRoaXMud2ViMy5ldGguc2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgICAgLy8gICBmcm9tOiBtYWluLnNjb3BlLmFkZHJlc3MsXG4gICAgICAgIC8vICAgdG86IG1haW4uc2NvcGUud2l0aGRyYXdfZXRoX2FkZHJlc3MsXG4gICAgICAgIC8vICAgYW1vdW50OiB0aGlzLndlYjMudXRpbHMudG9XZWkobWFpbi5zY29wZS53aXRoZHJhd19ldGhfYW1vdW50LnRvU3RyaW5nKCkpXG4gICAgICAgIC8vIH0pLnRoZW4oZnVuY3Rpb24oZXJyLCByZXNwKSB7XG4gICAgICAgIC8vICAgc2hvd01lc3MoJ0Vycm9yJywgNSwgMClcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIC8vICAgY29uc29sZS5sb2cocmVzcClcbiAgICAgICAgLy8gfSlcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIG1haW4uc2NvcGUuc2hvd0Vycm9yKGUpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHNlbmRUcmFuc2FjdGlvbkJ0Yyhtb2RhbCkge1xuICAgIGNvbnN0IG5ld3R4ID0ge1xuICAgICAgaW5wdXRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBhZGRyZXNzZXM6IFsgbWFpbi5zY29wZS5iaXRjb2luX2FkZHJlc3MgXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBvdXRwdXRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBhZGRyZXNzZXM6IFsgbWFpbi5zY29wZS53aXRoZHJhd19idGNfYWRkcmVzcyBdLFxuICAgICAgICAgIHZhbHVlOiBtYWluLnNjb3BlLndpdGhkcmF3X2J0Y19hbW91bnQgKiAxMDAwMDAwMDAsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH1cblxuICAgIGlmIChtYWluLnNjb3BlLndpdGhkcmF3X2J0Y19hbW91bnQgPiBtYWluLnNjb3BlLmJpdGNvaW5fYmFsYW5jZSkge1xuICAgICAgc2hvd01lc3MoJ9Cd0LAg0LLQsNGI0LXQvCDQsdCw0LvQsNC90YHQtSDQvdC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YHRgNC10LTRgdGC0LInLCA1LCAwKVxuICAgICAgLy8gYWxlcnQoJ9Cd0LAg0LLQsNGI0LXQvCDQsdCw0LvQsNC90YHQtSDQvdC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0YHRgNC10LTRgdGC0LInKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgJC5wb3N0KCdodHRwczovL2FwaS5ibG9ja2N5cGhlci5jb20vdjEvYnRjL3Rlc3QzL3R4cy9uZXcnLCBKU09OLnN0cmluZ2lmeShuZXd0eCkpXG4gICAgICAudGhlbigoZCkgPT4ge1xuICAgICAgICAvLyBjb252ZXJ0IHJlc3BvbnNlIGJvZHkgdG8gSlNPTlxuICAgICAgICBsZXQgdG1wdHggPSAgZFxuXG4gICAgICAgIC8vIGF0dHJpYnV0ZSB0byBzdG9yZSBwdWJsaWMga2V5c1xuICAgICAgICB0bXB0eC5wdWJrZXlzID0gW11cblxuICAgICAgICAvLyBidWlsZCBzaWduZXIgZnJvbSBXSUZcbiAgICAgICAgbGV0IGtleXMgPSBuZXcgYml0Y29pbi5FQ1BhaXIuZnJvbVdJRih0aGlzLmJpdGNvaW5EYXRhLmtleVBhaXIudG9XSUYoKSwgIGJpdGNvaW4ubmV0d29ya3MudGVzdG5ldClcblxuICAgICAgICAvLyBpdGVyYXRlIGFuZCBzaWduIGVhY2ggdHJhbnNhY3Rpb24gYW5kIGFkZCBpdCBpbiBzaWduYXR1cmVzIHdoaWxlIHN0b3JlIGNvcnJlc3BvbmRpbmcgcHVibGljIGtleSBpbiBwdWJrZXlzXG4gICAgICAgIHRtcHR4LnNpZ25hdHVyZXMgPSB0bXB0eC50b3NpZ24ubWFwKCh0b3NpZ24sIG4pID0+IHtcbiAgICAgICAgICB0bXB0eC5wdWJrZXlzLnB1c2goa2V5cy5nZXRQdWJsaWNLZXlCdWZmZXIoKS50b1N0cmluZygnaGV4JykpO1xuXG4gICAgICAgICAgcmV0dXJuIGtleXMuc2lnbihCaWdJbnRlZ2VyLmZyb21IZXgodG9zaWduLnRvU3RyaW5nKCdoZXgnKSkudG9CdWZmZXIoKSkudG9ERVIoKS50b1N0cmluZygnaGV4JylcbiAgICAgICAgfSlcblxuICAgICAgICAkLnBvc3QoJ2h0dHBzOi8vYXBpLmJsb2NrY3lwaGVyLmNvbS92MS9idGMvdGVzdDMvdHhzL3NlbmQnLEpTT04uc3RyaW5naWZ5KHRtcHR4KSkudGhlbigocikgPT4ge1xuICAgICAgICAgIHNob3dNZXNzKCfQn9C70LDRgtC10LYg0L/RgNC+0YjQtdC7JywgNSwgMSlcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhyKVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG0gPSAkKG1vZGFsKVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG0ubW9kYWwoJ2hpZGUnKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAvLyBjb25zdCB0eGIgPSBuZXcgYml0Y29pbi5UcmFuc2FjdGlvbkJ1aWxkZXIoYml0Y29pbi5uZXR3b3Jrcy50ZXN0bmV0KVxuICAgIC8vXG4gICAgLy8gLy9odHRwczovL2FwaS5ibG9ja3RyYWlsLmNvbS92MS9idGMvYWRkcmVzcy8xN2hGb1ZTY05LVkRmRFRUNnZWaGpZd3ZDdTZpREVpWEM0L3RyYW5zYWN0aW9ucz9hcGlfa2V5PU1ZX0FQSUtFWVxuICAgIC8vIHVybCA9ICdodHRwczovL2FwaS5ibG9ja3RyYWlsLmNvbS92MS90YnRjL2FkZHJlc3MvJyttYWluLnNjb3BlLmJpdGNvaW5fYWRkcmVzcysnL3Vuc3BlbnQtb3V0cHV0cz9hcGlfa2V5PU1ZX0FQSUtFWSdcbiAgICAvLyBqUXVlcnkuZ2V0SlNPTih1cmwsIChyKSA9PiB7XG4gICAgLy8gICB0eGIuYWRkSW5wdXQoci5kYXRhWzBdLmhhc2gsIDEpXG4gICAgLy8gICB0eGIuYWRkT3V0cHV0KG1haW4uc2NvcGUud2l0aGRyYXdfYnRjX2FkZHJlc3MsIG1haW4uc2NvcGUud2l0aGRyYXdfYnRjX2Ftb3VudCAqIDEwMDAwMDAwMClcbiAgICAvLyAgIHR4Yi5zaWduKDAsIHRoaXMuYml0Y29pbkRhdGEua2V5UGFpcilcbiAgICAvL1xuICAgIC8vICAgY29uc3QgcHVzaHR4ID0ge1xuICAgIC8vICAgICB0eDogdHhiLmJ1aWxkKCkudG9IZXgoKVxuICAgIC8vICAgfVxuICAgIC8vXG4gICAgLy8gICAkLnBvc3QoJ2h0dHBzOi8vYXBpLmJsb2NrY3lwaGVyLmNvbS92MS9idGMvdGVzdDMvdHhzL3B1c2gnLCBKU09OLnN0cmluZ2lmeShwdXNodHgpKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgLy9cbiAgICAvLyAgICAgY29uc29sZS5sb2cocilcbiAgICAvLyAgIH0pXG4gICAgLy9cbiAgICAvLyB9KVxuICB9XG5cbiAgc2lnbigpIHtcbiAgICBjb25zdCByZXRyaWV2ZWRPYmplY3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJpdmF0ZUtleScpXG5cbiAgICBpZiAocmV0cmlldmVkT2JqZWN0KSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLndlYjMuZXRoLmFjY291bnRzLnByaXZhdGVLZXlUb0FjY291bnQocmV0cmlldmVkT2JqZWN0KVxuXG4gICAgICAgIHRoaXMuc2lnbkJpdGNvaW4ocmV0cmlldmVkT2JqZWN0KVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignMiB1c2VyIGNhbnQgbG9naW4nKVxuICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICB9XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLndlYjMuZXRoLmFjY291bnRzLmNyZWF0ZSgpXG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByaXZhdGVLZXknLHRoaXMuZGF0YS5wcml2YXRlS2V5IClcbiAgICAgICAgdGhpcy5zaWduQml0Y29pbih0aGlzLmRhdGEucHJpdmF0ZUtleSlcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJzEgdXNlciBjYW50IGxvZ2luJylcbiAgICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNpZ25CaXRjb2luKGtleSkge1xuICAgIC8vIGNvbnN0IHB1YmxpY0tleSA9IGtleVxuICAgIC8vIGNvbnN0IHB1YmxpY0tleUhhc2ggPSBiaXRjb2luLmNyeXB0by5oYXNoMTYwKHB1YmxpY0tleSlcbiAgICAvLyBjb25zdCBhZGRyZXNzID0gIGJpdGNvaW4uYWRkcmVzcy50b0Jhc2U1OENoZWNrKHB1YmxpY0tleUhhc2gsIGJpdGNvaW4ubmV0d29ya3MuYml0Y29pbi5wdWJLZXlIYXNoKVxuICAgIC8vIGNvbnN0IGFkZHJlc3MgPSAgYml0Y29pbi5hZGRyZXNzLnRvQmFzZTU4Q2hlY2socHVibGljS2V5SGFzaCwgYml0Y29pbi5uZXR3b3Jrcy50ZXN0bmV0LnB1YktleUhhc2gpXG5cbiAgICBjb25zdCBoYXNoICAgICAgPSBiaXRjb2luLmNyeXB0by5zaGEyNTYoa2V5KVxuICAgIGNvbnN0IGQgICAgICAgICA9IEJpZ0ludGVnZXIuZnJvbUJ1ZmZlcihoYXNoKVxuICAgIGNvbnN0IGtleVBhaXIgICA9IG5ldyBiaXRjb2luLkVDUGFpcihkLCBudWxsLCB7bmV0d29yazogYml0Y29pbi5uZXR3b3Jrcy50ZXN0bmV0fSlcbiAgICBjb25zdCBhZGRyZXNzICAgPSBrZXlQYWlyLmdldEFkZHJlc3MoKVxuXG4gICAgdGhpcy5iaXRjb2luRGF0YSA9IHtcbiAgICAgIGFkZHJlc3MsXG4gICAgICBrZXlQYWlyLFxuICAgIH1cbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBVc2VyKClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbHMvdXNlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=