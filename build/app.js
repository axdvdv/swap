webpackJsonp([0],{

/***/ 151:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bootstrap_dist_css_bootstrap_css__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bootstrap_dist_js_bootstrap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_scss__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style_scss__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_directives__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_router__ = __webpack_require__(81);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.autostart=false;__WEBPACK_IMPORTED_MODULE_0_alight___default.a.bootstrap();__WEBPACK_IMPORTED_MODULE_6_router__["a" /* default */].resolve();

/***/ }),

/***/ 156:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 157:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__link__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__copy__ = __webpack_require__(398);


/***/ }),

/***/ 158:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_router__ = __webpack_require__(81);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.directives.al.link=function(scope,element,expression,env){$(element).on('click',function(event){event.preventDefault();event.stopPropagation();var link=$(this).attr('al-link')||$(this).attr('data-link');__WEBPACK_IMPORTED_MODULE_1_router__["a" /* default */].navigate(link);scope.activeRoute=link;scope.$scan();});};

/***/ }),

/***/ 159:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
var app={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.app=function(scope){console.log('App controller!');scope.activeRoute={};app.scope=scope;};/* harmony default export */ __webpack_exports__["a"] = (app);

/***/ }),

/***/ 160:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_js_sha256__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_models__ = __webpack_require__(39);
var main={scope:{}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.controllers.main=function(scope){console.log('Main controller!');scope.orders=__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */];scope.advs=[];scope.balance=0;scope.address='';scope.eth_exchange_rate='';scope.btc_exchange_rate='';scope.total_eth=0;scope.total_btc=0;scope.bitcoin_address=0;scope.min_withdraw_eth=0.01;scope.min_withdraw_btc=0.1;scope.my_setting={};scope.btcTransactions=[];scope.send_eth=function(modal){scope.saveApps();scope.$scan();__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sendTransactionEth(modal);// var m = $(modal)
// if (m.length > 0) {
//     m.modal('hide')
// }
};scope.send_btc=function(modal){scope.saveApps();scope.$scan();__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sendTransactionBtc(modal);// var m = $(modal)
// if (m.length > 0) {
//     m.modal('hide')
// }
};scope.saveApps=function(){var mySetting=JSON.stringify({'withdraw_eth_address':scope.withdraw_eth_address,'withdraw_btc_address':scope.withdraw_btc_address});localStorage.setItem('my_setting',mySetting);};scope.getCurrentExchangeRate=function(){try{__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.getJSON('https://noxonfund.com/curs.php',function(_ref){var price_btc=_ref.price_btc;scope.eth_exchange_rate=price_btc;scope.btc_exchange_rate=price_btc;scope.$scan();});}catch(e){console.log(e);}};scope.updateBalanceEth=function(){__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].web3.eth.getBalance(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address).then(function(r){scope.balance=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].web3.utils.fromWei(r);scope.address=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address;scope.bitcoin_address=__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].bitcoinData.address;scope.updateBalanceBitcoin();scope.$scan();});};scope.updateBalanceBitcoin=function(){if(scope.bitcoin_address){var url='https://api.blocktrail.com/v1/tbtc/address/'+scope.bitcoin_address+'?api_key=MY_APIKEY';//  var url = 'https://api.blockcypher.com/v1/btc/main/addrs/'+scope.bitcoin_address
//bitcoin
__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.getJSON(url,function(r){try{scope.bitcoin_balance=r.balance/100000000;scope.$scan();}catch(e){console.log(e);}});}};scope.showError=function(msg){alert(msg);};// check if address was created
scope.check=function(){var address=''+scope.address;if(!address.length){scope.showError('Адрес не был сгенеррован');return false;}return true;};var increaseTotals=function increaseTotals(orders){orders.forEach(function(_ref2){var type=_ref2.type,currency1Amount=_ref2.currency1Amount,currency2Amount=_ref2.currency2Amount;if(type==='buy'){scope.total_btc+=parseFloat(currency2Amount);}else{scope.total_eth+=parseFloat(currency1Amount);}});scope.$scan();};scope.createOrder=function(type){var id=__WEBPACK_IMPORTED_MODULE_2_js_sha256___default()(__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address);// TODO replace with user public key
var order=new __WEBPACK_IMPORTED_MODULE_3_models__["a" /* Order */]({id:id,ownerAddress:__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].data.address,currency1:'BTC',currency2:'ETH',currency1Amount:type==='buy'?scope.eth:scope.sell_eth,// TODO fix this
currency2Amount:type==='buy'?scope.btc:scope.sell_btc,// TODO fix this
exchangeRate:scope.eth_exchange_rate,// TODO fix this
type:type});console.log('order created:',order);__WEBPACK_IMPORTED_MODULE_3_models__["c" /* room */].sendMessage({data:order,type:'newOrder'});__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].append(order);increaseTotals([order]);localStorage.setItem('myOrders',JSON.stringify(__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].getOwnedByMe()));};// auth
scope.sign=function(){__WEBPACK_IMPORTED_MODULE_3_models__["d" /* user */].sign();scope.updateBalanceEth();};// scope.sell_checked = function () {
//   $('#sell_ch_active').attr('checked', function() {
//     if (parseMess.myAdvs) {
//       return parseMess.myAdvs.active
//     }
//
//     return true
//   })
// }
//
// scope.checked = function () {
//   $('#ch_active').attr('checked', function() {
//     if (parseMess.myAdvs) {
//       return parseMess.myAdvs.active
//     }
//
//     return true
//   })
// }
scope.checked=function(){__WEBPACK_IMPORTED_MODULE_0_jquery___default()('#ch_active').attr('checked',function(){if(parseMess.myAdvs){return parseMess.myAdvs.active;}return true;});};scope.init=function(){var my_setting=localStorage.getItem('my_setting');if(my_setting){my_setting=JSON.parse(my_setting);scope.withdraw_eth_address=my_setting.withdraw_eth_address;scope.withdraw_btc_address=my_setting.withdraw_btc_address;}increaseTotals(__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].items);};scope.init();scope.getCurrentExchangeRate();scope.sign();main.scope=scope;};// Filters
__WEBPACK_IMPORTED_MODULE_1_alight___default.a.filters.onlyBuy=function(items,scope){return items.filter(function(_ref3){var type=_ref3.type;return type==='buy';});};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.filters.onlySell=function(items,scope){return items.filter(function(_ref4){var type=_ref4.type;return type==='sell';});};// Hooks
__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_eth_exchange_rate={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.eth_exchange_rate=main.scope.eth_exchange_rate.match(/^[\d.]+$/);main.scope.btc=main.scope.eth*main.scope.eth_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_eth={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.eth=main.scope.eth.match(/^[\d.]+$/);main.scope.btc=main.scope.eth*main.scope.eth_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_btc={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.eth_exchange_rate)return;main.scope.btc=main.scope.btc.match(/^[\d.]+$/);main.scope.eth=main.scope.btc/main.scope.eth_exchange_rate;main.scope.$scan();}//for sell
};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_btc_exchange_rate={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.btc_exchange_rate=main.scope.btc_exchange_rate.match(/^[\d.]+$/);main.scope.sell_btc=main.scope.sell_eth*main.scope.btc_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_sell_eth={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.sell_eth=main.scope.sell_eth.match(/^[\d.]+$/);main.scope.sell_btc=main.scope.sell_eth*main.scope.btc_exchange_rate;main.scope.$scan();}};__WEBPACK_IMPORTED_MODULE_1_alight___default.a.hooks.eventModifier.change_sell_btc={event:['input','blur'],fn:function fn(event,env){if(event.type==='blur')return;if(!main.scope.btc_exchange_rate)return;main.scope.sell_btc=main.scope.sell_btc.match(/^[\d.]+$/);main.scope.sell_eth=main.scope.sell_btc/main.scope.btc_exchange_rate;main.scope.$scan();}};/* harmony default export */ __webpack_exports__["a"] = (main);

/***/ }),

/***/ 163:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Order=/**
   *
   * ownerAddress
   * currency1
   * currency2
   * currency1Amount
   * currency2Amount
   * exchangeRate
   * type
   */function Order(data){var _this=this;_classCallCheck(this,Order);Object.keys(data).forEach(function(key){_this[key]=data[key];});};/* harmony default export */ __webpack_exports__["a"] = (Order);

/***/ }),

/***/ 164:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__user__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collection__ = __webpack_require__(358);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Orders=function(_Collection){_inherits(Orders,_Collection);function Orders(){_classCallCheck(this,Orders);var _this=_possibleConstructorReturn(this,(Orders.__proto__||Object.getPrototypeOf(Orders)).call(this));_this.onMount();return _this;}_createClass(Orders,[{key:'onMount',value:function onMount(){var _this2=this;var items=JSON.parse(localStorage.getItem('myOrders')||'[]');this.items=items;this.itemIds={};items.forEach(function(_ref,index){var id=_ref.id;return _this2.itemIds[id]=index;});}/**
   * id
   * ownerAddress
   * currency1
   * currency2
   * currency1Amount
   * currency2Amount
   * exchangeRate
   * type
   */},{key:'append',value:function append(data){_get(Orders.prototype.__proto__||Object.getPrototypeOf(Orders.prototype),'append',this).call(this,data,data.id);}},{key:'getOwnedByMe',value:function getOwnedByMe(){return this.items.filter(function(_ref2){var ownerAddress=_ref2.ownerAddress;return ownerAddress===__WEBPACK_IMPORTED_MODULE_0__user__["a" /* default */].data.address;});}}]);return Orders;}(__WEBPACK_IMPORTED_MODULE_1__Collection__["a" /* default */]);/* harmony default export */ __webpack_exports__["a"] = (new Orders());

/***/ }),

/***/ 182:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 213:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 215:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 249:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 356:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__showMess__ = __webpack_require__(357);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__showMess__["a"]; });


/***/ }),

/***/ 357:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var countModal=0;var showMess=function showMess(message,seconds,status){var status2=0;if(status===1||status==='success'||status==='info'){status2=1;}else if(status===2||status==='danger'||status==='error'){status2=2;}var modal=$('#MyPopup');if(modal.length>0){countModal++;var tnBox=modal.find('.tn-box:eq(0)').clone();modal.show();modal.append(tnBox);tnBox.find('p').html(message);tnBox.removeClass('tn-box-color-0');tnBox.removeClass('tn-box-color-1');tnBox.removeClass('tn-box-color-2');tnBox.addClass('tn-box-color-'+status2);tnBox.css({display:'block','-webkit-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-moz-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-o-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','-ms-animation':'fadeOut '+(seconds+0.5)+'s linear forwards','animation':'fadeOut '+(seconds+0.5)+'s linear forwards'});var progress=tnBox.find('.tn-progress');progress.css({'-webkit-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-moz-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-o-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','-ms-animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s','animation':'runProgress '+(seconds-1)+'s linear forwards 0.5s'});setTimeout(function(){countModal--;tnBox.remove();if(countModal<=0){modal.hide();}},seconds*1000);}};/* harmony default export */ __webpack_exports__["a"] = (showMess);

/***/ }),

/***/ 358:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Collection=function(){function Collection(){_classCallCheck(this,Collection);this.items=[];this.itemIds={};}/**
   * Add item at the start of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */_createClass(Collection,[{key:"prepend",value:function prepend(item,key){this.items.unshift(item);if(key){for(var _key in this.itemIds){if(this.itemIds.hasOwnProperty(_key)){this.itemIds[_key]+=1;}}this.itemIds[key]=0;}return item;}/**
   * Add item at the end of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */},{key:"append",value:function append(item,key){this.items.push(item);if(key){this.itemIds[key]=this.items.length-1;}return item;}/**
   * Remove item by index from current collection
   * @param index
   * @returns {*}
   */},{key:"removeByIndex",value:function removeByIndex(index){this.items=this.items.splice(index,1);}/**
   * Remove item by key [id] from current collection
   * @param key {string|number}
   * @returns {*}
   */},{key:"removeByKey",value:function removeByKey(key){this.items=this.items.splice(this.itemIds[key],1);delete this.itemIds[key];}/**
   * Get index of item in current collection
   * @param item
   * @returns {number}
   */},{key:"indexOf",value:function indexOf(item){return this.items.indexOf(item);}/**
   * Get item by index from current collection
   * @param index
   * @returns {*}
   */},{key:"getByIndex",value:function getByIndex(index){return this.items[index];}/**
   * Get item by key [id] from current collection
   * @param key {string|number}
   * @returns {*}
   */},{key:"getByKey",value:function getByKey(key){return this.items[this.itemIds[key]];}/**
   * Check if item with such name exists in current collection
   * @param key {string|number}
   * @returns {boolean}
   */},{key:"isExist",value:function isExist(key){return Boolean(this.getByKey(key));}/**
   * Get length of current collection
   * @returns {Number}
   */},{key:"length",get:function get(){return this.items.length;}}]);return Collection;}();/* harmony default export */ __webpack_exports__["a"] = (Collection);

/***/ }),

/***/ 359:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room__ = __webpack_require__(360);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_models__ = __webpack_require__(39);
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Room=function(){function Room(){var _this=this;_classCallCheck(this,Room);this.handleSubscribe=function(){console.info('Now connected!');};this.handleNewMessage=function(message){var data=JSON.parse(message.data.toString());if(data&&data.length){console.log('New message data:',_extends({},message,{data:data}));data.forEach(function(_ref){var type=_ref.type,data=_ref.data;console.log('Message of type '+type+':',data);if(type==='newOrder'){__WEBPACK_IMPORTED_MODULE_1_models__["b" /* orders */].append(data);}});}};this.handleNewUserConnected=function(peer){console.info('New peer:',peer);var myOrders=__WEBPACK_IMPORTED_MODULE_1_models__["b" /* orders */].getOwnedByMe();if(myOrders.length){_this.connection.sendTo(peer,JSON.stringify(myOrders));}};this.connection=null;}_createClass(Room,[{key:'connect',value:function connect(ipfsConnection){this.connection=__WEBPACK_IMPORTED_MODULE_0_ipfs_pubsub_room___default()(ipfsConnection,'jswaps',{pollInterval:5000});this.connection.on('message',this.handleNewMessage);this.connection.on('peer joined',this.handleNewUserConnected);this.connection.on('subscribed',this.handleSubscribe);}},{key:'sendMessage',value:function sendMessage(message){this.connection.broadcast(JSON.stringify(message));}}]);return Room;}();var room=new Room();var ipfsConnection=new Ipfs({EXPERIMENTAL:{pubsub:true},config:{Addresses:{Swarm:['/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star']}}});ipfsConnection.on('ready',function(){return room.connect(ipfsConnection);});/* harmony default export */ __webpack_exports__["a"] = (room);

/***/ }),

/***/ 38:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__app__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__main__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__history__ = __webpack_require__(390);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ethToBtc__ = __webpack_require__(391);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__btcToEth__ = __webpack_require__(392);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__app__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__main__["a"]; });
/* unused harmony reexport history */
/* unused harmony reexport ethToBtc */
/* unused harmony reexport btcToEth */


/***/ }),

/***/ 39:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Order__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__orders__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__room__ = __webpack_require__(359);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__user__ = __webpack_require__(82);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__Order__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__orders__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__room__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__user__["a"]; });


/***/ }),

/***/ 390:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_models__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);
var history={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.history=function(scope){console.log('history controller!');scope.sign=function(){__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].sign();};scope.refreshBTCTransaction=function(){if(__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].bitcoinData.address){var url='https://api.blocktrail.com/v1/tbtc/address/'+__WEBPACK_IMPORTED_MODULE_1_models__["d" /* user */].bitcoinData.address+'/transactions?api_key=MY_APIKEY';var total=0;__WEBPACK_IMPORTED_MODULE_2_jquery___default.a.getJSON(url,function(r){history.scope.btcTransactions=r.data;__WEBPACK_IMPORTED_MODULE_2_jquery___default.a.each(r.data,function(k,i){console.log(i);});history.scope.$scan();});}else{console.log('bitcoin_address is missing');}};scope.sign();scope.refreshBTCTransaction();history.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (history);

/***/ }),

/***/ 391:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
var ethToBtc={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.ethToBtc=function(scope){console.log('ETH to BTC controller!');ethToBtc.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (ethToBtc);

/***/ }),

/***/ 392:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_swap_crypto__ = __webpack_require__(393);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_models__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_swaps__ = __webpack_require__(394);
var btcToEth={scope:{}};__WEBPACK_IMPORTED_MODULE_0_alight___default.a.controllers.btcToEth=function(scope){console.log('BTC to ETH controller!');var orderId=__WEBPACK_IMPORTED_MODULE_2_controllers__["a" /* app */].scope.activeRoute.params.id;var order=__WEBPACK_IMPORTED_MODULE_3_models__["b" /* orders */].getByKey(orderId);console.log('Order:',order);scope.data={order:order,secret:'c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078',secretHash:'',btcScriptAddress:'0x0dsgsdhsdhsddsh',waitingForUser:false,step:1};scope.goNextStep=function(){scope.data.step++;if(scope.data.step===2){scope.data.secretHash=__WEBPACK_IMPORTED_MODULE_1_swap_crypto__["a" /* default */].ripemd160(scope.data.secret);}else if(scope.data.step===3){scope.data.waitingForUser=true;}else if(scope.data.step===4){}scope.$scan();};btcToEth.scope=scope;};/* unused harmony default export */ var _unused_webpack_default_export = (btcToEth);

/***/ }),

/***/ 393:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto__);
/*
 secret        c0809ce9f484fdcdfb2d5aabd609768ce0374ee97a1a5618ce4cd3f16c00a078
 secretHash    c0933f9be51a284acb6b1a6617a48d795bdeaa80
 */var ripemd160=function ripemd160(value){return __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib_src_crypto___default.a.ripemd160(Buffer.from(value,'hex')).toString('hex');};/* harmony default export */ __webpack_exports__["a"] = ({ripemd160:ripemd160});
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1).Buffer))

/***/ }),

/***/ 394:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__btcSwap__ = __webpack_require__(395);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ethSwap__ = __webpack_require__(396);
/* unused harmony reexport btcSwap */
/* unused harmony reexport ethSwap */


/***/ }),

/***/ 395:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib__);
var testnetUtils={};// TODO HOW?
var utcNow=function utcNow(){return Math.floor(Date.now()/1000);};var lockTime=utcNow()+3600*3;// 3 days from now
var createScript=function createScript(btcOwnerSecretHash,btcOwnerPublicKey,ethOwnerPublicKey){return __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.compile([btcOwnerPublicKey,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKSIG,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_IF,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.number.encode(lockTime),__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKLOCKTIMEVERIFY,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_ENDIF,ethOwnerPublicKey,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_CHECKSIG,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_IF,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_RIPEMD160,Buffer.from(btcOwnerSecretHash,'hex'),__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_EQUALVERIFY,__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.opcodes.OP_ENDIF]);};var addMoney=function addMoney(script,amount){return new Promise(function(resolve,reject){var scriptPubKey=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.output.encode(__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.crypto.hash160(script));var scriptAddress=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.address.fromOutputScript(scriptPubKey,testnet);testnetUtils.faucet(scriptAddress,amount,function(err,unspent){if(err){console.log('fund error:',err);reject();return;}resolve();});});};var withdraw=function withdraw(script,unspent,secret,withdrawAddress){return new Promise(function(resolve,reject){var hashType=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.Transaction.SIGHASH_ALL;var tx=new __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.TransactionBuilder(testnet);tx.setLockTime(lockTime);tx.addInput(unspent.txId,unspent.vout,0xfffffffe);tx.addOutput(withdrawAddress,1e4);var txRaw=tx.buildIncomplete();var signatureHash=txRaw.hashForSignature(0,script,hashType);var ethOwnerSignature=ethOwner.sign(signatureHash).toScriptSignature(hashType);var scriptSig=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.input.encode([ethOwnerSignature,Buffer.from(secret,'hex')],script);txRaw.setInputScript(0,scriptSig);var txId=txRaw.getId();console.log('final txid',txId);console.log('final txRaw',txRaw);testnetUtils.transactions.propagate(txRaw.toHex(),function(smth,result){console.log('result',result);if(result){resolve();}else{reject();}});});};var refund=function refund(script,unspent,secret,refundAddress){return new Promise(function(resolve,reject){var hashType=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.Transaction.SIGHASH_ALL;var tx=new __WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.TransactionBuilder(testnet);tx.setLockTime(lockTime);tx.addInput(unspent.txId,unspent.vout,0xfffffffe);tx.addOutput(refundAddress,1e4);var txRaw=tx.buildIncomplete();var signatureHash=txRaw.hashForSignature(0,script,hashType);var btcOwnerSignature=btcOwner.sign(signatureHash).toScriptSignature(hashType);var scriptSig=__WEBPACK_IMPORTED_MODULE_0_bitcoinjs_lib___default.a.script.scriptHash.input.encode([btcOwnerSignature,Buffer.from(secret,'hex')],script);txRaw.setInputScript(0,scriptSig);var txId=txRaw.getId();console.log('final txid',txId);console.log('final txRaw',txRaw);testnetUtils.transactions.propagate(txRaw.toHex(),function(smth,result){console.log('result',result);if(result){resolve();}else{reject();}});});};/* unused harmony default export */ var _unused_webpack_default_export = ({createScript:createScript,addMoney:addMoney,withdraw:withdraw,refund:refund});
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1).Buffer))

/***/ }),

/***/ 396:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony default export */ var _unused_webpack_default_export = ({});

/***/ }),

/***/ 398:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_alight___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_alight__);
__WEBPACK_IMPORTED_MODULE_0_alight___default.a.directives.al.copy=function(scope,element,expression,env){$(element).on('click',function(event){event.preventDefault();event.stopPropagation();try{// современный объект Selection
window.getSelection().removeAllRanges();}catch(e){// для IE8-
document.selection.empty();}if(document.selection){var range=document.body.createTextRange();range.moveToElementText(this);range.select().createTextRange();document.execCommand("Copy");}else if(window.getSelection){var _range=document.createRange();_range.selectNode(this);console.log(_range);window.getSelection().addRange(_range);document.execCommand("Copy");alert("text copied");}});};

/***/ }),

/***/ 81:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_navigo__ = __webpack_require__(397);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_navigo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_navigo__);
var _router$on$on$on,_router$on$on,_router$on;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}var router=new __WEBPACK_IMPORTED_MODULE_1_navigo___default.a(null,true,'#');var bind=function bind(path){return[path,function(params,query){console.log('Route changed to '+path);__WEBPACK_IMPORTED_MODULE_0_controllers__["a" /* app */].scope.activeRoute={path:path,params:params,query:query};__WEBPACK_IMPORTED_MODULE_0_controllers__["a" /* app */].scope.$scan();}];};(_router$on$on$on=(_router$on$on=(_router$on=router.on.apply(router,_toConsumableArray(bind('/')))).on.apply(_router$on,_toConsumableArray(bind('/history')))).on.apply(_router$on$on,_toConsumableArray(bind('/btc-to-eth/:id')))).on.apply(_router$on$on$on,_toConsumableArray(bind('/eth-to-btc/:id')));/* harmony default export */ __webpack_exports__["a"] = (router);

/***/ }),

/***/ 82:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_web3__ = __webpack_require__(165);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_web3___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_web3__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigi__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigi___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bigi__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_controllers__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_helpers__ = __webpack_require__(356);
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var User=function(){function User(){_classCallCheck(this,User);this.web3=new __WEBPACK_IMPORTED_MODULE_0_web3___default.a(new __WEBPACK_IMPORTED_MODULE_0_web3___default.a.providers.HttpProvider("https://ropsten.infura.io/JCnK5ifEPH9qcQkX0Ahl"));this.data={};this.bitcoinData={};}_createClass(User,[{key:'sendTransactionEth',value:function sendTransactionEth(modal){var _this=this;this.web3.eth.getBalance(this.data.address).then(function(r){try{__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance=_this.web3.utils.fromWei(r);if(!__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance){// throw new Error('Ваш баланс пуст')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Ваш баланс пуст',5,0);return false;}if(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.balance<__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_amount){// throw new Error('На вашем балансе недостаточно средств')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('На вашем балансе недостаточно средств',5,0);return false;}if(!_this.web3.utils.isAddress(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_address)){// throw new Error('Не верный адрес')
Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Не верный адрес',5,0);return false;}var t={from:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.address,to:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_address,gas:"21000",gasPrice:"20000000000",value:_this.web3.utils.toWei(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_eth_amount.toString())};_this.web3.eth.accounts.signTransaction(t,localStorage.getItem('privateKey')).then(function(result){return _this.web3.eth.sendSignedTransaction(result.rawTransaction);}).then(function(receipt){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Good',5,1);console.log('good');var m=$(modal);if(m.length>0){m.modal('hide');}}).catch(function(error){return console.error(error);});// this.web3.eth.sendTransaction({
//   from: main.scope.address,
//   to: main.scope.withdraw_eth_address,
//   amount: this.web3.utils.toWei(main.scope.withdraw_eth_amount.toString())
// }).then(function(err, resp) {
//   showMess('Error', 5, 0)
//   console.log(err)
//   console.log(resp)
// })
}catch(e){__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.showError(e);}});}},{key:'sendTransactionBtc',value:function sendTransactionBtc(modal){var _this2=this;var newtx={inputs:[{addresses:[__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.bitcoin_address]}],outputs:[{addresses:[__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_address],value:__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_amount*100000000}]};if(__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.withdraw_btc_amount>__WEBPACK_IMPORTED_MODULE_3_controllers__["b" /* main */].scope.bitcoin_balance){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('На вашем балансе недостаточно средств',5,0);// alert('На вашем балансе недостаточно средств')
return false;}$.post('https://api.blockcypher.com/v1/btc/test3/txs/new',JSON.stringify(newtx)).then(function(d){// convert response body to JSON
var tmptx=d;// attribute to store public keys
tmptx.pubkeys=[];// build signer from WIF
var keys=new __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.ECPair.fromWIF(_this2.bitcoinData.keyPair.toWIF(),__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.networks.testnet);// iterate and sign each transaction and add it in signatures while store corresponding public key in pubkeys
tmptx.signatures=tmptx.tosign.map(function(tosign,n){tmptx.pubkeys.push(keys.getPublicKeyBuffer().toString('hex'));return keys.sign(__WEBPACK_IMPORTED_MODULE_2_bigi___default.a.fromHex(tosign.toString('hex')).toBuffer()).toDER().toString('hex');});$.post('https://api.blockcypher.com/v1/btc/test3/txs/send',JSON.stringify(tmptx)).then(function(r){Object(__WEBPACK_IMPORTED_MODULE_4_helpers__["a" /* showMess */])('Платеж прошел',5,1);console.log(r);var m=$(modal);if(m.length>0){m.modal('hide');}});});// const txb = new bitcoin.TransactionBuilder(bitcoin.networks.testnet)
//
// //https://api.blocktrail.com/v1/btc/address/17hFoVScNKVDfDTT6vVhjYwvCu6iDEiXC4/transactions?api_key=MY_APIKEY
// url = 'https://api.blocktrail.com/v1/tbtc/address/'+main.scope.bitcoin_address+'/unspent-outputs?api_key=MY_APIKEY'
// jQuery.getJSON(url, (r) => {
//   txb.addInput(r.data[0].hash, 1)
//   txb.addOutput(main.scope.withdraw_btc_address, main.scope.withdraw_btc_amount * 100000000)
//   txb.sign(0, this.bitcoinData.keyPair)
//
//   const pushtx = {
//     tx: txb.build().toHex()
//   }
//
//   $.post('https://api.blockcypher.com/v1/btc/test3/txs/push', JSON.stringify(pushtx)).then(function (r) {
//
//     console.log(r)
//   })
//
// })
}},{key:'sign',value:function sign(){var retrievedObject=localStorage.getItem('privateKey');if(retrievedObject){try{this.data=this.web3.eth.accounts.privateKeyToAccount(retrievedObject);this.signBitcoin(retrievedObject);}catch(e){console.error('2 user cant login');console.error(e);}}else{try{this.data=this.web3.eth.accounts.create();localStorage.setItem('privateKey',this.data.privateKey);this.signBitcoin(this.data.privateKey);}catch(e){console.error('1 user cant login');console.error(e);}}}},{key:'signBitcoin',value:function signBitcoin(key){// const publicKey = key
// const publicKeyHash = bitcoin.crypto.hash160(publicKey)
// const address =  bitcoin.address.toBase58Check(publicKeyHash, bitcoin.networks.bitcoin.pubKeyHash)
// const address =  bitcoin.address.toBase58Check(publicKeyHash, bitcoin.networks.testnet.pubKeyHash)
var hash=__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.crypto.sha256(key);var d=__WEBPACK_IMPORTED_MODULE_2_bigi___default.a.fromBuffer(hash);var keyPair=new __WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.ECPair(d,null,{network:__WEBPACK_IMPORTED_MODULE_1_bitcoinjs_lib___default.a.networks.testnet});var address=keyPair.getAddress();this.bitcoinData={address:address,keyPair:keyPair};}}]);return User;}();/* harmony default export */ __webpack_exports__["a"] = (new User());

/***/ })

},[151]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpcmVjdGl2ZXMvbGluay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvT3JkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9vcmRlcnMuanMiLCJ3ZWJwYWNrOi8vL2J1ZmZlciAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL3V0aWwgKGlnbm9yZWQpIiwid2VicGFjazovLy91dGlsIChpZ25vcmVkKT9kOTE0Iiwid2VicGFjazovLy9jcnlwdG8gKGlnbm9yZWQpIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL3Nob3dNZXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3Jvb20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2V0aFRvQnRjLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9idGNUb0V0aC5qcyIsIndlYnBhY2s6Ly8vLi9sb2NhbF9tb2R1bGVzL3N3YXAtY3J5cHRvLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2Fwcy9idGNTd2FwLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2Fwcy9ldGhTd2FwLmpzIiwid2VicGFjazovLy8uL3NyYy9kaXJlY3RpdmVzL2NvcHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3VzZXIuanMiXSwibmFtZXMiOlsiYWxpZ2h0IiwiYXV0b3N0YXJ0IiwiYm9vdHN0cmFwIiwicm91dGVyIiwicmVzb2x2ZSIsImRpcmVjdGl2ZXMiLCJhbCIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJleHByZXNzaW9uIiwiZW52IiwiJCIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImF0dHIiLCJuYXZpZ2F0ZSIsImFjdGl2ZVJvdXRlIiwiJHNjYW4iLCJhcHAiLCJjb250cm9sbGVycyIsImNvbnNvbGUiLCJsb2ciLCJtYWluIiwib3JkZXJzIiwiYWR2cyIsImJhbGFuY2UiLCJhZGRyZXNzIiwiZXRoX2V4Y2hhbmdlX3JhdGUiLCJidGNfZXhjaGFuZ2VfcmF0ZSIsInRvdGFsX2V0aCIsInRvdGFsX2J0YyIsImJpdGNvaW5fYWRkcmVzcyIsIm1pbl93aXRoZHJhd19ldGgiLCJtaW5fd2l0aGRyYXdfYnRjIiwibXlfc2V0dGluZyIsImJ0Y1RyYW5zYWN0aW9ucyIsInNlbmRfZXRoIiwibW9kYWwiLCJzYXZlQXBwcyIsInVzZXIiLCJzZW5kVHJhbnNhY3Rpb25FdGgiLCJzZW5kX2J0YyIsInNlbmRUcmFuc2FjdGlvbkJ0YyIsIm15U2V0dGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3aXRoZHJhd19ldGhfYWRkcmVzcyIsIndpdGhkcmF3X2J0Y19hZGRyZXNzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldEN1cnJlbnRFeGNoYW5nZVJhdGUiLCJnZXRKU09OIiwicHJpY2VfYnRjIiwiZSIsInVwZGF0ZUJhbGFuY2VFdGgiLCJ3ZWIzIiwiZXRoIiwiZ2V0QmFsYW5jZSIsImRhdGEiLCJ0aGVuIiwiciIsInV0aWxzIiwiZnJvbVdlaSIsImJpdGNvaW5EYXRhIiwidXBkYXRlQmFsYW5jZUJpdGNvaW4iLCJ1cmwiLCJiaXRjb2luX2JhbGFuY2UiLCJzaG93RXJyb3IiLCJtc2ciLCJhbGVydCIsImNoZWNrIiwibGVuZ3RoIiwiaW5jcmVhc2VUb3RhbHMiLCJmb3JFYWNoIiwidHlwZSIsImN1cnJlbmN5MUFtb3VudCIsImN1cnJlbmN5MkFtb3VudCIsInBhcnNlRmxvYXQiLCJjcmVhdGVPcmRlciIsImlkIiwic2hhMjU2Iiwib3JkZXIiLCJPcmRlciIsIm93bmVyQWRkcmVzcyIsImN1cnJlbmN5MSIsImN1cnJlbmN5MiIsInNlbGxfZXRoIiwiYnRjIiwic2VsbF9idGMiLCJleGNoYW5nZVJhdGUiLCJyb29tIiwic2VuZE1lc3NhZ2UiLCJhcHBlbmQiLCJnZXRPd25lZEJ5TWUiLCJzaWduIiwiY2hlY2tlZCIsInBhcnNlTWVzcyIsIm15QWR2cyIsImFjdGl2ZSIsImluaXQiLCJnZXRJdGVtIiwicGFyc2UiLCJpdGVtcyIsImZpbHRlcnMiLCJvbmx5QnV5IiwiZmlsdGVyIiwib25seVNlbGwiLCJob29rcyIsImV2ZW50TW9kaWZpZXIiLCJjaGFuZ2VfZXRoX2V4Y2hhbmdlX3JhdGUiLCJmbiIsIm1hdGNoIiwiY2hhbmdlX2V0aCIsImNoYW5nZV9idGMiLCJjaGFuZ2VfYnRjX2V4Y2hhbmdlX3JhdGUiLCJjaGFuZ2Vfc2VsbF9ldGgiLCJjaGFuZ2Vfc2VsbF9idGMiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiT3JkZXJzIiwib25Nb3VudCIsIml0ZW1JZHMiLCJpbmRleCIsImNvdW50TW9kYWwiLCJzaG93TWVzcyIsIm1lc3NhZ2UiLCJzZWNvbmRzIiwic3RhdHVzIiwic3RhdHVzMiIsInRuQm94IiwiZmluZCIsImNsb25lIiwic2hvdyIsImh0bWwiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY3NzIiwiZGlzcGxheSIsInByb2dyZXNzIiwic2V0VGltZW91dCIsInJlbW92ZSIsImhpZGUiLCJDb2xsZWN0aW9uIiwiaXRlbSIsInVuc2hpZnQiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJzcGxpY2UiLCJpbmRleE9mIiwiQm9vbGVhbiIsImdldEJ5S2V5IiwiUm9vbSIsImhhbmRsZVN1YnNjcmliZSIsImluZm8iLCJoYW5kbGVOZXdNZXNzYWdlIiwidG9TdHJpbmciLCJoYW5kbGVOZXdVc2VyQ29ubmVjdGVkIiwicGVlciIsIm15T3JkZXJzIiwiY29ubmVjdGlvbiIsInNlbmRUbyIsImlwZnNDb25uZWN0aW9uIiwiSXBmc1Jvb20iLCJwb2xsSW50ZXJ2YWwiLCJicm9hZGNhc3QiLCJJcGZzIiwiRVhQRVJJTUVOVEFMIiwicHVic3ViIiwiY29uZmlnIiwiQWRkcmVzc2VzIiwiU3dhcm0iLCJjb25uZWN0IiwiaGlzdG9yeSIsInJlZnJlc2hCVENUcmFuc2FjdGlvbiIsInRvdGFsIiwiZWFjaCIsImsiLCJpIiwiZXRoVG9CdGMiLCJidGNUb0V0aCIsIm9yZGVySWQiLCJwYXJhbXMiLCJzZWNyZXQiLCJzZWNyZXRIYXNoIiwiYnRjU2NyaXB0QWRkcmVzcyIsIndhaXRpbmdGb3JVc2VyIiwic3RlcCIsImdvTmV4dFN0ZXAiLCJjcnlwdG8iLCJyaXBlbWQxNjAiLCJ2YWx1ZSIsIkJ1ZmZlciIsImZyb20iLCJ0ZXN0bmV0VXRpbHMiLCJ1dGNOb3ciLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwibG9ja1RpbWUiLCJjcmVhdGVTY3JpcHQiLCJidGNPd25lclNlY3JldEhhc2giLCJidGNPd25lclB1YmxpY0tleSIsImV0aE93bmVyUHVibGljS2V5IiwiYml0Y29pbiIsInNjcmlwdCIsImNvbXBpbGUiLCJvcGNvZGVzIiwiT1BfQ0hFQ0tTSUciLCJPUF9JRiIsIm51bWJlciIsImVuY29kZSIsIk9QX0NIRUNLTE9DS1RJTUVWRVJJRlkiLCJPUF9FTkRJRiIsIk9QX1JJUEVNRDE2MCIsIk9QX0VRVUFMVkVSSUZZIiwiYWRkTW9uZXkiLCJhbW91bnQiLCJQcm9taXNlIiwicmVqZWN0Iiwic2NyaXB0UHViS2V5Iiwic2NyaXB0SGFzaCIsIm91dHB1dCIsImhhc2gxNjAiLCJzY3JpcHRBZGRyZXNzIiwiZnJvbU91dHB1dFNjcmlwdCIsInRlc3RuZXQiLCJmYXVjZXQiLCJlcnIiLCJ1bnNwZW50Iiwid2l0aGRyYXciLCJ3aXRoZHJhd0FkZHJlc3MiLCJoYXNoVHlwZSIsIlRyYW5zYWN0aW9uIiwiU0lHSEFTSF9BTEwiLCJ0eCIsIlRyYW5zYWN0aW9uQnVpbGRlciIsInNldExvY2tUaW1lIiwiYWRkSW5wdXQiLCJ0eElkIiwidm91dCIsImFkZE91dHB1dCIsInR4UmF3IiwiYnVpbGRJbmNvbXBsZXRlIiwic2lnbmF0dXJlSGFzaCIsImhhc2hGb3JTaWduYXR1cmUiLCJldGhPd25lclNpZ25hdHVyZSIsImV0aE93bmVyIiwidG9TY3JpcHRTaWduYXR1cmUiLCJzY3JpcHRTaWciLCJpbnB1dCIsInNldElucHV0U2NyaXB0IiwiZ2V0SWQiLCJ0cmFuc2FjdGlvbnMiLCJwcm9wYWdhdGUiLCJ0b0hleCIsInNtdGgiLCJyZXN1bHQiLCJyZWZ1bmQiLCJyZWZ1bmRBZGRyZXNzIiwiYnRjT3duZXJTaWduYXR1cmUiLCJidGNPd25lciIsImNvcHkiLCJ3aW5kb3ciLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJkb2N1bWVudCIsInNlbGVjdGlvbiIsImVtcHR5IiwicmFuZ2UiLCJib2R5IiwiY3JlYXRlVGV4dFJhbmdlIiwibW92ZVRvRWxlbWVudFRleHQiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZSIsImFkZFJhbmdlIiwiTmF2aWdvIiwiYmluZCIsInBhdGgiLCJxdWVyeSIsIlVzZXIiLCJXZWIzIiwicHJvdmlkZXJzIiwiSHR0cFByb3ZpZGVyIiwid2l0aGRyYXdfZXRoX2Ftb3VudCIsImlzQWRkcmVzcyIsInQiLCJ0byIsImdhcyIsImdhc1ByaWNlIiwidG9XZWkiLCJhY2NvdW50cyIsInNpZ25UcmFuc2FjdGlvbiIsInNlbmRTaWduZWRUcmFuc2FjdGlvbiIsInJhd1RyYW5zYWN0aW9uIiwicmVjZWlwdCIsIm0iLCJjYXRjaCIsImVycm9yIiwibmV3dHgiLCJpbnB1dHMiLCJhZGRyZXNzZXMiLCJvdXRwdXRzIiwid2l0aGRyYXdfYnRjX2Ftb3VudCIsInBvc3QiLCJkIiwidG1wdHgiLCJwdWJrZXlzIiwiRUNQYWlyIiwiZnJvbVdJRiIsImtleVBhaXIiLCJ0b1dJRiIsIm5ldHdvcmtzIiwic2lnbmF0dXJlcyIsInRvc2lnbiIsIm1hcCIsIm4iLCJnZXRQdWJsaWNLZXlCdWZmZXIiLCJCaWdJbnRlZ2VyIiwiZnJvbUhleCIsInRvQnVmZmVyIiwidG9ERVIiLCJyZXRyaWV2ZWRPYmplY3QiLCJwcml2YXRlS2V5VG9BY2NvdW50Iiwic2lnbkJpdGNvaW4iLCJjcmVhdGUiLCJwcml2YXRlS2V5IiwiaGFzaCIsImZyb21CdWZmZXIiLCJuZXR3b3JrIiwiZ2V0QWRkcmVzcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsOENBQUFBLENBQU9DLFNBQVAsQ0FBbUIsS0FBbkIsQ0FZQSw4Q0FBQUQsQ0FBT0UsU0FBUCxHQUNBLHVEQUFBQyxDQUFPQyxPQUFQLEc7Ozs7Ozs7QUNmQSx5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSUEsOENBQUFKLENBQU9LLFVBQVAsQ0FBa0JDLEVBQWxCLENBQXFCQyxJQUFyQixDQUE0QixTQUFVQyxLQUFWLENBQWlCQyxPQUFqQixDQUEwQkMsVUFBMUIsQ0FBc0NDLEdBQXRDLENBQTJDLENBQ3JFQyxFQUFFSCxPQUFGLEVBQVdJLEVBQVgsQ0FBYyxPQUFkLENBQXVCLFNBQVVDLEtBQVYsQ0FBaUIsQ0FDdENBLE1BQU1DLGNBQU4sR0FDQUQsTUFBTUUsZUFBTixHQUVBLEdBQU1ULE1BQU9LLEVBQUUsSUFBRixFQUFRSyxJQUFSLENBQWEsU0FBYixHQUEyQkwsRUFBRSxJQUFGLEVBQVFLLElBQVIsQ0FBYSxXQUFiLENBQXhDLENBRUEsdURBQUFkLENBQU9lLFFBQVAsQ0FBZ0JYLElBQWhCLEVBQ0FDLE1BQU1XLFdBQU4sQ0FBb0JaLElBQXBCLENBQ0FDLE1BQU1ZLEtBQU4sR0FDRCxDQVRELEVBVUQsQ0FYRCxDOzs7Ozs7Ozs7O0FDREEsR0FBTUMsS0FBTSxDQUNWYixNQUFPLEVBREcsQ0FBWixDQUlBLDhDQUFBUixDQUFPc0IsV0FBUCxDQUFtQkQsR0FBbkIsQ0FBeUIsU0FBVWIsS0FBVixDQUFpQixDQUN4Q2UsUUFBUUMsR0FBUixDQUFZLGlCQUFaLEVBRUFoQixNQUFNVyxXQUFOLENB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QUFBYSxDQUFXVSxVQUFYLENBQXNCRCxJQUF0QixDQUFsQixDQUNBLEdBQU1qQixTQUFZLEdBQUk1RyxDQUFBLHFEQUFBQSxDQUFRMEcsTUFBWixDQUFtQkgsQ0FBbkIsQ0FBc0IsSUFBdEIsQ0FBNEIsQ0FBQ3dCLFFBQVMscURBQUEvSCxDQUFROEcsUUFBUixDQUFpQnhGLE9BQTNCLENBQTVCLENBQWxCLENBQ0EsR0FBTXpNLFNBQVkrUixRQUFRb0IsVUFBUixFQUFsQixDQUVBLEtBQUs5USxXQUFMLENBQW1CLENBQ2pCckMsZUFEaUIsQ0FFakIrUixlQUZpQixDQUFuQixDQUlELEMsb0JBSUgseURBQWUsR0FBSTlCLEtBQUosRUFBZixFIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbGlnaHQgZnJvbSAnYWxpZ2h0J1xuXG5hbGlnaHQuYXV0b3N0YXJ0ID0gZmFsc2VcblxuXG5pbXBvcnQgJ2Jvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAuY3NzJ1xuaW1wb3J0ICdib290c3RyYXAvZGlzdC9qcy9ib290c3RyYXAnXG5pbXBvcnQgJy4vc3R5bGUuc2NzcydcblxuaW1wb3J0ICdkaXJlY3RpdmVzJ1xuaW1wb3J0ICdjb250cm9sbGVycydcbmltcG9ydCByb3V0ZXIgZnJvbSAncm91dGVyJ1xuXG5cbmFsaWdodC5ib290c3RyYXAoKVxucm91dGVyLnJlc29sdmUoKVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAxNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5pbXBvcnQgcm91dGVyIGZyb20gJ3JvdXRlcidcblxuXG5hbGlnaHQuZGlyZWN0aXZlcy5hbC5saW5rID0gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBleHByZXNzaW9uLCBlbnYpIHtcbiAgJChlbGVtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGNvbnN0IGxpbmsgPSAkKHRoaXMpLmF0dHIoJ2FsLWxpbmsnKSB8fCAkKHRoaXMpLmF0dHIoJ2RhdGEtbGluaycpXG5cbiAgICByb3V0ZXIubmF2aWdhdGUobGluaylcbiAgICBzY29wZS5hY3RpdmVSb3V0ZSA9IGxpbmtcbiAgICBzY29wZS4kc2NhbigpXG4gIH0pXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGlyZWN0aXZlcy9saW5rLmpzIiwiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5cblxuY29uc3QgYXBwID0ge1xuICBzY29wZToge30sXG59XG5cbmFsaWdodC5jb250cm9sbGVycy5hcHAgPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgY29uc29sZS5sb2coJ0FwcCBjb250cm9sbGVyIScpXG5cbiAgc2NvcGUuYWN0aXZlUm91dGUgPSB7fVxuXG4gIGFwcC5zY29wZSA9IHNjb3BlXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgYXBwXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29udHJvbGxlcnMvYXBwLmpzIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5pbXBvcnQgc2hhMjU2IGZyb20gJ2pzLXNoYTI1NidcbmltcG9ydCB7IHVzZXIsIHJvb20sIE9yZGVyLCBvcmRlcnMgfSBmcm9tICdtb2RlbHMnXG5cblxuY29uc3QgbWFpbiA9IHtcbiAgc2NvcGU6IHt9LFxufVxuXG5hbGlnaHQuY29udHJvbGxlcnMubWFpbiA9IGZ1bmN0aW9uKHNjb3BlKSB7XG4gIGNvbnNvbGUubG9nKCdNYWluIGNvbnRyb2xsZXIhJylcblxuICBzY29wZS5vcmRlcnMgPSBvcmRlcnNcbiAgc2NvcGUuYWR2cyA9IFtdXG4gIHNjb3BlLmJhbGFuY2UgPSAwXG4gIHNjb3BlLmFkZHJlc3MgPSAnJ1xuICBzY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZSA9ICcnXG4gIHNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlID0gJydcbiAgc2NvcGUudG90YWxfZXRoID0gIDBcbiAgc2NvcGUudG90YWxfYnRjID0gIDBcbiAgc2NvcGUuYml0Y29pbl9hZGRyZXNzID0gMFxuICBzY29wZS5taW5fd2l0aGRyYXdfZXRoID0gMC4wMVxuICBzY29wZS5taW5fd2l0aGRyYXdfYnRjID0gMC4xXG4gIHNjb3BlLm15X3NldHRpbmcgPSB7fVxuICBzY29wZS5idGNUcmFuc2FjdGlvbnMgPSBbXVxuXG4gIHNjb3BlLnNlbmRfZXRoID0gZnVuY3Rpb24gKG1vZGFsKSB7XG4gICAgc2NvcGUuc2F2ZUFwcHMoKVxuICAgIHNjb3BlLiRzY2FuKClcbiAgICB1c2VyLnNlbmRUcmFuc2FjdGlvbkV0aChtb2RhbClcblxuICAgIC8vIHZhciBtID0gJChtb2RhbClcbiAgICAvLyBpZiAobS5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgIG0ubW9kYWwoJ2hpZGUnKVxuICAgIC8vIH1cbiAgfVxuXG4gIHNjb3BlLnNlbmRfYnRjID0gZnVuY3Rpb24gKG1vZGFsKSB7XG4gICAgc2NvcGUuc2F2ZUFwcHMoKVxuICAgIHNjb3BlLiRzY2FuKClcbiAgICB1c2VyLnNlbmRUcmFuc2FjdGlvbkJ0Yyhtb2RhbClcblxuICAgIC8vIHZhciBtID0gJChtb2RhbClcbiAgICAvLyBpZiAobS5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgIG0ubW9kYWwoJ2hpZGUnKVxuICAgIC8vIH1cbiAgfVxuXG4gIHNjb3BlLnNhdmVBcHBzID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG15U2V0dGluZyA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICd3aXRoZHJhd19ldGhfYWRkcmVzcyc6IHNjb3BlLndpdGhkcmF3X2V0aF9hZGRyZXNzLFxuICAgICAgJ3dpdGhkcmF3X2J0Y19hZGRyZXNzJzogc2NvcGUud2l0aGRyYXdfYnRjX2FkZHJlc3MsXG4gICAgfSlcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdteV9zZXR0aW5nJywgIG15U2V0dGluZylcbiAgfVxuXG4gIHNjb3BlLmdldEN1cnJlbnRFeGNoYW5nZVJhdGUgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICQuZ2V0SlNPTignaHR0cHM6Ly9ub3hvbmZ1bmQuY29tL2N1cnMucGhwJywgKHsgcHJpY2VfYnRjIH0pID0+IHtcbiAgICAgICAgc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUgPSBwcmljZV9idGNcbiAgICAgICAgc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUgPSBwcmljZV9idGNcbiAgICAgICAgc2NvcGUuJHNjYW4oKVxuICAgICAgfSlcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgc2NvcGUudXBkYXRlQmFsYW5jZUV0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICB1c2VyLndlYjMuZXRoLmdldEJhbGFuY2UodXNlci5kYXRhLmFkZHJlc3MpLnRoZW4oZnVuY3Rpb24gKHIpIHtcblxuICAgICAgc2NvcGUuYmFsYW5jZSA9IHVzZXIud2ViMy51dGlscy5mcm9tV2VpKHIpO1xuICAgICAgc2NvcGUuYWRkcmVzcyA9IHVzZXIuZGF0YS5hZGRyZXNzO1xuICAgICAgc2NvcGUuYml0Y29pbl9hZGRyZXNzID0gdXNlci5iaXRjb2luRGF0YS5hZGRyZXNzO1xuICAgICAgXG4gICAgICBzY29wZS51cGRhdGVCYWxhbmNlQml0Y29pbigpO1xuICAgICAgc2NvcGUuJHNjYW4oKTtcbiAgICB9KVxuICB9XG5cbiAgc2NvcGUudXBkYXRlQmFsYW5jZUJpdGNvaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNjb3BlLmJpdGNvaW5fYWRkcmVzcykge1xuICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLmJsb2NrdHJhaWwuY29tL3YxL3RidGMvYWRkcmVzcy8ke3Njb3BlLmJpdGNvaW5fYWRkcmVzc30/YXBpX2tleT1NWV9BUElLRVlgXG4gICAgICAvLyAgdmFyIHVybCA9ICdodHRwczovL2FwaS5ibG9ja2N5cGhlci5jb20vdjEvYnRjL21haW4vYWRkcnMvJytzY29wZS5iaXRjb2luX2FkZHJlc3NcblxuICAgICAgLy9iaXRjb2luXG4gICAgICAkLmdldEpTT04odXJsLCBmdW5jdGlvbiAocikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHNjb3BlLmJpdGNvaW5fYmFsYW5jZSA9IHIuYmFsYW5jZSAvIDEwMDAwMDAwMFxuICAgICAgICAgIHNjb3BlLiRzY2FuKClcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgc2NvcGUuc2hvd0Vycm9yID0gKG1zZykgPT4ge1xuICAgIGFsZXJ0KG1zZylcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIGFkZHJlc3Mgd2FzIGNyZWF0ZWRcbiAgc2NvcGUuY2hlY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgYWRkcmVzcyA9ICcnICsgc2NvcGUuYWRkcmVzc1xuXG4gICAgaWYgKCFhZGRyZXNzLmxlbmd0aCkge1xuICAgICAgc2NvcGUuc2hvd0Vycm9yKCfQkNC00YDQtdGBINC90LUg0LHRi9C7INGB0LPQtdC90LXRgNGA0L7QstCw0L0nKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvbnN0IGluY3JlYXNlVG90YWxzID0gKG9yZGVycykgPT4ge1xuICAgIG9yZGVycy5mb3JFYWNoKCh7IHR5cGUsIGN1cnJlbmN5MUFtb3VudCwgY3VycmVuY3kyQW1vdW50IH0pID0+IHtcbiAgICAgIGlmICh0eXBlID09PSAnYnV5Jykge1xuICAgICAgICBzY29wZS50b3RhbF9idGMgKz0gcGFyc2VGbG9hdChjdXJyZW5jeTJBbW91bnQpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2NvcGUudG90YWxfZXRoICs9IHBhcnNlRmxvYXQoY3VycmVuY3kxQW1vdW50KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBzY29wZS4kc2NhbigpXG4gIH1cblxuICBzY29wZS5jcmVhdGVPcmRlciA9ICh0eXBlKSA9PiB7XG4gICAgY29uc3QgaWQgPSBzaGEyNTYodXNlci5kYXRhLmFkZHJlc3MpIC8vIFRPRE8gcmVwbGFjZSB3aXRoIHVzZXIgcHVibGljIGtleVxuICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgIGlkLFxuICAgICAgb3duZXJBZGRyZXNzOiB1c2VyLmRhdGEuYWRkcmVzcyxcbiAgICAgIGN1cnJlbmN5MTogJ0JUQycsXG4gICAgICBjdXJyZW5jeTI6ICdFVEgnLFxuICAgICAgY3VycmVuY3kxQW1vdW50OiB0eXBlID09PSAnYnV5JyA/IHNjb3BlLmV0aCA6IHNjb3BlLnNlbGxfZXRoLCAvLyBUT0RPIGZpeCB0aGlzXG4gICAgICBjdXJyZW5jeTJBbW91bnQ6IHR5cGUgPT09ICdidXknID8gc2NvcGUuYnRjIDogc2NvcGUuc2VsbF9idGMsIC8vIFRPRE8gZml4IHRoaXNcbiAgICAgIGV4Y2hhbmdlUmF0ZTogc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUsIC8vIFRPRE8gZml4IHRoaXNcbiAgICAgIHR5cGUsXG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKCdvcmRlciBjcmVhdGVkOicsIG9yZGVyKVxuXG4gICAgcm9vbS5zZW5kTWVzc2FnZSh7XG4gICAgICBkYXRhOiBvcmRlcixcbiAgICAgIHR5cGU6ICduZXdPcmRlcicsXG4gICAgfSlcbiAgICBvcmRlcnMuYXBwZW5kKG9yZGVyKVxuICAgIGluY3JlYXNlVG90YWxzKFsgb3JkZXIgXSlcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXlPcmRlcnMnLCBKU09OLnN0cmluZ2lmeShvcmRlcnMuZ2V0T3duZWRCeU1lKCkpKVxuICB9XG5cbiAgLy8gYXV0aFxuICBzY29wZS5zaWduID0gKCkgPT4ge1xuICAgIHVzZXIuc2lnbigpXG4gICAgc2NvcGUudXBkYXRlQmFsYW5jZUV0aCgpXG4gIH1cblxuICAvLyBzY29wZS5zZWxsX2NoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vICAgJCgnI3NlbGxfY2hfYWN0aXZlJykuYXR0cignY2hlY2tlZCcsIGZ1bmN0aW9uKCkge1xuICAvLyAgICAgaWYgKHBhcnNlTWVzcy5teUFkdnMpIHtcbiAgLy8gICAgICAgcmV0dXJuIHBhcnNlTWVzcy5teUFkdnMuYWN0aXZlXG4gIC8vICAgICB9XG4gIC8vXG4gIC8vICAgICByZXR1cm4gdHJ1ZVxuICAvLyAgIH0pXG4gIC8vIH1cbiAgLy9cbiAgLy8gc2NvcGUuY2hlY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gICAkKCcjY2hfYWN0aXZlJykuYXR0cignY2hlY2tlZCcsIGZ1bmN0aW9uKCkge1xuICAvLyAgICAgaWYgKHBhcnNlTWVzcy5teUFkdnMpIHtcbiAgLy8gICAgICAgcmV0dXJuIHBhcnNlTWVzcy5teUFkdnMuYWN0aXZlXG4gIC8vICAgICB9XG4gIC8vXG4gIC8vICAgICByZXR1cm4gdHJ1ZVxuICAvLyAgIH0pXG4gIC8vIH1cblxuICBzY29wZS5jaGVja2VkID0gKCkgPT4ge1xuICAgICQoJyNjaF9hY3RpdmUnKS5hdHRyKCdjaGVja2VkJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocGFyc2VNZXNzLm15QWR2cykge1xuICAgICAgICByZXR1cm4gcGFyc2VNZXNzLm15QWR2cy5hY3RpdmVcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICB9XG5cbiAgc2NvcGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbXlfc2V0dGluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdteV9zZXR0aW5nJylcblxuICAgIGlmIChteV9zZXR0aW5nKSB7XG4gICAgICBteV9zZXR0aW5nID0gSlNPTi5wYXJzZShteV9zZXR0aW5nKVxuXG4gICAgICBzY29wZS53aXRoZHJhd19ldGhfYWRkcmVzcyA9IG15X3NldHRpbmcud2l0aGRyYXdfZXRoX2FkZHJlc3NcbiAgICAgIHNjb3BlLndpdGhkcmF3X2J0Y19hZGRyZXNzID0gbXlfc2V0dGluZy53aXRoZHJhd19idGNfYWRkcmVzc1xuICAgIH1cblxuICAgIGluY3JlYXNlVG90YWxzKG9yZGVycy5pdGVtcylcbiAgfVxuXG4gIHNjb3BlLmluaXQoKVxuICBzY29wZS5nZXRDdXJyZW50RXhjaGFuZ2VSYXRlKClcbiAgc2NvcGUuc2lnbigpXG5cbiAgbWFpbi5zY29wZSA9IHNjb3BlXG59XG5cblxuLy8gRmlsdGVyc1xuXG5hbGlnaHQuZmlsdGVycy5vbmx5QnV5ID0gKGl0ZW1zLCBzY29wZSkgPT5cbiAgaXRlbXMuZmlsdGVyKCh7IHR5cGUgfSkgPT4gdHlwZSA9PT0gJ2J1eScpXG5cbmFsaWdodC5maWx0ZXJzLm9ubHlTZWxsID0gKGl0ZW1zLCBzY29wZSkgPT5cbiAgaXRlbXMuZmlsdGVyKCh7IHR5cGUgfSkgPT4gdHlwZSA9PT0gJ3NlbGwnKVxuXG5cbi8vIEhvb2tzXG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9ldGhfZXhjaGFuZ2VfcmF0ZSA9IHtcbiAgZXZlbnQ6IFsgJ2lucHV0JywgJ2JsdXInIF0sXG4gIGZuOiAoZXZlbnQsIGVudikgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnYmx1cicpIHJldHVyblxuICAgIGlmICghbWFpbi5zY29wZS5ldGhfZXhjaGFuZ2VfcmF0ZSkgcmV0dXJuXG5cbiAgICBtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlID0gKG1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuYnRjID0gbWFpbi5zY29wZS5ldGggKm1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9ldGggPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5ldGggPSAobWFpbi5zY29wZS5ldGgubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuYnRjID0gbWFpbi5zY29wZS5ldGggKm1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9idGMgPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuZXRoX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5idGMgPSAobWFpbi5zY29wZS5idGMubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuZXRoID0gbWFpbi5zY29wZS5idGMgLyBtYWluLnNjb3BlLmV0aF9leGNoYW5nZV9yYXRlXG5cbiAgICBtYWluLnNjb3BlLiRzY2FuKClcbiAgfVxufVxuXG4vL2ZvciBzZWxsXG5hbGlnaHQuaG9va3MuZXZlbnRNb2RpZmllci5jaGFuZ2VfYnRjX2V4Y2hhbmdlX3JhdGUgPSB7XG4gIGV2ZW50OiBbICdpbnB1dCcsICdibHVyJyBdLFxuICBmbjogKGV2ZW50LCBlbnYpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2JsdXInKSByZXR1cm5cbiAgICBpZiAoIW1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGUpIHJldHVyblxuXG4gICAgbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZSA9IChtYWluLnNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlLm1hdGNoKC9eW1xcZC5dKyQvKSlcbiAgICBtYWluLnNjb3BlLnNlbGxfYnRjID0gbWFpbi5zY29wZS5zZWxsX2V0aCAqbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZVxuXG4gICAgbWFpbi5zY29wZS4kc2NhbigpXG4gIH1cbn1cblxuYWxpZ2h0Lmhvb2tzLmV2ZW50TW9kaWZpZXIuY2hhbmdlX3NlbGxfZXRoID0ge1xuICBldmVudDogWyAnaW5wdXQnLCAnYmx1cicgXSxcbiAgZm46IChldmVudCwgZW52KSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdibHVyJykgcmV0dXJuXG4gICAgaWYgKCFtYWluLnNjb3BlLmJ0Y19leGNoYW5nZV9yYXRlKSByZXR1cm5cblxuICAgIG1haW4uc2NvcGUuc2VsbF9ldGggPSAobWFpbi5zY29wZS5zZWxsX2V0aC5tYXRjaCgvXltcXGQuXSskLykpXG4gICAgbWFpbi5zY29wZS5zZWxsX2J0YyA9IG1haW4uc2NvcGUuc2VsbF9ldGggKm1haW4uc2NvcGUuYnRjX2V4Y2hhbmdlX3JhdGVcblxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cbmFsaWdodC5ob29rcy5ldmVudE1vZGlmaWVyLmNoYW5nZV9zZWxsX2J0YyA9IHtcbiAgZXZlbnQ6IFsgJ2lucHV0JywgJ2JsdXInIF0sXG4gIGZuOiAoZXZlbnQsIGVudikgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnYmx1cicpIHJldHVyblxuICAgIGlmICghbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZSkgcmV0dXJuXG5cbiAgICBtYWluLnNjb3BlLnNlbGxfYnRjID0gKG1haW4uc2NvcGUuc2VsbF9idGMubWF0Y2goL15bXFxkLl0rJC8pKVxuICAgIG1haW4uc2NvcGUuc2VsbF9ldGggPSBtYWluLnNjb3BlLnNlbGxfYnRjIC8gbWFpbi5zY29wZS5idGNfZXhjaGFuZ2VfcmF0ZVxuICAgIFxuICAgIG1haW4uc2NvcGUuJHNjYW4oKVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgbWFpblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXJzL21haW4uanMiLCJjbGFzcyBPcmRlciB7XG5cbiAgLyoqXG4gICAqXG4gICAqIG93bmVyQWRkcmVzc1xuICAgKiBjdXJyZW5jeTFcbiAgICogY3VycmVuY3kyXG4gICAqIGN1cnJlbmN5MUFtb3VudFxuICAgKiBjdXJyZW5jeTJBbW91bnRcbiAgICogZXhjaGFuZ2VSYXRlXG4gICAqIHR5cGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHRoaXNba2V5XSA9IGRhdGFba2V5XVxuICAgIH0pXG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBPcmRlclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21vZGVscy9PcmRlci5qcyIsImltcG9ydCB1c2VyIGZyb20gJy4vdXNlcidcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vQ29sbGVjdGlvbidcblxuXG5jbGFzcyBPcmRlcnMgZXh0ZW5kcyBDb2xsZWN0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLm9uTW91bnQoKVxuICB9XG5cbiAgb25Nb3VudCgpIHtcbiAgICBjb25zdCBpdGVtcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ215T3JkZXJzJykgfHwgJ1tdJylcblxuICAgIHRoaXMuaXRlbXMgPSBpdGVtc1xuICAgIHRoaXMuaXRlbUlkcyA9IHt9XG5cbiAgICBpdGVtcy5mb3JFYWNoKCh7IGlkIH0sIGluZGV4KSA9PiB0aGlzLml0ZW1JZHNbaWRdID0gaW5kZXgpXG4gIH1cblxuICAvKipcbiAgICogaWRcbiAgICogb3duZXJBZGRyZXNzXG4gICAqIGN1cnJlbmN5MVxuICAgKiBjdXJyZW5jeTJcbiAgICogY3VycmVuY3kxQW1vdW50XG4gICAqIGN1cnJlbmN5MkFtb3VudFxuICAgKiBleGNoYW5nZVJhdGVcbiAgICogdHlwZVxuICAgKi9cbiAgYXBwZW5kKGRhdGEpIHtcbiAgICBzdXBlci5hcHBlbmQoZGF0YSwgZGF0YS5pZClcbiAgfVxuXG4gIGdldE93bmVkQnlNZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoKHsgb3duZXJBZGRyZXNzIH0pID0+IG93bmVyQWRkcmVzcyA9PT0gdXNlci5kYXRhLmFkZHJlc3MpXG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBuZXcgT3JkZXJzKClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2RlbHMvb3JkZXJzLmpzIiwiLyogKGlnbm9yZWQpICovXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gYnVmZmVyIChpZ25vcmVkKVxuLy8gbW9kdWxlIGlkID0gMTgyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIChpZ25vcmVkKSAqL1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIHV0aWwgKGlnbm9yZWQpXG4vLyBtb2R1bGUgaWQgPSAyMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogKGlnbm9yZWQpICovXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gdXRpbCAoaWdub3JlZClcbi8vIG1vZHVsZSBpZCA9IDIxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiAoaWdub3JlZCkgKi9cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBjcnlwdG8gKGlnbm9yZWQpXG4vLyBtb2R1bGUgaWQgPSAyNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibGV0IGNvdW50TW9kYWwgPSAwXG5cbmNvbnN0IHNob3dNZXNzID0gKG1lc3NhZ2UsIHNlY29uZHMsIHN0YXR1cykgPT4ge1xuICBsZXQgc3RhdHVzMiA9IDBcbiAgXG4gIGlmIChzdGF0dXMgPT09IDEgfHwgc3RhdHVzID09PSAnc3VjY2VzcycgfHwgc3RhdHVzID09PSAnaW5mbycpIHtcbiAgICBzdGF0dXMyID0gMVxuICB9XG4gIGVsc2UgaWYgKHN0YXR1cyA9PT0gMiB8fCBzdGF0dXMgPT09ICdkYW5nZXInIHx8IHN0YXR1cyA9PT0gJ2Vycm9yJyl7XG4gICAgc3RhdHVzMiA9IDJcbiAgfVxuICBcbiAgY29uc3QgbW9kYWwgPSAkKCcjTXlQb3B1cCcpXG4gIFxuICBpZiAobW9kYWwubGVuZ3RoID4gMCkge1xuICAgIGNvdW50TW9kYWwrK1xuXG4gICAgY29uc3QgdG5Cb3ggPSBtb2RhbC5maW5kKCcudG4tYm94OmVxKDApJykuY2xvbmUoKVxuXG4gICAgbW9kYWwuc2hvdygpXG4gICAgbW9kYWwuYXBwZW5kKHRuQm94KVxuXG4gICAgdG5Cb3guZmluZCgncCcpLmh0bWwobWVzc2FnZSlcbiAgICB0bkJveC5yZW1vdmVDbGFzcygndG4tYm94LWNvbG9yLTAnKVxuICAgIHRuQm94LnJlbW92ZUNsYXNzKCd0bi1ib3gtY29sb3ItMScpXG4gICAgdG5Cb3gucmVtb3ZlQ2xhc3MoJ3RuLWJveC1jb2xvci0yJylcbiAgICB0bkJveC5hZGRDbGFzcygndG4tYm94LWNvbG9yLScgKyBzdGF0dXMyKVxuICAgIHRuQm94LmNzcyh7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgJy13ZWJraXQtYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICAgICctbW96LWFuaW1hdGlvbic6ICdmYWRlT3V0ICcrKHNlY29uZHMgKyAwLjUpKydzIGxpbmVhciBmb3J3YXJkcycsXG4gICAgICAnLW8tYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICAgICctbXMtYW5pbWF0aW9uJzogJ2ZhZGVPdXQgJysoc2Vjb25kcyArIDAuNSkrJ3MgbGluZWFyIGZvcndhcmRzJyxcbiAgICAgICdhbmltYXRpb24nOiAnZmFkZU91dCAnKyhzZWNvbmRzICsgMC41KSsncyBsaW5lYXIgZm9yd2FyZHMnLFxuICAgIH0pXG5cbiAgICBjb25zdCBwcm9ncmVzcyA9IHRuQm94LmZpbmQoJy50bi1wcm9ncmVzcycpXG5cbiAgICBwcm9ncmVzcy5jc3Moe1xuICAgICAgJy13ZWJraXQtYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgICAnLW1vei1hbmltYXRpb24nOiAncnVuUHJvZ3Jlc3MgJysoc2Vjb25kcyAtIDEpKydzIGxpbmVhciBmb3J3YXJkcyAwLjVzJyxcbiAgICAgICctby1hbmltYXRpb24nOiAncnVuUHJvZ3Jlc3MgJysoc2Vjb25kcyAtIDEpKydzIGxpbmVhciBmb3J3YXJkcyAwLjVzJyxcbiAgICAgICctbXMtYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgICAnYW5pbWF0aW9uJzogJ3J1blByb2dyZXNzICcrKHNlY29uZHMgLSAxKSsncyBsaW5lYXIgZm9yd2FyZHMgMC41cycsXG4gICAgfSlcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY291bnRNb2RhbC0tXG4gICAgICB0bkJveC5yZW1vdmUoKVxuICAgICAgaWYgKGNvdW50TW9kYWwgPD0gMCkge1xuICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgIH1cbiAgICB9LCAoc2Vjb25kcyAqIDEwMDApKVxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgc2hvd01lc3NcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9oZWxwZXJzL3Nob3dNZXNzLmpzIiwiY2xhc3MgQ29sbGVjdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pdGVtcyA9IFtdXG4gICAgdGhpcy5pdGVtSWRzID0ge31cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgaXRlbSBhdCB0aGUgc3RhcnQgb2YgY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBpdGVtXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcHJlcGVuZChpdGVtLCBrZXkpIHtcbiAgICB0aGlzLml0ZW1zLnVuc2hpZnQoaXRlbSlcbiAgICBpZiAoa2V5KSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5pdGVtSWRzKSB7XG4gICAgICAgIGlmICh0aGlzLml0ZW1JZHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMuaXRlbUlkc1trZXldICs9IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pdGVtSWRzW2tleV0gPSAwXG4gICAgfVxuICAgIHJldHVybiBpdGVtXG4gIH1cblxuICAvKipcbiAgICogQWRkIGl0ZW0gYXQgdGhlIGVuZCBvZiBjdXJyZW50IGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGl0ZW1cbiAgICogQHBhcmFtIGtleSB7c3RyaW5nfG51bWJlcn1cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBhcHBlbmQoaXRlbSwga2V5KSB7XG4gICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pXG4gICAgaWYgKGtleSkge1xuICAgICAgdGhpcy5pdGVtSWRzW2tleV0gPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDFcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgaXRlbSBieSBpbmRleCBmcm9tIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICByZW1vdmVCeUluZGV4KGluZGV4KSB7XG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBpdGVtIGJ5IGtleSBbaWRdIGZyb20gY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ3xudW1iZXJ9XG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcmVtb3ZlQnlLZXkoa2V5KSB7XG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc3BsaWNlKHRoaXMuaXRlbUlkc1trZXldLCAxKVxuICAgIGRlbGV0ZSB0aGlzLml0ZW1JZHNba2V5XVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpbmRleCBvZiBpdGVtIGluIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gaXRlbVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgaW5kZXhPZihpdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpdGVtIGJ5IGluZGV4IGZyb20gY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGdldEJ5SW5kZXgoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtc1tpbmRleF1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaXRlbSBieSBrZXkgW2lkXSBmcm9tIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0ga2V5IHtzdHJpbmd8bnVtYmVyfVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGdldEJ5S2V5KGtleSkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zW3RoaXMuaXRlbUlkc1trZXldXVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGl0ZW0gd2l0aCBzdWNoIG5hbWUgZXhpc3RzIGluIGN1cnJlbnQgY29sbGVjdGlvblxuICAgKiBAcGFyYW0ga2V5IHtzdHJpbmd8bnVtYmVyfVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzRXhpc3Qoa2V5KSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRCeUtleShrZXkpKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsZW5ndGggb2YgY3VycmVudCBjb2xsZWN0aW9uXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aFxuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQ29sbGVjdGlvblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21vZGVscy9Db2xsZWN0aW9uLmpzIiwiaW1wb3J0IElwZnNSb29tIGZyb20gJ2lwZnMtcHVic3ViLXJvb20nXG5pbXBvcnQgeyBvcmRlcnMgfSBmcm9tICdtb2RlbHMnXG5cblxuY2xhc3MgUm9vbSB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbFxuICB9XG5cbiAgY29ubmVjdChpcGZzQ29ubmVjdGlvbikge1xuICAgIHRoaXMuY29ubmVjdGlvbiA9IElwZnNSb29tKGlwZnNDb25uZWN0aW9uLCAnanN3YXBzJywge1xuICAgICAgcG9sbEludGVydmFsOiA1MDAwLFxuICAgIH0pXG5cbiAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ21lc3NhZ2UnLCB0aGlzLmhhbmRsZU5ld01lc3NhZ2UpXG4gICAgdGhpcy5jb25uZWN0aW9uLm9uKCdwZWVyIGpvaW5lZCcsIHRoaXMuaGFuZGxlTmV3VXNlckNvbm5lY3RlZClcbiAgICB0aGlzLmNvbm5lY3Rpb24ub24oJ3N1YnNjcmliZWQnLCB0aGlzLmhhbmRsZVN1YnNjcmliZSlcbiAgfVxuXG4gIGhhbmRsZVN1YnNjcmliZSA9ICgpID0+IHtcbiAgICBjb25zb2xlLmluZm8oJ05vdyBjb25uZWN0ZWQhJylcbiAgfVxuXG4gIGhhbmRsZU5ld01lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YS50b1N0cmluZygpKVxuXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBOZXcgbWVzc2FnZSBkYXRhOmAsIHsgLi4ubWVzc2FnZSwgZGF0YSB9KVxuXG4gICAgICBkYXRhLmZvckVhY2goKHsgdHlwZSwgZGF0YSB9KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBNZXNzYWdlIG9mIHR5cGUgJHt0eXBlfTpgLCBkYXRhKVxuXG4gICAgICAgIGlmICh0eXBlID09PSAnbmV3T3JkZXInKSB7XG4gICAgICAgICAgb3JkZXJzLmFwcGVuZChkYXRhKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU5ld1VzZXJDb25uZWN0ZWQgPSAocGVlcikgPT4ge1xuICAgIGNvbnNvbGUuaW5mbygnTmV3IHBlZXI6JywgcGVlcilcblxuICAgIGNvbnN0IG15T3JkZXJzID0gb3JkZXJzLmdldE93bmVkQnlNZSgpXG5cbiAgICBpZiAobXlPcmRlcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZFRvKHBlZXIsIEpTT04uc3RyaW5naWZ5KG15T3JkZXJzKSlcbiAgICB9XG4gIH1cblxuICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgdGhpcy5jb25uZWN0aW9uLmJyb2FkY2FzdChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSlcbiAgfVxufVxuXG5jb25zdCByb29tID0gbmV3IFJvb20oKVxuXG5cbmNvbnN0IGlwZnNDb25uZWN0aW9uID0gbmV3IElwZnMoe1xuICBFWFBFUklNRU5UQUw6IHtcbiAgICBwdWJzdWI6IHRydWUsXG4gIH0sXG4gIGNvbmZpZzoge1xuICAgIEFkZHJlc3Nlczoge1xuICAgICAgU3dhcm06IFtcbiAgICAgICAgJy9kbnM0L3dzLXN0YXIuZGlzY292ZXJ5LmxpYnAycC5pby90Y3AvNDQzL3dzcy9wMnAtd2Vic29ja2V0LXN0YXInLFxuICAgICAgXSxcbiAgICB9LFxuICB9LFxufSlcblxuaXBmc0Nvbm5lY3Rpb24ub24oJ3JlYWR5JywgKCkgPT4gcm9vbS5jb25uZWN0KGlwZnNDb25uZWN0aW9uKSlcblxuXG5leHBvcnQgZGVmYXVsdCByb29tXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbW9kZWxzL3Jvb20uanMiLCJpbXBvcnQgYWxpZ2h0IGZyb20gJ2FsaWdodCdcbmltcG9ydCB7dXNlciwgcm9vbX0gZnJvbSAnbW9kZWxzJ1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuY29uc3QgaGlzdG9yeSA9IHtcbiAgc2NvcGU6IHt9LFxufVxuXG5hbGlnaHQuY29udHJvbGxlcnMuaGlzdG9yeSA9IGZ1bmN0aW9uIChzY29wZSkge1xuICBjb25zb2xlLmxvZygnaGlzdG9yeSBjb250cm9sbGVyIScpXG5cbiAgc2NvcGUuc2lnbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB1c2VyLnNpZ24oKVxuICB9XG5cbiAgc2NvcGUucmVmcmVzaEJUQ1RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHVzZXIuYml0Y29pbkRhdGEuYWRkcmVzcykge1xuICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmJsb2NrdHJhaWwuY29tL3YxL3RidGMvYWRkcmVzcy8nICsgdXNlci5iaXRjb2luRGF0YS5hZGRyZXNzICsgJy90cmFuc2FjdGlvbnM/YXBpX2tleT1NWV9BUElLRVknXG5cbiAgICAgIGxldCB0b3RhbCA9IDBcblxuICAgICAgJC5nZXRKU09OKHVybCwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgaGlzdG9yeS5zY29wZS5idGNUcmFuc2FjdGlvbnMgPSByLmRhdGFcblxuICAgICAgICAkLmVhY2goci5kYXRhLCBmdW5jdGlvbiAoaywgaSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGkpXG5cbiAgICAgICAgfSlcblxuICAgICAgICBoaXN0b3J5LnNjb3BlLiRzY2FuKClcblxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2JpdGNvaW5fYWRkcmVzcyBpcyBtaXNzaW5nJylcbiAgICB9XG4gIH1cblxuICBzY29wZS5zaWduKClcbiAgc2NvcGUucmVmcmVzaEJUQ1RyYW5zYWN0aW9uKClcblxuICBoaXN0b3J5LnNjb3BlID0gc2NvcGVcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBoaXN0b3J5XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29udHJvbGxlcnMvaGlzdG9yeS5qcyIsImltcG9ydCBhbGlnaHQgZnJvbSAnYWxpZ2h0J1xuXG5cbmNvbnN0IGV0aFRvQnRjID0ge1xuICBzY29wZToge30sXG59XG5cbmFsaWdodC5jb250cm9sbGVycy5ldGhUb0J0YyA9IGZ1bmN0aW9uKHNjb3BlKSB7XG4gIGNvbnNvbGUubG9nKCdFVEggdG8gQlRDIGNvbnRyb2xsZXIhJylcblxuXG4gIGV0aFRvQnRjLnNjb3BlID0gc2NvcGVcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBldGhUb0J0Y1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXJzL2V0aFRvQnRjLmpzIiwiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5pbXBvcnQgY3J5cHRvIGZyb20gJ3N3YXAtY3J5cHRvJ1xuaW1wb3J0IHsgYXBwIH0gZnJvbSAnY29udHJvbGxlcnMnXG5pbXBvcnQgeyBvcmRlcnMgfSBmcm9tICdtb2RlbHMnXG5pbXBvcnQgeyBFVEhTd2FwLCBCVENTd2FwIH0gZnJvbSAnc3dhcHMnXG5cblxuY29uc3QgYnRjVG9FdGggPSB7XG4gIHNjb3BlOiB7fSxcbn1cblxuYWxpZ2h0LmNvbnRyb2xsZXJzLmJ0Y1RvRXRoID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgY29uc29sZS5sb2coJ0JUQyB0byBFVEggY29udHJvbGxlciEnKVxuXG4gIGNvbnN0IHsgcGFyYW1zOiB7IGlkOiBvcmRlcklkIH0gfSA9IGFwcC5zY29wZS5hY3RpdmVSb3V0ZVxuXG4gIGNvbnN0IG9yZGVyID0gb3JkZXJzLmdldEJ5S2V5KG9yZGVySWQpXG5cbiAgY29uc29sZS5sb2coJ09yZGVyOicsIG9yZGVyKVxuXG4gIHNjb3BlLmRhdGEgPSB7XG4gICAgb3JkZXIsXG4gICAgc2VjcmV0OiAnYzA4MDljZTlmNDg0ZmRjZGZiMmQ1YWFiZDYwOTc2OGNlMDM3NGVlOTdhMWE1NjE4Y2U0Y2QzZjE2YzAwYTA3OCcsXG4gICAgc2VjcmV0SGFzaDogJycsXG4gICAgYnRjU2NyaXB0QWRkcmVzczogJzB4MGRzZ3NkaHNkaHNkZHNoJyxcbiAgICB3YWl0aW5nRm9yVXNlcjogZmFsc2UsXG4gICAgc3RlcDogMSxcbiAgfVxuXG4gIHNjb3BlLmdvTmV4dFN0ZXAgPSAoKSA9PiB7XG4gICAgc2NvcGUuZGF0YS5zdGVwKys7XG5cbiAgICBpZiAoc2NvcGUuZGF0YS5zdGVwID09PSAyKSB7XG4gICAgICBzY29wZS5kYXRhLnNlY3JldEhhc2ggPSBjcnlwdG8ucmlwZW1kMTYwKHNjb3BlLmRhdGEuc2VjcmV0KVxuICAgIH1cbiAgICBlbHNlIGlmIChzY29wZS5kYXRhLnN0ZXAgPT09IDMpIHtcbiAgICAgIHNjb3BlLmRhdGEud2FpdGluZ0ZvclVzZXIgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY29wZS5kYXRhLnN0ZXAgPT09IDQpIHtcblxuICAgIH1cblxuICAgIHNjb3BlLiRzY2FuKClcbiAgfVxuXG4gIGJ0Y1RvRXRoLnNjb3BlID0gc2NvcGVcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBidGNUb0V0aFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRyb2xsZXJzL2J0Y1RvRXRoLmpzIiwiaW1wb3J0IGNyeXB0byBmcm9tICdiaXRjb2luanMtbGliL3NyYy9jcnlwdG8nXG5cblxuLypcbiBzZWNyZXQgICAgICAgIGMwODA5Y2U5ZjQ4NGZkY2RmYjJkNWFhYmQ2MDk3NjhjZTAzNzRlZTk3YTFhNTYxOGNlNGNkM2YxNmMwMGEwNzhcbiBzZWNyZXRIYXNoICAgIGMwOTMzZjliZTUxYTI4NGFjYjZiMWE2NjE3YTQ4ZDc5NWJkZWFhODBcbiAqL1xuY29uc3QgcmlwZW1kMTYwID0gKHZhbHVlKSA9PiBjcnlwdG8ucmlwZW1kMTYwKEJ1ZmZlci5mcm9tKHZhbHVlLCAnaGV4JykpLnRvU3RyaW5nKCdoZXgnKVxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmlwZW1kMTYwLFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbG9jYWxfbW9kdWxlcy9zd2FwLWNyeXB0by5qcyIsImltcG9ydCBiaXRjb2luIGZyb20gJ2JpdGNvaW5qcy1saWInXG5cbmNvbnN0IHRlc3RuZXRVdGlscyA9IHt9IC8vIFRPRE8gSE9XP1xuXG5cbmNvbnN0IHV0Y05vdyA9ICgpID0+IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApXG5jb25zdCBsb2NrVGltZSA9IHV0Y05vdygpICsgMzYwMCAqIDMgLy8gMyBkYXlzIGZyb20gbm93XG5cblxuY29uc3QgY3JlYXRlU2NyaXB0ID0gKGJ0Y093bmVyU2VjcmV0SGFzaCwgYnRjT3duZXJQdWJsaWNLZXksIGV0aE93bmVyUHVibGljS2V5KSA9PiB7XG4gIHJldHVybiBiaXRjb2luLnNjcmlwdC5jb21waWxlKFtcbiAgICBidGNPd25lclB1YmxpY0tleSxcbiAgICBiaXRjb2luLm9wY29kZXMuT1BfQ0hFQ0tTSUcsXG5cbiAgICBiaXRjb2luLm9wY29kZXMuT1BfSUYsXG4gICAgYml0Y29pbi5zY3JpcHQubnVtYmVyLmVuY29kZShsb2NrVGltZSksXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0NIRUNLTE9DS1RJTUVWRVJJRlksXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0VORElGLFxuXG4gICAgZXRoT3duZXJQdWJsaWNLZXksXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0NIRUNLU0lHLFxuXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0lGLFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9SSVBFTUQxNjAsXG4gICAgQnVmZmVyLmZyb20oYnRjT3duZXJTZWNyZXRIYXNoLCAnaGV4JyksXG4gICAgYml0Y29pbi5vcGNvZGVzLk9QX0VRVUFMVkVSSUZZLFxuICAgIGJpdGNvaW4ub3Bjb2Rlcy5PUF9FTkRJRixcbiAgXSlcbn1cblxuY29uc3QgYWRkTW9uZXkgPSAoc2NyaXB0LCBhbW91bnQpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBzY3JpcHRQdWJLZXkgICAgPSBiaXRjb2luLnNjcmlwdC5zY3JpcHRIYXNoLm91dHB1dC5lbmNvZGUoYml0Y29pbi5jcnlwdG8uaGFzaDE2MChzY3JpcHQpKVxuICAgIGNvbnN0IHNjcmlwdEFkZHJlc3MgICA9IGJpdGNvaW4uYWRkcmVzcy5mcm9tT3V0cHV0U2NyaXB0KHNjcmlwdFB1YktleSwgdGVzdG5ldClcblxuICAgIHRlc3RuZXRVdGlscy5mYXVjZXQoc2NyaXB0QWRkcmVzcywgYW1vdW50LCBmdW5jdGlvbiAoZXJyLCB1bnNwZW50KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmdW5kIGVycm9yOicsIGVycilcbiAgICAgICAgcmVqZWN0KClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoKVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IHdpdGhkcmF3ID0gKHNjcmlwdCwgdW5zcGVudCwgc2VjcmV0LCB3aXRoZHJhd0FkZHJlc3MpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBoYXNoVHlwZSAgPSBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMXG4gICAgY29uc3QgdHggICAgICAgID0gbmV3IGJpdGNvaW4uVHJhbnNhY3Rpb25CdWlsZGVyKHRlc3RuZXQpXG5cbiAgICB0eC5zZXRMb2NrVGltZShsb2NrVGltZSlcbiAgICB0eC5hZGRJbnB1dCh1bnNwZW50LnR4SWQsIHVuc3BlbnQudm91dCwgMHhmZmZmZmZmZSlcbiAgICB0eC5hZGRPdXRwdXQod2l0aGRyYXdBZGRyZXNzLCAxZTQpXG5cbiAgICBjb25zdCB0eFJhdyAgICAgICAgICAgICAgID0gdHguYnVpbGRJbmNvbXBsZXRlKClcbiAgICBjb25zdCBzaWduYXR1cmVIYXNoICAgICAgID0gdHhSYXcuaGFzaEZvclNpZ25hdHVyZSgwLCBzY3JpcHQsIGhhc2hUeXBlKVxuICAgIGNvbnN0IGV0aE93bmVyU2lnbmF0dXJlICAgPSBldGhPd25lci5zaWduKHNpZ25hdHVyZUhhc2gpLnRvU2NyaXB0U2lnbmF0dXJlKGhhc2hUeXBlKVxuXG4gICAgY29uc3Qgc2NyaXB0U2lnID0gYml0Y29pbi5zY3JpcHQuc2NyaXB0SGFzaC5pbnB1dC5lbmNvZGUoXG4gICAgICBbXG4gICAgICAgIGV0aE93bmVyU2lnbmF0dXJlLFxuICAgICAgICBCdWZmZXIuZnJvbShzZWNyZXQsICdoZXgnKSxcbiAgICAgIF0sXG4gICAgICBzY3JpcHRcbiAgICApXG5cbiAgICB0eFJhdy5zZXRJbnB1dFNjcmlwdCgwLCBzY3JpcHRTaWcpXG5cbiAgICBjb25zdCB0eElkID0gdHhSYXcuZ2V0SWQoKVxuXG4gICAgY29uc29sZS5sb2coJ2ZpbmFsIHR4aWQnLCB0eElkKVxuICAgIGNvbnNvbGUubG9nKCdmaW5hbCB0eFJhdycsIHR4UmF3KVxuXG4gICAgdGVzdG5ldFV0aWxzLnRyYW5zYWN0aW9ucy5wcm9wYWdhdGUodHhSYXcudG9IZXgoKSwgKHNtdGgsIHJlc3VsdCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCcsIHJlc3VsdClcblxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXNvbHZlKClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZWplY3QoKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IHJlZnVuZCA9IChzY3JpcHQsIHVuc3BlbnQsIHNlY3JldCwgcmVmdW5kQWRkcmVzcykgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IGhhc2hUeXBlICA9IGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTExcbiAgICBjb25zdCB0eCAgICAgICAgPSBuZXcgYml0Y29pbi5UcmFuc2FjdGlvbkJ1aWxkZXIodGVzdG5ldClcblxuICAgIHR4LnNldExvY2tUaW1lKGxvY2tUaW1lKVxuICAgIHR4LmFkZElucHV0KHVuc3BlbnQudHhJZCwgdW5zcGVudC52b3V0LCAweGZmZmZmZmZlKVxuICAgIHR4LmFkZE91dHB1dChyZWZ1bmRBZGRyZXNzLCAxZTQpXG5cbiAgICBjb25zdCB0eFJhdyAgICAgICAgICAgICAgID0gdHguYnVpbGRJbmNvbXBsZXRlKClcbiAgICBjb25zdCBzaWduYXR1cmVIYXNoICAgICAgID0gdHhSYXcuaGFzaEZvclNpZ25hdHVyZSgwLCBzY3JpcHQsIGhhc2hUeXBlKVxuICAgIGNvbnN0IGJ0Y093bmVyU2lnbmF0dXJlICAgPSBidGNPd25lci5zaWduKHNpZ25hdHVyZUhhc2gpLnRvU2NyaXB0U2lnbmF0dXJlKGhhc2hUeXBlKVxuXG4gICAgY29uc3Qgc2NyaXB0U2lnID0gYml0Y29pbi5zY3JpcHQuc2NyaXB0SGFzaC5pbnB1dC5lbmNvZGUoXG4gICAgICBbXG4gICAgICAgIGJ0Y093bmVyU2lnbmF0dXJlLFxuICAgICAgICBCdWZmZXIuZnJvbShzZWNyZXQsICdoZXgnKSxcbiAgICAgIF0sXG4gICAgICBzY3JpcHRcbiAgICApXG5cbiAgICB0eFJhdy5zZXRJbnB1dFNjcmlwdCgwLCBzY3JpcHRTaWcpXG5cbiAgICBjb25zdCB0eElkID0gdHhSYXcuZ2V0SWQoKVxuXG4gICAgY29uc29sZS5sb2coJ2ZpbmFsIHR4aWQnLCB0eElkKVxuICAgIGNvbnNvbGUubG9nKCdmaW5hbCB0eFJhdycsIHR4UmF3KVxuXG4gICAgdGVzdG5ldFV0aWxzLnRyYW5zYWN0aW9ucy5wcm9wYWdhdGUodHhSYXcudG9IZXgoKSwgKHNtdGgsIHJlc3VsdCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCcsIHJlc3VsdClcblxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXNvbHZlKClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZWplY3QoKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBjcmVhdGVTY3JpcHQsXG4gIGFkZE1vbmV5LFxuICB3aXRoZHJhdyxcbiAgcmVmdW5kLFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N3YXBzL2J0Y1N3YXAuanMiLCJleHBvcnQgZGVmYXVsdCB7XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zd2Fwcy9ldGhTd2FwLmpzIiwiaW1wb3J0IGFsaWdodCBmcm9tICdhbGlnaHQnXG5cblxuYWxpZ2h0LmRpcmVjdGl2ZXMuYWwuY29weSA9IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgZXhwcmVzc2lvbiwgZW52KSB7XG4gICQoZWxlbWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICB0cnkge1xuICAgICAgLy8g0YHQvtCy0YDQtdC80LXQvdC90YvQuSDQvtCx0YrQtdC60YIgU2VsZWN0aW9uXG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKClcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIC8vINC00LvRjyBJRTgtXG4gICAgICBkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKVxuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKVxuICAgICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQodGhpcylcbiAgICAgIHJhbmdlLnNlbGVjdCgpLmNyZWF0ZVRleHRSYW5nZSgpXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcIkNvcHlcIilcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gICAgICByYW5nZS5zZWxlY3ROb2RlKHRoaXMpXG4gICAgICBjb25zb2xlLmxvZyhyYW5nZSlcbiAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5hZGRSYW5nZShyYW5nZSlcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiQ29weVwiKVxuICAgICAgYWxlcnQoXCJ0ZXh0IGNvcGllZFwiKVxuICAgIH1cbiAgfSlcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kaXJlY3RpdmVzL2NvcHkuanMiLCJpbXBvcnQgeyBhcHAgfSBmcm9tICdjb250cm9sbGVycydcbmltcG9ydCBOYXZpZ28gZnJvbSAnbmF2aWdvJ1xuXG5cbmNvbnN0IHJvdXRlciA9IG5ldyBOYXZpZ28obnVsbCwgdHJ1ZSwgJyMnKVxuXG5jb25zdCBiaW5kID0gKHBhdGgpID0+IFsgcGF0aCwgKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgY29uc29sZS5sb2coYFJvdXRlIGNoYW5nZWQgdG8gJHtwYXRofWApXG5cbiAgYXBwLnNjb3BlLmFjdGl2ZVJvdXRlID0ge1xuICAgIHBhdGgsXG4gICAgcGFyYW1zLFxuICAgIHF1ZXJ5LFxuICB9XG4gIGFwcC5zY29wZS4kc2NhbigpXG59IF1cblxucm91dGVyXG4gIC5vbiguLi5iaW5kKCcvJykpXG4gIC5vbiguLi5iaW5kKCcvaGlzdG9yeScpKVxuICAub24oLi4uYmluZCgnL2J0Yy10by1ldGgvOmlkJykpXG4gIC5vbiguLi5iaW5kKCcvZXRoLXRvLWJ0Yy86aWQnKSlcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JvdXRlci5qcyIsImltcG9ydCBXZWIzIGZyb20gJ3dlYjMnXG5pbXBvcnQgYml0Y29pbiBmcm9tICdiaXRjb2luanMtbGliJ1xuaW1wb3J0IEJpZ0ludGVnZXIgZnJvbSAnYmlnaSdcbmltcG9ydCB7IG1haW4gfSBmcm9tICdjb250cm9sbGVycydcbmltcG9ydCB7IHNob3dNZXNzIH0gZnJvbSAnaGVscGVycydcblxuXG5jbGFzcyBVc2VyIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLndlYjMgPSBuZXcgV2ViMyhuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKFwiaHR0cHM6Ly9yb3BzdGVuLmluZnVyYS5pby9KQ25LNWlmRVBIOXFjUWtYMEFobFwiKSlcbiAgICB0aGlzLmRhdGEgPSB7fVxuICAgIHRoaXMuYml0Y29pbkRhdGEgPSB7fVxuICB9XG5cbiAgc2VuZFRyYW5zYWN0aW9uRXRoKG1vZGFsKSB7XG4gICAgdGhpcy53ZWIzLmV0aC5nZXRCYWxhbmNlKHRoaXMuZGF0YS5hZGRyZXNzKS50aGVuKChyKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBtYWluLnNjb3BlLmJhbGFuY2UgPSB0aGlzLndlYjMudXRpbHMuZnJvbVdlaShyKVxuXG4gICAgICAgIGlmICghbWFpbi5zY29wZS5iYWxhbmNlKSB7XG4gICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCfQktCw0Ygg0LHQsNC70LDQvdGBINC/0YPRgdGCJylcbiAgICAgICAgICBzaG93TWVzcygn0JLQsNGIINCx0LDQu9Cw0L3RgSDQv9GD0YHRgicsIDUsIDApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFpbi5zY29wZS5iYWxhbmNlIDwgbWFpbi5zY29wZS53aXRoZHJhd19ldGhfYW1vdW50KSB7XG4gICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCfQndCwINCy0LDRiNC10Lwg0LHQsNC70LDQvdGB0LUg0L3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INGB0YDQtdC00YHRgtCyJylcbiAgICAgICAgICBzaG93TWVzcygn0J3QsCDQstCw0YjQtdC8INCx0LDQu9Cw0L3RgdC1INC90LXQtNC+0YHRgtCw0YLQvtGH0L3QviDRgdGA0LXQtNGB0YLQsicsIDUsIDApXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMud2ViMy51dGlscy5pc0FkZHJlc3MobWFpbi5zY29wZS53aXRoZHJhd19ldGhfYWRkcmVzcykpIHtcbiAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ9Cd0LUg0LLQtdGA0L3Ri9C5INCw0LTRgNC10YEnKVxuICAgICAgICAgIHNob3dNZXNzKCfQndC1INCy0LXRgNC90YvQuSDQsNC00YDQtdGBJywgNSwgMClcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgZnJvbTogbWFpbi5zY29wZS5hZGRyZXNzLFxuICAgICAgICAgIHRvOiBtYWluLnNjb3BlLndpdGhkcmF3X2V0aF9hZGRyZXNzLFxuICAgICAgICAgIGdhczogXCIyMTAwMFwiLFxuICAgICAgICAgIGdhc1ByaWNlOiBcIjIwMDAwMDAwMDAwXCIsXG4gICAgICAgICAgdmFsdWU6IHRoaXMud2ViMy51dGlscy50b1dlaShtYWluLnNjb3BlLndpdGhkcmF3X2V0aF9hbW91bnQudG9TdHJpbmcoKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud2ViMy5ldGguYWNjb3VudHMuc2lnblRyYW5zYWN0aW9uKHQsbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByaXZhdGVLZXknKSlcbiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53ZWIzLmV0aC5zZW5kU2lnbmVkVHJhbnNhY3Rpb24ocmVzdWx0LnJhd1RyYW5zYWN0aW9uKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKHJlY2VpcHQpID0+IHtcbiAgICAgICAgICAgIHNob3dNZXNzKCdHb29kJywgNSwgMSlcblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvb2QnKVxuXG4gICAgICAgICAgICBjb25zdCBtID0gJChtb2RhbClcblxuICAgICAgICAgICAgaWYgKG0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBtLm1vZGFsKCdoaWRlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKGVycm9yKSlcblxuICAgICAgICAvLyB0aGlzLndlYjMuZXRoLnNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgIC8vICAgZnJvbTogbWFpbi5zY29wZS5hZGRyZXNzLFxuICAgICAgICAvLyAgIHRvOiBtYWluLnNjb3BlLndpdGhkcmF3X2V0aF9hZGRyZXNzLFxuICAgICAgICAvLyAgIGFtb3VudDogdGhpcy53ZWIzLnV0aWxzLnRvV2VpKG1haW4uc2NvcGUud2l0aGRyYXdfZXRoX2Ftb3VudC50b1N0cmluZygpKVxuICAgICAgICAvLyB9KS50aGVuKGZ1bmN0aW9uKGVyciwgcmVzcCkge1xuICAgICAgICAvLyAgIHNob3dNZXNzKCdFcnJvcicsIDUsIDApXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHJlc3ApXG4gICAgICAgIC8vIH0pXG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBtYWluLnNjb3BlLnNob3dFcnJvcihlKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBzZW5kVHJhbnNhY3Rpb25CdGMobW9kYWwpIHtcbiAgICBjb25zdCBuZXd0eCA9IHtcbiAgICAgIGlucHV0czogW1xuICAgICAgICB7XG4gICAgICAgICAgYWRkcmVzc2VzOiBbIG1haW4uc2NvcGUuYml0Y29pbl9hZGRyZXNzIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgb3V0cHV0czogW1xuICAgICAgICB7XG4gICAgICAgICAgYWRkcmVzc2VzOiBbIG1haW4uc2NvcGUud2l0aGRyYXdfYnRjX2FkZHJlc3MgXSxcbiAgICAgICAgICB2YWx1ZTogbWFpbi5zY29wZS53aXRoZHJhd19idGNfYW1vdW50ICogMTAwMDAwMDAwLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9XG5cbiAgICBpZiAobWFpbi5zY29wZS53aXRoZHJhd19idGNfYW1vdW50ID4gbWFpbi5zY29wZS5iaXRjb2luX2JhbGFuY2UpIHtcbiAgICAgIHNob3dNZXNzKCfQndCwINCy0LDRiNC10Lwg0LHQsNC70LDQvdGB0LUg0L3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INGB0YDQtdC00YHRgtCyJywgNSwgMClcbiAgICAgIC8vIGFsZXJ0KCfQndCwINCy0LDRiNC10Lwg0LHQsNC70LDQvdGB0LUg0L3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INGB0YDQtdC00YHRgtCyJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgICQucG9zdCgnaHR0cHM6Ly9hcGkuYmxvY2tjeXBoZXIuY29tL3YxL2J0Yy90ZXN0My90eHMvbmV3JywgSlNPTi5zdHJpbmdpZnkobmV3dHgpKVxuICAgICAgLnRoZW4oKGQpID0+IHtcbiAgICAgICAgLy8gY29udmVydCByZXNwb25zZSBib2R5IHRvIEpTT05cbiAgICAgICAgbGV0IHRtcHR4ID0gIGRcblxuICAgICAgICAvLyBhdHRyaWJ1dGUgdG8gc3RvcmUgcHVibGljIGtleXNcbiAgICAgICAgdG1wdHgucHVia2V5cyA9IFtdXG5cbiAgICAgICAgLy8gYnVpbGQgc2lnbmVyIGZyb20gV0lGXG4gICAgICAgIGxldCBrZXlzID0gbmV3IGJpdGNvaW4uRUNQYWlyLmZyb21XSUYodGhpcy5iaXRjb2luRGF0YS5rZXlQYWlyLnRvV0lGKCksICBiaXRjb2luLm5ldHdvcmtzLnRlc3RuZXQpXG5cbiAgICAgICAgLy8gaXRlcmF0ZSBhbmQgc2lnbiBlYWNoIHRyYW5zYWN0aW9uIGFuZCBhZGQgaXQgaW4gc2lnbmF0dXJlcyB3aGlsZSBzdG9yZSBjb3JyZXNwb25kaW5nIHB1YmxpYyBrZXkgaW4gcHVia2V5c1xuICAgICAgICB0bXB0eC5zaWduYXR1cmVzID0gdG1wdHgudG9zaWduLm1hcCgodG9zaWduLCBuKSA9PiB7XG4gICAgICAgICAgdG1wdHgucHVia2V5cy5wdXNoKGtleXMuZ2V0UHVibGljS2V5QnVmZmVyKCkudG9TdHJpbmcoJ2hleCcpKTtcblxuICAgICAgICAgIHJldHVybiBrZXlzLnNpZ24oQmlnSW50ZWdlci5mcm9tSGV4KHRvc2lnbi50b1N0cmluZygnaGV4JykpLnRvQnVmZmVyKCkpLnRvREVSKCkudG9TdHJpbmcoJ2hleCcpXG4gICAgICAgIH0pXG5cbiAgICAgICAgJC5wb3N0KCdodHRwczovL2FwaS5ibG9ja2N5cGhlci5jb20vdjEvYnRjL3Rlc3QzL3R4cy9zZW5kJyxKU09OLnN0cmluZ2lmeSh0bXB0eCkpLnRoZW4oKHIpID0+IHtcbiAgICAgICAgICBzaG93TWVzcygn0J/Qu9Cw0YLQtdC2INC/0YDQvtGI0LXQuycsIDUsIDEpXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2cocilcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBtID0gJChtb2RhbClcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtLm1vZGFsKCdoaWRlJylcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgLy8gY29uc3QgdHhiID0gbmV3IGJpdGNvaW4uVHJhbnNhY3Rpb25CdWlsZGVyKGJpdGNvaW4ubmV0d29ya3MudGVzdG5ldClcbiAgICAvL1xuICAgIC8vIC8vaHR0cHM6Ly9hcGkuYmxvY2t0cmFpbC5jb20vdjEvYnRjL2FkZHJlc3MvMTdoRm9WU2NOS1ZEZkRUVDZ2VmhqWXd2Q3U2aURFaVhDNC90cmFuc2FjdGlvbnM/YXBpX2tleT1NWV9BUElLRVlcbiAgICAvLyB1cmwgPSAnaHR0cHM6Ly9hcGkuYmxvY2t0cmFpbC5jb20vdjEvdGJ0Yy9hZGRyZXNzLycrbWFpbi5zY29wZS5iaXRjb2luX2FkZHJlc3MrJy91bnNwZW50LW91dHB1dHM/YXBpX2tleT1NWV9BUElLRVknXG4gICAgLy8galF1ZXJ5LmdldEpTT04odXJsLCAocikgPT4ge1xuICAgIC8vICAgdHhiLmFkZElucHV0KHIuZGF0YVswXS5oYXNoLCAxKVxuICAgIC8vICAgdHhiLmFkZE91dHB1dChtYWluLnNjb3BlLndpdGhkcmF3X2J0Y19hZGRyZXNzLCBtYWluLnNjb3BlLndpdGhkcmF3X2J0Y19hbW91bnQgKiAxMDAwMDAwMDApXG4gICAgLy8gICB0eGIuc2lnbigwLCB0aGlzLmJpdGNvaW5EYXRhLmtleVBhaXIpXG4gICAgLy9cbiAgICAvLyAgIGNvbnN0IHB1c2h0eCA9IHtcbiAgICAvLyAgICAgdHg6IHR4Yi5idWlsZCgpLnRvSGV4KClcbiAgICAvLyAgIH1cbiAgICAvL1xuICAgIC8vICAgJC5wb3N0KCdodHRwczovL2FwaS5ibG9ja2N5cGhlci5jb20vdjEvYnRjL3Rlc3QzL3R4cy9wdXNoJywgSlNPTi5zdHJpbmdpZnkocHVzaHR4KSkudGhlbihmdW5jdGlvbiAocikge1xuICAgIC8vXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKHIpXG4gICAgLy8gICB9KVxuICAgIC8vXG4gICAgLy8gfSlcbiAgfVxuXG4gIHNpZ24oKSB7XG4gICAgY29uc3QgcmV0cmlldmVkT2JqZWN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByaXZhdGVLZXknKVxuXG4gICAgaWYgKHJldHJpZXZlZE9iamVjdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy53ZWIzLmV0aC5hY2NvdW50cy5wcml2YXRlS2V5VG9BY2NvdW50KHJldHJpZXZlZE9iamVjdClcblxuICAgICAgICB0aGlzLnNpZ25CaXRjb2luKHJldHJpZXZlZE9iamVjdClcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJzIgdXNlciBjYW50IGxvZ2luJylcbiAgICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy53ZWIzLmV0aC5hY2NvdW50cy5jcmVhdGUoKVxuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcml2YXRlS2V5Jyx0aGlzLmRhdGEucHJpdmF0ZUtleSApXG4gICAgICAgIHRoaXMuc2lnbkJpdGNvaW4odGhpcy5kYXRhLnByaXZhdGVLZXkpXG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCcxIHVzZXIgY2FudCBsb2dpbicpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzaWduQml0Y29pbihrZXkpIHtcbiAgICAvLyBjb25zdCBwdWJsaWNLZXkgPSBrZXlcbiAgICAvLyBjb25zdCBwdWJsaWNLZXlIYXNoID0gYml0Y29pbi5jcnlwdG8uaGFzaDE2MChwdWJsaWNLZXkpXG4gICAgLy8gY29uc3QgYWRkcmVzcyA9ICBiaXRjb2luLmFkZHJlc3MudG9CYXNlNThDaGVjayhwdWJsaWNLZXlIYXNoLCBiaXRjb2luLm5ldHdvcmtzLmJpdGNvaW4ucHViS2V5SGFzaClcbiAgICAvLyBjb25zdCBhZGRyZXNzID0gIGJpdGNvaW4uYWRkcmVzcy50b0Jhc2U1OENoZWNrKHB1YmxpY0tleUhhc2gsIGJpdGNvaW4ubmV0d29ya3MudGVzdG5ldC5wdWJLZXlIYXNoKVxuXG4gICAgY29uc3QgaGFzaCAgICAgID0gYml0Y29pbi5jcnlwdG8uc2hhMjU2KGtleSlcbiAgICBjb25zdCBkICAgICAgICAgPSBCaWdJbnRlZ2VyLmZyb21CdWZmZXIoaGFzaClcbiAgICBjb25zdCBrZXlQYWlyICAgPSBuZXcgYml0Y29pbi5FQ1BhaXIoZCwgbnVsbCwge25ldHdvcms6IGJpdGNvaW4ubmV0d29ya3MudGVzdG5ldH0pXG4gICAgY29uc3QgYWRkcmVzcyAgID0ga2V5UGFpci5nZXRBZGRyZXNzKClcblxuICAgIHRoaXMuYml0Y29pbkRhdGEgPSB7XG4gICAgICBhZGRyZXNzLFxuICAgICAga2V5UGFpcixcbiAgICB9XG4gIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBuZXcgVXNlcigpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbW9kZWxzL3VzZXIuanMiXSwic291cmNlUm9vdCI6IiJ9