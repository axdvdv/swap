<div al-if="data.slug == 'eth-btc'" al-ctrl="ethToBtc">

  <h2 class="mt-5">
    <div al-if="data.secretHash && data.btcScriptData" class="stepPassed"></div>
    2. Ожидаем хомяка когда он создаст секретную фразу и пополнит BTC Swap скрипт
  </h2>

  <div al-if="data.secretHash && data.btcScriptData" class="mt-5">
    <h2 class="mt-5">
      <div al-if="data.btcScriptVerified" class="stepPassed"></div>
      3. Bitcoin Swap скрипт успешно создан и пополнен. Проверьте информацию ниже, если требуется
    </h2>
    <div class="alert alert-warning" role="alert">
      Secret Hash: <strong><a href="" al-copy>{{data.secretHash}}</a></strong>
    </div>
    <div class="alert alert-warning" role="alert">
      <!--div>Баланс <strong>{{data.btcScriptData.balance}}</strong> BTC</div>
      <hr /-->
      Адрес скрипта: <strong><a href="https://www.blocktrail.com/tBTC/address/{{data.btcScriptData.address}}" target="_blank">{{data.btcScriptData.address}}</a></strong>
    </div>
    <pre>
      <code class="code">
  bitcoinjs.script.compile([
    bitcoin.core.opcodes.OP_RIPEMD160,
    Buffer.from('{{data.btcScriptData.secretHash}}', 'hex'),
    bitcoin.core.opcodes.OP_EQUALVERIFY,

    Buffer.from('{{data.btcScriptData.ethOwnerPublicKey}}', 'hex'),
    bitcoin.core.opcodes.OP_EQUAL,
    bitcoin.core.opcodes.OP_IF,

    Buffer.from('{{data.btcScriptData.ethOwnerPublicKey}}', 'hex'),
    bitcoin.core.opcodes.OP_CHECKSIG,

    bitcoin.core.opcodes.OP_ELSE,

    bitcoin.core.script.number.encode({{data.btcScriptData.lockTime}}),
    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,
    bitcoin.core.opcodes.OP_DROP,
    Buffer.from('{{data.btcScriptData.btcOwnerPublicKey}}', 'hex'),
    bitcoin.core.opcodes.OP_CHECKSIG,

    bitcoin.core.opcodes.OP_ENDIF,
  ])
      </code>
    </pre>
    <div class="mt-3" al-if="data.step == 1">
      <button type="button" class="btn btn-primary" @click="goNextStep()">Я проверил</button>
    </div>
  </div>

  <div class="mt-5" al-if="data.step == 2 && data.notEnoughMoney && !data.checkingBalance">
    <h2 class="mb-4">На вашем балансе недостаточно средств для этой сделки. Пополните кошелек</h2>
    <div class="alert alert-warning fs-16" role="alert">
      <div>Баланс <strong>{{data.balance}}</strong> ETH</div>
      <div>Необходимый баланс <strong>{{data.order.sellAmount}}</strong> ETH</div>
      <hr />
      <a href="" al-copy title="скопировать в буффер">{{data.address}}</a>
    </div>
    <br />
    <button type="button" class="btn btn-primary" @click="updateBalance()">Я пополнил, давай проверяй и погнали дальше!</button>
  </div>

  <h2 al-if="data.step == 2 && data.checkingBalance" class="mt-5">
    Проверяем баланс
  </h2>

  <h2 al-if="data.step == 3 || data.isEthSwapCreated" class="mt-5">
    <div al-if="data.isEthSwapCreated" class="stepPassed"></div>
    4. Создаем Ethereum Swap. Подождите, это займет некоторое время
  </h2>
  <div class="mt-4" al-if="data.step == 3">
    <div al-if="data.ethSwapCreationTransactionHash" class="alert alert-warning" role="alert">
      Транзакция: <strong><a href="{{data.ethSwapCreationTransactionHash}}" target="_blank">{{data.ethSwapCreationTransactionHash}}</a></strong>
    </div>
  </div>

  <h2 al-if="data.step == 4 || data.isEthWithdrawn" class="mt-5">
    <div al-if="data.isEthWithdrawn" class="stepPassed"></div>
    5. Ожидаем хомяка когда он передаст секретную фразу в созданный ETH Swap контракт
  </h2>

  <h2 al-if="data.step == 5" class="mt-5">
    <div al-if="data.btcScriptData" class="stepPassed"></div>
    6. Участник сделки забрал деньги с ETH Swap контракта и передал секретный ключ. Забираем деньги с BTC Swap скрипта. Ожидайте
  </h2>
  <div al-if="data.step == 5 && data.ethSwapCreationTransactionHash" class="alert alert-warning mt-4" role="alert">
    Транзакция: <strong><a href="https://www.blocktrail.com/tBTC/tx/{{data.btcSwapWithdrawTransactionHash}}" target="_blank">{{data.btcSwapWithdrawTransactionHash}}</a></strong>
  </div>

  <div al-if="data.step > 2 && data.step != 6" class="loader small mt-4">
    <div class="loader1"></div>
    <div class="loader2"></div>
    <div class="loader3"></div>
  </div>

  <h2 al-if="data.isWithdrawn" class="mt-5">
    <div  class="stepPassed"></div>
    7. Деньги переведены на Ваш счет. Спасибо за использование сервиса Swap.Online!
  </h2>

</div>
